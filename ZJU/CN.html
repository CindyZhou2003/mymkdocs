
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Cindy的笔记本">
      
      
      
        <link rel="canonical" href="https://cindyzhou2003.github.io/mymkdocs/ZJU/CN.html">
      
      
        <link rel="prev" href="OS.html">
      
      
        <link rel="next" href="%E6%AF%9B%E6%A6%82.html">
      
      
      <link rel="icon" href="../assets/images/favcion.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>计算机网络 - Cindy的笔记本</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=LXGW+WenKai:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"LXGW WenKai";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="../css/extra.css">
    
      <link rel="stylesheet" href="../css/neoteroi-mkdocs.css">
    
      <link rel="stylesheet" href="../css/style.css">
    
      <link rel="stylesheet" href="../css/font.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="forest" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#computer-network" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href=".." title="Cindy的笔记本" class="md-header__button md-logo" aria-label="Cindy的笔记本" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M384 512H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h304c26.5 0 48 21.5 48 48v288c0 20.9-13.4 38.7-32 45.3V448c17.7 0 32 14.3 32 32s-14.3 32-32 32zM96 384c-17.7 0-32 14.3-32 32s14.3 32 32 32h256v-64zm32-232c0 13.3 10.7 24 24 24h176c13.3 0 24-10.7 24-24s-10.7-24-24-24H152c-13.3 0-24 10.7-24 24m24 72c-13.3 0-24 10.7-24 24s10.7 24 24 24h176c13.3 0 24-10.7 24-24s-10.7-24-24-24z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cindy的笔记本
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              计算机网络
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="forest" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="forest-dark" data-md-color-primary="Brown" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/CindyZhou2003/mymkdocs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Cindy's notebook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../index.html" class="md-tabs__link">
          
  
  
    
  
  主页🤖

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="DM.html" class="md-tabs__link">
          
  
  
    
  
  ZJU-SE课程📝

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../UIUC/ECE408.html" class="md-tabs__link">
          
  
  
    
  
  UIUC-MEng courses📚

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../skills/Algorithm.html" class="md-tabs__link">
          
  
  
    
  
  技能⚙️

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../abroad/IELTs_speaking1.html" class="md-tabs__link">
          
  
  
    
  
  出国✈️

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../work/Interview.html" class="md-tabs__link">
          
  
  
    
  
  找工

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../other/test.html" class="md-tabs__link">
          
  
  
    
  
  其他🎊

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Cindy的笔记本" class="md-nav__button md-logo" aria-label="Cindy的笔记本" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M384 512H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h304c26.5 0 48 21.5 48 48v288c0 20.9-13.4 38.7-32 45.3V448c17.7 0 32 14.3 32 32s-14.3 32-32 32zM96 384c-17.7 0-32 14.3-32 32s14.3 32 32 32h256v-64zm32-232c0 13.3 10.7 24 24 24h176c13.3 0 24-10.7 24-24s-10.7-24-24-24H152c-13.3 0-24 10.7-24 24m24 72c-13.3 0-24 10.7-24 24s10.7 24 24 24h176c13.3 0 24-10.7 24-24s-10.7-24-24-24z"/></svg>

    </a>
    Cindy的笔记本
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/CindyZhou2003/mymkdocs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Cindy's notebook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../index.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    主页🤖
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            主页🤖
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    ZJU-SE课程📝
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            ZJU-SE课程📝
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    大一春夏
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            大一春夏
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="DM.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    离散数学及其应用
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    大二秋冬
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            大二秋冬
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="OOP.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    面向对象程序设计
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="FDS.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数据结构基础
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    大二春夏
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            大二春夏
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    高级数据结构与算法分析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="DB.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数据库系统
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ML.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    机器学习（国际化）
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="PIS.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    信息安全原理
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    大三秋冬
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            大三秋冬
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="OS.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    操作系统
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    计算机网络
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="CN.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    计算机网络
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      引言
    </span>
  </a>
  
    <nav class="md-nav" aria-label="引言">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      初识互联网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      网络实例
    </span>
  </a>
  
    <nav class="md-nav" aria-label="网络实例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      网络分类（按地域规模）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      网络组成
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      数据交换方式
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      协议和分层结构
    </span>
  </a>
  
    <nav class="md-nav" aria-label="协议和分层结构">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      协议设计目的
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      服务原语
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      服务与协议的关系
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      参考模型
    </span>
  </a>
  
    <nav class="md-nav" aria-label="参考模型">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#osi" class="md-nav__link">
    <span class="md-ellipsis">
      OSI 参考模型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpip" class="md-nav__link">
    <span class="md-ellipsis">
      TCP/IP 参考模型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osi-tcpip" class="md-nav__link">
    <span class="md-ellipsis">
      OSI 模型 TCP/IP 模型对比
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      模型与网络实例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      计算机网络度量单位
    </span>
  </a>
  
    <nav class="md-nav" aria-label="计算机网络度量单位">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bit-rate" class="md-nav__link">
    <span class="md-ellipsis">
      速率/比特率(bit rate)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baud-rate" class="md-nav__link">
    <span class="md-ellipsis">
      波特率(baud rate)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bandwidth" class="md-nav__link">
    <span class="md-ellipsis">
      带宽(bandwidth)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pps" class="md-nav__link">
    <span class="md-ellipsis">
      包转发率(PPS)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delay" class="md-nav__link">
    <span class="md-ellipsis">
      时延(Delay)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rttround-trip-time" class="md-nav__link">
    <span class="md-ellipsis">
      往返时延 RTT(Round-Trip Time)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      时延带宽积
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      网络安全威胁
    </span>
  </a>
  
    <nav class="md-nav" aria-label="网络安全威胁">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#denial-of-service-dos-attack" class="md-nav__link">
    <span class="md-ellipsis">
      拒绝服务攻击(Denial-of-Service (DoS) attack)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#botnet" class="md-nav__link">
    <span class="md-ellipsis">
      僵尸网络 （Botnet）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      如何防御
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      标准化组织
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      互联网发展史与启示
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      其他
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      物理层
    </span>
  </a>
  
    <nav class="md-nav" aria-label="物理层">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      物理层基本概念
    </span>
  </a>
  
    <nav class="md-nav" aria-label="物理层基本概念">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      物理层功能
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      物理层特性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      物理层标准及示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      数据通信基础
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据通信基础">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      数据通信基础理论
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    <span class="md-ellipsis">
      信道的最大数据传输速率
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    <span class="md-ellipsis">
      数据通信系统模型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_43" class="md-nav__link">
    <span class="md-ellipsis">
      频带传输
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_44" class="md-nav__link">
    <span class="md-ellipsis">
      传输介质
    </span>
  </a>
  
    <nav class="md-nav" aria-label="传输介质">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_45" class="md-nav__link">
    <span class="md-ellipsis">
      分类
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_47" class="md-nav__link">
    <span class="md-ellipsis">
      无线与卫星通信
    </span>
  </a>
  
    <nav class="md-nav" aria-label="无线与卫星通信">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_48" class="md-nav__link">
    <span class="md-ellipsis">
      无线
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_49" class="md-nav__link">
    <span class="md-ellipsis">
      卫星通信（不做很高的要求）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_50" class="md-nav__link">
    <span class="md-ellipsis">
      中继器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_51" class="md-nav__link">
    <span class="md-ellipsis">
      其他
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_52" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路层">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_53" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层的设计问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路层的设计问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_54" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层在协议栈中的位置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_55" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层的功能
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_56" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层提供的服务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#framing" class="md-nav__link">
    <span class="md-ellipsis">
      成帧 framing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_57" class="md-nav__link">
    <span class="md-ellipsis">
      差错控制
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_58" class="md-nav__link">
    <span class="md-ellipsis">
      流量控制
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_59" class="md-nav__link">
    <span class="md-ellipsis">
      差错检测和纠正
    </span>
  </a>
  
    <nav class="md-nav" aria-label="差错检测和纠正">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#error-detecting-code" class="md-nav__link">
    <span class="md-ellipsis">
      检错码（error-detecting code）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-correcting-code" class="md-nav__link">
    <span class="md-ellipsis">
      纠错码（error-correcting code)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hamming-distance" class="md-nav__link">
    <span class="md-ellipsis">
      海明距离 (Hamming distance)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_60" class="md-nav__link">
    <span class="md-ellipsis">
      典型检错码
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hamming-code" class="md-nav__link">
    <span class="md-ellipsis">
      海明码 hamming code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convolutional-code" class="md-nav__link">
    <span class="md-ellipsis">
      卷积码 Convolutional Code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trellis-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      Trellis diagram
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_63" class="md-nav__link">
    <span class="md-ellipsis">
      基本的数据链路层协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="基本的数据链路层协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_64" class="md-nav__link">
    <span class="md-ellipsis">
      关键假设
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_65" class="md-nav__link">
    <span class="md-ellipsis">
      基本的协议定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_66" class="md-nav__link">
    <span class="md-ellipsis">
      乌托邦式单工协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-" class="md-nav__link">
    <span class="md-ellipsis">
      无错信道单工停止-等待协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-_1" class="md-nav__link">
    <span class="md-ellipsis">
      有错信道单工停止-等待协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_67" class="md-nav__link">
    <span class="md-ellipsis">
      停等协议的性能问题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_68" class="md-nav__link">
    <span class="md-ellipsis">
      滑动窗口协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="滑动窗口协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_69" class="md-nav__link">
    <span class="md-ellipsis">
      滑动窗口协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-_2" class="md-nav__link">
    <span class="md-ellipsis">
      停止-等待协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#n-gbn-5" class="md-nav__link">
    <span class="md-ellipsis">
      回退 N 协议(GBN)（协议 5）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-and-repeatsr-6" class="md-nav__link">
    <span class="md-ellipsis">
      选择重传协议 select and repeat(SR)（协议 6）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_74" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路协议实例
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路协议实例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ppppoint-to-point-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      点到点链路层协议 PPP（Point to Point Protocol）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pppoe" class="md-nav__link">
    <span class="md-ellipsis">
      PPPoE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mac" class="md-nav__link">
    <span class="md-ellipsis">
      介质访问子层 MAC
    </span>
  </a>
  
    <nav class="md-nav" aria-label="介质访问子层 MAC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_75" class="md-nav__link">
    <span class="md-ellipsis">
      信道分配问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="信道分配问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_76" class="md-nav__link">
    <span class="md-ellipsis">
      子信道的平均延迟
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_77" class="md-nav__link">
    <span class="md-ellipsis">
      静态分配的特点
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_78" class="md-nav__link">
    <span class="md-ellipsis">
      多路复用技术
    </span>
  </a>
  
    <nav class="md-nav" aria-label="多路复用技术">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fdm" class="md-nav__link">
    <span class="md-ellipsis">
      频分复用(FDM)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ofdm" class="md-nav__link">
    <span class="md-ellipsis">
      正交频分复用(OFDM) （细节不用掌握）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tdmstdm" class="md-nav__link">
    <span class="md-ellipsis">
      时分复用(TDM)与统计时分复用(STDM)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wdm" class="md-nav__link">
    <span class="md-ellipsis">
      波分复用(WDM)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cdma" class="md-nav__link">
    <span class="md-ellipsis">
      码分复用(CDMA)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_79" class="md-nav__link">
    <span class="md-ellipsis">
      空分复用
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_80" class="md-nav__link">
    <span class="md-ellipsis">
      多路访问协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="多路访问协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_81" class="md-nav__link">
    <span class="md-ellipsis">
      随机访问协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_82" class="md-nav__link">
    <span class="md-ellipsis">
      受控访问协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_88" class="md-nav__link">
    <span class="md-ellipsis">
      有限竞争协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lan" class="md-nav__link">
    <span class="md-ellipsis">
      无线 LAN 协议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_89" class="md-nav__link">
    <span class="md-ellipsis">
      以太网
    </span>
  </a>
  
    <nav class="md-nav" aria-label="以太网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_90" class="md-nav__link">
    <span class="md-ellipsis">
      经典以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_92" class="md-nav__link">
    <span class="md-ellipsis">
      交换式以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_93" class="md-nav__link">
    <span class="md-ellipsis">
      快速以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_96" class="md-nav__link">
    <span class="md-ellipsis">
      以太网的未来
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_97" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层交换
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路层交换">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_98" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层交换原理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_100" class="md-nav__link">
    <span class="md-ellipsis">
      链路层交换机
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_104" class="md-nav__link">
    <span class="md-ellipsis">
      生成树协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vlan" class="md-nav__link">
    <span class="md-ellipsis">
      虚拟局域网（VLAN）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wlan" class="md-nav__link">
    <span class="md-ellipsis">
      无线局域网 WLAN
    </span>
  </a>
  
    <nav class="md-nav" aria-label="无线局域网 WLAN">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_107" class="md-nav__link">
    <span class="md-ellipsis">
      无线局域网概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_108" class="md-nav__link">
    <span class="md-ellipsis">
      无线局域网组网模式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#80211_1" class="md-nav__link">
    <span class="md-ellipsis">
      802.11 介质访问控制
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#80211_2" class="md-nav__link">
    <span class="md-ellipsis">
      802.11 帧结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_110" class="md-nav__link">
    <span class="md-ellipsis">
      无线局域网的构建与管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wi-fi6" class="md-nav__link">
    <span class="md-ellipsis">
      Wi-Fi6 核心技术概览
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wan" class="md-nav__link">
    <span class="md-ellipsis">
      广域网 WAN
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_111" class="md-nav__link">
    <span class="md-ellipsis">
      网络层 🔥
    </span>
  </a>
  
    <nav class="md-nav" aria-label="网络层 🔥">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_112" class="md-nav__link">
    <span class="md-ellipsis">
      网络层服务
    </span>
  </a>
  
    <nav class="md-nav" aria-label="网络层服务">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_113" class="md-nav__link">
    <span class="md-ellipsis">
      网络层服务概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_114" class="md-nav__link">
    <span class="md-ellipsis">
      网络层的关键功能
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_117" class="md-nav__link">
    <span class="md-ellipsis">
      提供给传输层的服务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_120" class="md-nav__link">
    <span class="md-ellipsis">
      虚电路和数据报网络的比较
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internet-ip" class="md-nav__link">
    <span class="md-ellipsis">
      Internet 网际协议(IP)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Internet 网际协议(IP)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ipv4" class="md-nav__link">
    <span class="md-ellipsis">
      IPv4
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dhcp" class="md-nav__link">
    <span class="md-ellipsis">
      DHCP 动态主机配置协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ip-mac" class="md-nav__link">
    <span class="md-ellipsis">
      IP 与 MAC 地址
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arp-address-resolution-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      ARP 地址解析协议（Address Resolution Protocol）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#natnetwork-address-translation" class="md-nav__link">
    <span class="md-ellipsis">
      NAT(Network Address Translation)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#icmpinternet" class="md-nav__link">
    <span class="md-ellipsis">
      ICMP（Internet 控制报文协议）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_128" class="md-nav__link">
    <span class="md-ellipsis">
      路由算法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="路由算法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_129" class="md-nav__link">
    <span class="md-ellipsis">
      优化原则
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distance-vector" class="md-nav__link">
    <span class="md-ellipsis">
      距离向量路由算法 Distance vector
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_130" class="md-nav__link">
    <span class="md-ellipsis">
      链路状态路由算法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_131" class="md-nav__link">
    <span class="md-ellipsis">
      层次路由
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#broadcasting" class="md-nav__link">
    <span class="md-ellipsis">
      广播路由 Broadcasting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multicasting" class="md-nav__link">
    <span class="md-ellipsis">
      组播路由 multicasting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anycast" class="md-nav__link">
    <span class="md-ellipsis">
      选播路由 Anycast
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internet" class="md-nav__link">
    <span class="md-ellipsis">
      Internet 路由协议 🔥
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Internet 路由协议 🔥">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#opsf-igp" class="md-nav__link">
    <span class="md-ellipsis">
      OPSF 开放路径优先协议(IGP)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rip-igp" class="md-nav__link">
    <span class="md-ellipsis">
      RIP 路由选择协议(IGP)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bgp-egp" class="md-nav__link">
    <span class="md-ellipsis">
      BGP 边界网关协议(EGP)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mpls" class="md-nav__link">
    <span class="md-ellipsis">
      标签交换和 MPLS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_134" class="md-nav__link">
    <span class="md-ellipsis">
      路由器
    </span>
  </a>
  
    <nav class="md-nav" aria-label="路由器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_135" class="md-nav__link">
    <span class="md-ellipsis">
      概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_136" class="md-nav__link">
    <span class="md-ellipsis">
      控制层
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_137" class="md-nav__link">
    <span class="md-ellipsis">
      数据层
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_138" class="md-nav__link">
    <span class="md-ellipsis">
      拥塞控制算法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="拥塞控制算法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_139" class="md-nav__link">
    <span class="md-ellipsis">
      拥塞控制概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_140" class="md-nav__link">
    <span class="md-ellipsis">
      流量感知路由
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_141" class="md-nav__link">
    <span class="md-ellipsis">
      流量调节
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_142" class="md-nav__link">
    <span class="md-ellipsis">
      随机早期检测
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_143" class="md-nav__link">
    <span class="md-ellipsis">
      服务质量
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpn" class="md-nav__link">
    <span class="md-ellipsis">
      三层交换与 VPN
    </span>
  </a>
  
    <nav class="md-nav" aria-label="三层交换与 VPN">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_144" class="md-nav__link">
    <span class="md-ellipsis">
      三层交换
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpn_1" class="md-nav__link">
    <span class="md-ellipsis">
      VPN 技术
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipv6" class="md-nav__link">
    <span class="md-ellipsis">
      IPv6 技术（需要掌握）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IPv6 技术（需要掌握）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ipv6_1" class="md-nav__link">
    <span class="md-ellipsis">
      IPV6 头部
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipv6_2" class="md-nav__link">
    <span class="md-ellipsis">
      IPv6 扩展头
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_145" class="md-nav__link">
    <span class="md-ellipsis">
      邻居发现
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipv6_3" class="md-nav__link">
    <span class="md-ellipsis">
      IPv6 地址及配置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipv4-ipv6" class="md-nav__link">
    <span class="md-ellipsis">
      IPv4 到 IPv6 迁移及过渡技术
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_148" class="md-nav__link">
    <span class="md-ellipsis">
      传输层​🔥​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="传输层​🔥​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_149" class="md-nav__link">
    <span class="md-ellipsis">
      概述和传输层服务
    </span>
  </a>
  
    <nav class="md-nav" aria-label="概述和传输层服务">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_150" class="md-nav__link">
    <span class="md-ellipsis">
      传输层的位置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_151" class="md-nav__link">
    <span class="md-ellipsis">
      不同终端上的进程如何通信？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_152" class="md-nav__link">
    <span class="md-ellipsis">
      传输层提供什么服务？
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_153" class="md-nav__link">
    <span class="md-ellipsis">
      套接字编程
    </span>
  </a>
  
    <nav class="md-nav" aria-label="套接字编程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_154" class="md-nav__link">
    <span class="md-ellipsis">
      网络应用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_155" class="md-nav__link">
    <span class="md-ellipsis">
      进程如何标识自己
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#socket-api" class="md-nav__link">
    <span class="md-ellipsis">
      应用编程接口：socket API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#socket" class="md-nav__link">
    <span class="md-ellipsis">
      创建套接字：socket()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_156" class="md-nav__link">
    <span class="md-ellipsis">
      套接字描述符
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#udp" class="md-nav__link">
    <span class="md-ellipsis">
      使用 UDP 套接字实现回音服务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp" class="md-nav__link">
    <span class="md-ellipsis">
      使用 TCP 套接字实现回音服务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_159" class="md-nav__link">
    <span class="md-ellipsis">
      套接字标识与端口号
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_161" class="md-nav__link">
    <span class="md-ellipsis">
      传输层复用和分用
    </span>
  </a>
  
    <nav class="md-nav" aria-label="传输层复用和分用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#udp_1" class="md-nav__link">
    <span class="md-ellipsis">
      UDP 套接字
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_2" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 套接字
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#udp_2" class="md-nav__link">
    <span class="md-ellipsis">
      无连接传输：UDP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="无连接传输：UDP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#udp_3" class="md-nav__link">
    <span class="md-ellipsis">
      UDP 概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#udp_4" class="md-nav__link">
    <span class="md-ellipsis">
      UDP 报文段结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_162" class="md-nav__link">
    <span class="md-ellipsis">
      校验和计算
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#udp_5" class="md-nav__link">
    <span class="md-ellipsis">
      为什么需要 UDP？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_163" class="md-nav__link">
    <span class="md-ellipsis">
      题目
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_3" class="md-nav__link">
    <span class="md-ellipsis">
      面向连接的传输：TCP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="面向连接的传输：TCP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tcp_4" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_5" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 报文段结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_6" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 可靠数据传输
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_11" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 流量控制
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_13" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 连接管理
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_20" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 拥塞控制
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TCP 拥塞控制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_170" class="md-nav__link">
    <span class="md-ellipsis">
      网络拥塞
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_171" class="md-nav__link">
    <span class="md-ellipsis">
      拥塞检测和速率限制
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aimd" class="md-nav__link">
    <span class="md-ellipsis">
      拥塞窗口的调节策略：AIMD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_21" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 慢启动
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_22" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 拥塞控制的实现
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_173" class="md-nav__link">
    <span class="md-ellipsis">
      拥塞控制的发展
    </span>
  </a>
  
    <nav class="md-nav" aria-label="拥塞控制的发展">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tcp-cubic" class="md-nav__link">
    <span class="md-ellipsis">
      TCP CUBIC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google-bbr" class="md-nav__link">
    <span class="md-ellipsis">
      Google BBR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-center-tcp" class="md-nav__link">
    <span class="md-ellipsis">
      Data Center TCP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dccp" class="md-nav__link">
    <span class="md-ellipsis">
      DCCP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_178" class="md-nav__link">
    <span class="md-ellipsis">
      传输层协议的发展
    </span>
  </a>
  
    <nav class="md-nav" aria-label="传输层协议的发展">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mptcp" class="md-nav__link">
    <span class="md-ellipsis">
      MPTCP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quic" class="md-nav__link">
    <span class="md-ellipsis">
      QUIC
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_179" class="md-nav__link">
    <span class="md-ellipsis">
      应用层
    </span>
  </a>
  
    <nav class="md-nav" aria-label="应用层">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_180" class="md-nav__link">
    <span class="md-ellipsis">
      应用层概述
    </span>
  </a>
  
    <nav class="md-nav" aria-label="应用层概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_181" class="md-nav__link">
    <span class="md-ellipsis">
      应用进程通信方式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_182" class="md-nav__link">
    <span class="md-ellipsis">
      服务器进程工作方式
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns" class="md-nav__link">
    <span class="md-ellipsis">
      域名系统 DNS 🔥
    </span>
  </a>
  
    <nav class="md-nav" aria-label="域名系统 DNS 🔥">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_183" class="md-nav__link">
    <span class="md-ellipsis">
      历史和概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_184" class="md-nav__link">
    <span class="md-ellipsis">
      域名系统名字空间和层次结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_187" class="md-nav__link">
    <span class="md-ellipsis">
      域名服务器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_191" class="md-nav__link">
    <span class="md-ellipsis">
      域名解析过程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_193" class="md-nav__link">
    <span class="md-ellipsis">
      域名系统查询和响应
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_194" class="md-nav__link">
    <span class="md-ellipsis">
      域名系统高速缓存
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_195" class="md-nav__link">
    <span class="md-ellipsis">
      域名系统隐私(选讲)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_196" class="md-nav__link">
    <span class="md-ellipsis">
      电子邮件 🔥
    </span>
  </a>
  
    <nav class="md-nav" aria-label="电子邮件 🔥">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_197" class="md-nav__link">
    <span class="md-ellipsis">
      电子邮件系统体系结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_198" class="md-nav__link">
    <span class="md-ellipsis">
      邮件格式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_199" class="md-nav__link">
    <span class="md-ellipsis">
      最终交付协议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#www" class="md-nav__link">
    <span class="md-ellipsis">
      WWW🔥
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WWW🔥">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#www_1" class="md-nav__link">
    <span class="md-ellipsis">
      WWW 体系结构概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web" class="md-nav__link">
    <span class="md-ellipsis">
      静态 Web（对象）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web-web" class="md-nav__link">
    <span class="md-ellipsis">
      动态 Web 和 Web 应用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP 协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web-web_1" class="md-nav__link">
    <span class="md-ellipsis">
      Web 缓存技术与 Web 代理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web_4" class="md-nav__link">
    <span class="md-ellipsis">
      Web 安全与隐私
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_204" class="md-nav__link">
    <span class="md-ellipsis">
      流式音频和视频
    </span>
  </a>
  
    <nav class="md-nav" aria-label="流式音频和视频">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_205" class="md-nav__link">
    <span class="md-ellipsis">
      流媒体概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_206" class="md-nav__link">
    <span class="md-ellipsis">
      数字音视频与编码
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_207" class="md-nav__link">
    <span class="md-ellipsis">
      直播与实时音视频
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_208" class="md-nav__link">
    <span class="md-ellipsis">
      内容分发
    </span>
  </a>
  
    <nav class="md-nav" aria-label="内容分发">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#internet_1" class="md-nav__link">
    <span class="md-ellipsis">
      内容和 Internet 流量
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web_6" class="md-nav__link">
    <span class="md-ellipsis">
      服务器群和 Web 代理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cdn" class="md-nav__link">
    <span class="md-ellipsis">
      内容分发网络 CDN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#p2p" class="md-nav__link">
    <span class="md-ellipsis">
      P2P 网络实现内容分发
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_209" class="md-nav__link">
    <span class="md-ellipsis">
      其它应用层协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="其它应用层协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#telnet" class="md-nav__link">
    <span class="md-ellipsis">
      Telnet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ftp" class="md-nav__link">
    <span class="md-ellipsis">
      FTP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snmp" class="md-nav__link">
    <span class="md-ellipsis">
      SNMP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_210" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_211" class="md-nav__link">
    <span class="md-ellipsis">
      网络安全
    </span>
  </a>
  
    <nav class="md-nav" aria-label="网络安全">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_212" class="md-nav__link">
    <span class="md-ellipsis">
      网络安全的基本属性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_213" class="md-nav__link">
    <span class="md-ellipsis">
      网络攻击与威胁
    </span>
  </a>
  
    <nav class="md-nav" aria-label="网络攻击与威胁">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_214" class="md-nav__link">
    <span class="md-ellipsis">
      窃听
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_215" class="md-nav__link">
    <span class="md-ellipsis">
      嗅探
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arp" class="md-nav__link">
    <span class="md-ellipsis">
      ARP 协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deny-of-service" class="md-nav__link">
    <span class="md-ellipsis">
      拒绝服务攻击（Deny of Service）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_217" class="md-nav__link">
    <span class="md-ellipsis">
      放大攻击
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mac-flooding" class="md-nav__link">
    <span class="md-ellipsis">
      MAC Flooding
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_218" class="md-nav__link">
    <span class="md-ellipsis">
      安全机制与手段
    </span>
  </a>
  
    <nav class="md-nav" aria-label="安全机制与手段">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_219" class="md-nav__link">
    <span class="md-ellipsis">
      密码学
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_220" class="md-nav__link">
    <span class="md-ellipsis">
      现代加密算法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_223" class="md-nav__link">
    <span class="md-ellipsis">
      数字签名与报文完整性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_225" class="md-nav__link">
    <span class="md-ellipsis">
      认证协议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_226" class="md-nav__link">
    <span class="md-ellipsis">
      电子邮件安全
    </span>
  </a>
  
    <nav class="md-nav" aria-label="电子邮件安全">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_227" class="md-nav__link">
    <span class="md-ellipsis">
      安全电子邮件属性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pgp" class="md-nav__link">
    <span class="md-ellipsis">
      优良保密协议 PGP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#smime" class="md-nav__link">
    <span class="md-ellipsis">
      安全多功能互联网邮件扩展 S/MIME
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web_7" class="md-nav__link">
    <span class="md-ellipsis">
      Web 安全
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Web 安全">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_228" class="md-nav__link">
    <span class="md-ellipsis">
      定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_229" class="md-nav__link">
    <span class="md-ellipsis">
      风险分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_230" class="md-nav__link">
    <span class="md-ellipsis">
      常见攻击方式
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_231" class="md-nav__link">
    <span class="md-ellipsis">
      通信安全
    </span>
  </a>
  
    <nav class="md-nav" aria-label="通信安全">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_232" class="md-nav__link">
    <span class="md-ellipsis">
      传输层安全
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_233" class="md-nav__link">
    <span class="md-ellipsis">
      网络层安全
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_234" class="md-nav__link">
    <span class="md-ellipsis">
      虚拟专用网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_235" class="md-nav__link">
    <span class="md-ellipsis">
      无线安全
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_236" class="md-nav__link">
    <span class="md-ellipsis">
      系统与运行安全
    </span>
  </a>
  
    <nav class="md-nav" aria-label="系统与运行安全">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_237" class="md-nav__link">
    <span class="md-ellipsis">
      防火墙
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_238" class="md-nav__link">
    <span class="md-ellipsis">
      沙盒与隔离
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_239" class="md-nav__link">
    <span class="md-ellipsis">
      安全技术前沿与未来发展
    </span>
  </a>
  
    <nav class="md-nav" aria-label="安全技术前沿与未来发展">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_240" class="md-nav__link">
    <span class="md-ellipsis">
      量子密码
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_241" class="md-nav__link">
    <span class="md-ellipsis">
      物联网安全
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_242" class="md-nav__link">
    <span class="md-ellipsis">
      应急响应
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_243" class="md-nav__link">
    <span class="md-ellipsis">
      风险评估
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_244" class="md-nav__link">
    <span class="md-ellipsis">
      等级保护
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ppt" class="md-nav__link">
    <span class="md-ellipsis">
      PPT 例题
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="%E6%AF%9B%E6%A6%82.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    毛概
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="IoT.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    物联网技术基础与应用开发
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="SQAT.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    软件质量与保证测试
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    大三春夏
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            大三春夏
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CLDF.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数字逻辑设计
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="%E4%B9%A0%E6%A6%82.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    习概
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UIUC-MEng courses📚
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            UIUC-MEng courses📚
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Fall 2025
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Fall 2025
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UIUC/ECE408.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ECE408/CS483 Applied Parallel Programming
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UIUC/ECE448.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ECE448/CS440 Artificial Intelligence
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UIUC/ECE598.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ECE498/598 Deep Generative Models
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    技能⚙️
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            技能⚙️
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../skills/Algorithm.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    算法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../skills/deeplearning.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    深度学习
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    出国✈️
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            出国✈️
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    雅思口语
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            雅思口语
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../abroad/IELTs_speaking1.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第一次
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../abroad/IELTs_speaking2.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第二次
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../abroad/IELTs_writing.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    雅思作文
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    找工
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            找工
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work/Interview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    面试
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    其他🎊
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            其他🎊
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../other/test.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Test
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../other/Debug_issue.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    部署网站时的问题
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      引言
    </span>
  </a>
  
    <nav class="md-nav" aria-label="引言">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      初识互联网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      网络实例
    </span>
  </a>
  
    <nav class="md-nav" aria-label="网络实例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      网络分类（按地域规模）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      网络组成
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      数据交换方式
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      协议和分层结构
    </span>
  </a>
  
    <nav class="md-nav" aria-label="协议和分层结构">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      协议设计目的
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      服务原语
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      服务与协议的关系
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      参考模型
    </span>
  </a>
  
    <nav class="md-nav" aria-label="参考模型">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#osi" class="md-nav__link">
    <span class="md-ellipsis">
      OSI 参考模型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpip" class="md-nav__link">
    <span class="md-ellipsis">
      TCP/IP 参考模型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osi-tcpip" class="md-nav__link">
    <span class="md-ellipsis">
      OSI 模型 TCP/IP 模型对比
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      模型与网络实例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      计算机网络度量单位
    </span>
  </a>
  
    <nav class="md-nav" aria-label="计算机网络度量单位">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bit-rate" class="md-nav__link">
    <span class="md-ellipsis">
      速率/比特率(bit rate)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baud-rate" class="md-nav__link">
    <span class="md-ellipsis">
      波特率(baud rate)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bandwidth" class="md-nav__link">
    <span class="md-ellipsis">
      带宽(bandwidth)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pps" class="md-nav__link">
    <span class="md-ellipsis">
      包转发率(PPS)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delay" class="md-nav__link">
    <span class="md-ellipsis">
      时延(Delay)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rttround-trip-time" class="md-nav__link">
    <span class="md-ellipsis">
      往返时延 RTT(Round-Trip Time)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      时延带宽积
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      网络安全威胁
    </span>
  </a>
  
    <nav class="md-nav" aria-label="网络安全威胁">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#denial-of-service-dos-attack" class="md-nav__link">
    <span class="md-ellipsis">
      拒绝服务攻击(Denial-of-Service (DoS) attack)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#botnet" class="md-nav__link">
    <span class="md-ellipsis">
      僵尸网络 （Botnet）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      如何防御
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      标准化组织
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      互联网发展史与启示
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      其他
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      物理层
    </span>
  </a>
  
    <nav class="md-nav" aria-label="物理层">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      物理层基本概念
    </span>
  </a>
  
    <nav class="md-nav" aria-label="物理层基本概念">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      物理层功能
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      物理层特性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      物理层标准及示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      数据通信基础
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据通信基础">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      数据通信基础理论
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    <span class="md-ellipsis">
      信道的最大数据传输速率
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    <span class="md-ellipsis">
      数据通信系统模型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_43" class="md-nav__link">
    <span class="md-ellipsis">
      频带传输
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_44" class="md-nav__link">
    <span class="md-ellipsis">
      传输介质
    </span>
  </a>
  
    <nav class="md-nav" aria-label="传输介质">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_45" class="md-nav__link">
    <span class="md-ellipsis">
      分类
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_47" class="md-nav__link">
    <span class="md-ellipsis">
      无线与卫星通信
    </span>
  </a>
  
    <nav class="md-nav" aria-label="无线与卫星通信">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_48" class="md-nav__link">
    <span class="md-ellipsis">
      无线
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_49" class="md-nav__link">
    <span class="md-ellipsis">
      卫星通信（不做很高的要求）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_50" class="md-nav__link">
    <span class="md-ellipsis">
      中继器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_51" class="md-nav__link">
    <span class="md-ellipsis">
      其他
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_52" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路层">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_53" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层的设计问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路层的设计问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_54" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层在协议栈中的位置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_55" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层的功能
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_56" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层提供的服务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#framing" class="md-nav__link">
    <span class="md-ellipsis">
      成帧 framing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_57" class="md-nav__link">
    <span class="md-ellipsis">
      差错控制
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_58" class="md-nav__link">
    <span class="md-ellipsis">
      流量控制
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_59" class="md-nav__link">
    <span class="md-ellipsis">
      差错检测和纠正
    </span>
  </a>
  
    <nav class="md-nav" aria-label="差错检测和纠正">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#error-detecting-code" class="md-nav__link">
    <span class="md-ellipsis">
      检错码（error-detecting code）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-correcting-code" class="md-nav__link">
    <span class="md-ellipsis">
      纠错码（error-correcting code)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hamming-distance" class="md-nav__link">
    <span class="md-ellipsis">
      海明距离 (Hamming distance)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_60" class="md-nav__link">
    <span class="md-ellipsis">
      典型检错码
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hamming-code" class="md-nav__link">
    <span class="md-ellipsis">
      海明码 hamming code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convolutional-code" class="md-nav__link">
    <span class="md-ellipsis">
      卷积码 Convolutional Code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trellis-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      Trellis diagram
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_63" class="md-nav__link">
    <span class="md-ellipsis">
      基本的数据链路层协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="基本的数据链路层协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_64" class="md-nav__link">
    <span class="md-ellipsis">
      关键假设
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_65" class="md-nav__link">
    <span class="md-ellipsis">
      基本的协议定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_66" class="md-nav__link">
    <span class="md-ellipsis">
      乌托邦式单工协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-" class="md-nav__link">
    <span class="md-ellipsis">
      无错信道单工停止-等待协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-_1" class="md-nav__link">
    <span class="md-ellipsis">
      有错信道单工停止-等待协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_67" class="md-nav__link">
    <span class="md-ellipsis">
      停等协议的性能问题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_68" class="md-nav__link">
    <span class="md-ellipsis">
      滑动窗口协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="滑动窗口协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_69" class="md-nav__link">
    <span class="md-ellipsis">
      滑动窗口协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-_2" class="md-nav__link">
    <span class="md-ellipsis">
      停止-等待协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#n-gbn-5" class="md-nav__link">
    <span class="md-ellipsis">
      回退 N 协议(GBN)（协议 5）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-and-repeatsr-6" class="md-nav__link">
    <span class="md-ellipsis">
      选择重传协议 select and repeat(SR)（协议 6）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_74" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路协议实例
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路协议实例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ppppoint-to-point-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      点到点链路层协议 PPP（Point to Point Protocol）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pppoe" class="md-nav__link">
    <span class="md-ellipsis">
      PPPoE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mac" class="md-nav__link">
    <span class="md-ellipsis">
      介质访问子层 MAC
    </span>
  </a>
  
    <nav class="md-nav" aria-label="介质访问子层 MAC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_75" class="md-nav__link">
    <span class="md-ellipsis">
      信道分配问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="信道分配问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_76" class="md-nav__link">
    <span class="md-ellipsis">
      子信道的平均延迟
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_77" class="md-nav__link">
    <span class="md-ellipsis">
      静态分配的特点
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_78" class="md-nav__link">
    <span class="md-ellipsis">
      多路复用技术
    </span>
  </a>
  
    <nav class="md-nav" aria-label="多路复用技术">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fdm" class="md-nav__link">
    <span class="md-ellipsis">
      频分复用(FDM)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ofdm" class="md-nav__link">
    <span class="md-ellipsis">
      正交频分复用(OFDM) （细节不用掌握）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tdmstdm" class="md-nav__link">
    <span class="md-ellipsis">
      时分复用(TDM)与统计时分复用(STDM)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wdm" class="md-nav__link">
    <span class="md-ellipsis">
      波分复用(WDM)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cdma" class="md-nav__link">
    <span class="md-ellipsis">
      码分复用(CDMA)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_79" class="md-nav__link">
    <span class="md-ellipsis">
      空分复用
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_80" class="md-nav__link">
    <span class="md-ellipsis">
      多路访问协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="多路访问协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_81" class="md-nav__link">
    <span class="md-ellipsis">
      随机访问协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_82" class="md-nav__link">
    <span class="md-ellipsis">
      受控访问协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_88" class="md-nav__link">
    <span class="md-ellipsis">
      有限竞争协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lan" class="md-nav__link">
    <span class="md-ellipsis">
      无线 LAN 协议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_89" class="md-nav__link">
    <span class="md-ellipsis">
      以太网
    </span>
  </a>
  
    <nav class="md-nav" aria-label="以太网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_90" class="md-nav__link">
    <span class="md-ellipsis">
      经典以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_92" class="md-nav__link">
    <span class="md-ellipsis">
      交换式以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_93" class="md-nav__link">
    <span class="md-ellipsis">
      快速以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_96" class="md-nav__link">
    <span class="md-ellipsis">
      以太网的未来
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_97" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层交换
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路层交换">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_98" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层交换原理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_100" class="md-nav__link">
    <span class="md-ellipsis">
      链路层交换机
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_104" class="md-nav__link">
    <span class="md-ellipsis">
      生成树协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vlan" class="md-nav__link">
    <span class="md-ellipsis">
      虚拟局域网（VLAN）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wlan" class="md-nav__link">
    <span class="md-ellipsis">
      无线局域网 WLAN
    </span>
  </a>
  
    <nav class="md-nav" aria-label="无线局域网 WLAN">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_107" class="md-nav__link">
    <span class="md-ellipsis">
      无线局域网概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_108" class="md-nav__link">
    <span class="md-ellipsis">
      无线局域网组网模式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#80211_1" class="md-nav__link">
    <span class="md-ellipsis">
      802.11 介质访问控制
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#80211_2" class="md-nav__link">
    <span class="md-ellipsis">
      802.11 帧结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_110" class="md-nav__link">
    <span class="md-ellipsis">
      无线局域网的构建与管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wi-fi6" class="md-nav__link">
    <span class="md-ellipsis">
      Wi-Fi6 核心技术概览
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wan" class="md-nav__link">
    <span class="md-ellipsis">
      广域网 WAN
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_111" class="md-nav__link">
    <span class="md-ellipsis">
      网络层 🔥
    </span>
  </a>
  
    <nav class="md-nav" aria-label="网络层 🔥">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_112" class="md-nav__link">
    <span class="md-ellipsis">
      网络层服务
    </span>
  </a>
  
    <nav class="md-nav" aria-label="网络层服务">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_113" class="md-nav__link">
    <span class="md-ellipsis">
      网络层服务概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_114" class="md-nav__link">
    <span class="md-ellipsis">
      网络层的关键功能
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_117" class="md-nav__link">
    <span class="md-ellipsis">
      提供给传输层的服务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_120" class="md-nav__link">
    <span class="md-ellipsis">
      虚电路和数据报网络的比较
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internet-ip" class="md-nav__link">
    <span class="md-ellipsis">
      Internet 网际协议(IP)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Internet 网际协议(IP)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ipv4" class="md-nav__link">
    <span class="md-ellipsis">
      IPv4
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dhcp" class="md-nav__link">
    <span class="md-ellipsis">
      DHCP 动态主机配置协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ip-mac" class="md-nav__link">
    <span class="md-ellipsis">
      IP 与 MAC 地址
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arp-address-resolution-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      ARP 地址解析协议（Address Resolution Protocol）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#natnetwork-address-translation" class="md-nav__link">
    <span class="md-ellipsis">
      NAT(Network Address Translation)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#icmpinternet" class="md-nav__link">
    <span class="md-ellipsis">
      ICMP（Internet 控制报文协议）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_128" class="md-nav__link">
    <span class="md-ellipsis">
      路由算法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="路由算法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_129" class="md-nav__link">
    <span class="md-ellipsis">
      优化原则
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distance-vector" class="md-nav__link">
    <span class="md-ellipsis">
      距离向量路由算法 Distance vector
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_130" class="md-nav__link">
    <span class="md-ellipsis">
      链路状态路由算法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_131" class="md-nav__link">
    <span class="md-ellipsis">
      层次路由
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#broadcasting" class="md-nav__link">
    <span class="md-ellipsis">
      广播路由 Broadcasting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multicasting" class="md-nav__link">
    <span class="md-ellipsis">
      组播路由 multicasting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anycast" class="md-nav__link">
    <span class="md-ellipsis">
      选播路由 Anycast
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internet" class="md-nav__link">
    <span class="md-ellipsis">
      Internet 路由协议 🔥
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Internet 路由协议 🔥">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#opsf-igp" class="md-nav__link">
    <span class="md-ellipsis">
      OPSF 开放路径优先协议(IGP)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rip-igp" class="md-nav__link">
    <span class="md-ellipsis">
      RIP 路由选择协议(IGP)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bgp-egp" class="md-nav__link">
    <span class="md-ellipsis">
      BGP 边界网关协议(EGP)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mpls" class="md-nav__link">
    <span class="md-ellipsis">
      标签交换和 MPLS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_134" class="md-nav__link">
    <span class="md-ellipsis">
      路由器
    </span>
  </a>
  
    <nav class="md-nav" aria-label="路由器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_135" class="md-nav__link">
    <span class="md-ellipsis">
      概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_136" class="md-nav__link">
    <span class="md-ellipsis">
      控制层
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_137" class="md-nav__link">
    <span class="md-ellipsis">
      数据层
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_138" class="md-nav__link">
    <span class="md-ellipsis">
      拥塞控制算法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="拥塞控制算法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_139" class="md-nav__link">
    <span class="md-ellipsis">
      拥塞控制概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_140" class="md-nav__link">
    <span class="md-ellipsis">
      流量感知路由
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_141" class="md-nav__link">
    <span class="md-ellipsis">
      流量调节
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_142" class="md-nav__link">
    <span class="md-ellipsis">
      随机早期检测
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_143" class="md-nav__link">
    <span class="md-ellipsis">
      服务质量
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpn" class="md-nav__link">
    <span class="md-ellipsis">
      三层交换与 VPN
    </span>
  </a>
  
    <nav class="md-nav" aria-label="三层交换与 VPN">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_144" class="md-nav__link">
    <span class="md-ellipsis">
      三层交换
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpn_1" class="md-nav__link">
    <span class="md-ellipsis">
      VPN 技术
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipv6" class="md-nav__link">
    <span class="md-ellipsis">
      IPv6 技术（需要掌握）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IPv6 技术（需要掌握）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ipv6_1" class="md-nav__link">
    <span class="md-ellipsis">
      IPV6 头部
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipv6_2" class="md-nav__link">
    <span class="md-ellipsis">
      IPv6 扩展头
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_145" class="md-nav__link">
    <span class="md-ellipsis">
      邻居发现
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipv6_3" class="md-nav__link">
    <span class="md-ellipsis">
      IPv6 地址及配置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipv4-ipv6" class="md-nav__link">
    <span class="md-ellipsis">
      IPv4 到 IPv6 迁移及过渡技术
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_148" class="md-nav__link">
    <span class="md-ellipsis">
      传输层​🔥​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="传输层​🔥​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_149" class="md-nav__link">
    <span class="md-ellipsis">
      概述和传输层服务
    </span>
  </a>
  
    <nav class="md-nav" aria-label="概述和传输层服务">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_150" class="md-nav__link">
    <span class="md-ellipsis">
      传输层的位置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_151" class="md-nav__link">
    <span class="md-ellipsis">
      不同终端上的进程如何通信？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_152" class="md-nav__link">
    <span class="md-ellipsis">
      传输层提供什么服务？
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_153" class="md-nav__link">
    <span class="md-ellipsis">
      套接字编程
    </span>
  </a>
  
    <nav class="md-nav" aria-label="套接字编程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_154" class="md-nav__link">
    <span class="md-ellipsis">
      网络应用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_155" class="md-nav__link">
    <span class="md-ellipsis">
      进程如何标识自己
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#socket-api" class="md-nav__link">
    <span class="md-ellipsis">
      应用编程接口：socket API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#socket" class="md-nav__link">
    <span class="md-ellipsis">
      创建套接字：socket()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_156" class="md-nav__link">
    <span class="md-ellipsis">
      套接字描述符
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#udp" class="md-nav__link">
    <span class="md-ellipsis">
      使用 UDP 套接字实现回音服务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp" class="md-nav__link">
    <span class="md-ellipsis">
      使用 TCP 套接字实现回音服务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_159" class="md-nav__link">
    <span class="md-ellipsis">
      套接字标识与端口号
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_161" class="md-nav__link">
    <span class="md-ellipsis">
      传输层复用和分用
    </span>
  </a>
  
    <nav class="md-nav" aria-label="传输层复用和分用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#udp_1" class="md-nav__link">
    <span class="md-ellipsis">
      UDP 套接字
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_2" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 套接字
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#udp_2" class="md-nav__link">
    <span class="md-ellipsis">
      无连接传输：UDP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="无连接传输：UDP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#udp_3" class="md-nav__link">
    <span class="md-ellipsis">
      UDP 概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#udp_4" class="md-nav__link">
    <span class="md-ellipsis">
      UDP 报文段结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_162" class="md-nav__link">
    <span class="md-ellipsis">
      校验和计算
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#udp_5" class="md-nav__link">
    <span class="md-ellipsis">
      为什么需要 UDP？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_163" class="md-nav__link">
    <span class="md-ellipsis">
      题目
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_3" class="md-nav__link">
    <span class="md-ellipsis">
      面向连接的传输：TCP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="面向连接的传输：TCP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tcp_4" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_5" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 报文段结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_6" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 可靠数据传输
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_11" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 流量控制
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_13" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 连接管理
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_20" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 拥塞控制
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TCP 拥塞控制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_170" class="md-nav__link">
    <span class="md-ellipsis">
      网络拥塞
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_171" class="md-nav__link">
    <span class="md-ellipsis">
      拥塞检测和速率限制
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aimd" class="md-nav__link">
    <span class="md-ellipsis">
      拥塞窗口的调节策略：AIMD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_21" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 慢启动
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_22" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 拥塞控制的实现
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_173" class="md-nav__link">
    <span class="md-ellipsis">
      拥塞控制的发展
    </span>
  </a>
  
    <nav class="md-nav" aria-label="拥塞控制的发展">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tcp-cubic" class="md-nav__link">
    <span class="md-ellipsis">
      TCP CUBIC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google-bbr" class="md-nav__link">
    <span class="md-ellipsis">
      Google BBR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-center-tcp" class="md-nav__link">
    <span class="md-ellipsis">
      Data Center TCP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dccp" class="md-nav__link">
    <span class="md-ellipsis">
      DCCP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_178" class="md-nav__link">
    <span class="md-ellipsis">
      传输层协议的发展
    </span>
  </a>
  
    <nav class="md-nav" aria-label="传输层协议的发展">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mptcp" class="md-nav__link">
    <span class="md-ellipsis">
      MPTCP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quic" class="md-nav__link">
    <span class="md-ellipsis">
      QUIC
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_179" class="md-nav__link">
    <span class="md-ellipsis">
      应用层
    </span>
  </a>
  
    <nav class="md-nav" aria-label="应用层">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_180" class="md-nav__link">
    <span class="md-ellipsis">
      应用层概述
    </span>
  </a>
  
    <nav class="md-nav" aria-label="应用层概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_181" class="md-nav__link">
    <span class="md-ellipsis">
      应用进程通信方式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_182" class="md-nav__link">
    <span class="md-ellipsis">
      服务器进程工作方式
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns" class="md-nav__link">
    <span class="md-ellipsis">
      域名系统 DNS 🔥
    </span>
  </a>
  
    <nav class="md-nav" aria-label="域名系统 DNS 🔥">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_183" class="md-nav__link">
    <span class="md-ellipsis">
      历史和概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_184" class="md-nav__link">
    <span class="md-ellipsis">
      域名系统名字空间和层次结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_187" class="md-nav__link">
    <span class="md-ellipsis">
      域名服务器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_191" class="md-nav__link">
    <span class="md-ellipsis">
      域名解析过程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_193" class="md-nav__link">
    <span class="md-ellipsis">
      域名系统查询和响应
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_194" class="md-nav__link">
    <span class="md-ellipsis">
      域名系统高速缓存
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_195" class="md-nav__link">
    <span class="md-ellipsis">
      域名系统隐私(选讲)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_196" class="md-nav__link">
    <span class="md-ellipsis">
      电子邮件 🔥
    </span>
  </a>
  
    <nav class="md-nav" aria-label="电子邮件 🔥">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_197" class="md-nav__link">
    <span class="md-ellipsis">
      电子邮件系统体系结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_198" class="md-nav__link">
    <span class="md-ellipsis">
      邮件格式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_199" class="md-nav__link">
    <span class="md-ellipsis">
      最终交付协议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#www" class="md-nav__link">
    <span class="md-ellipsis">
      WWW🔥
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WWW🔥">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#www_1" class="md-nav__link">
    <span class="md-ellipsis">
      WWW 体系结构概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web" class="md-nav__link">
    <span class="md-ellipsis">
      静态 Web（对象）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web-web" class="md-nav__link">
    <span class="md-ellipsis">
      动态 Web 和 Web 应用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP 协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web-web_1" class="md-nav__link">
    <span class="md-ellipsis">
      Web 缓存技术与 Web 代理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web_4" class="md-nav__link">
    <span class="md-ellipsis">
      Web 安全与隐私
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_204" class="md-nav__link">
    <span class="md-ellipsis">
      流式音频和视频
    </span>
  </a>
  
    <nav class="md-nav" aria-label="流式音频和视频">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_205" class="md-nav__link">
    <span class="md-ellipsis">
      流媒体概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_206" class="md-nav__link">
    <span class="md-ellipsis">
      数字音视频与编码
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_207" class="md-nav__link">
    <span class="md-ellipsis">
      直播与实时音视频
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_208" class="md-nav__link">
    <span class="md-ellipsis">
      内容分发
    </span>
  </a>
  
    <nav class="md-nav" aria-label="内容分发">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#internet_1" class="md-nav__link">
    <span class="md-ellipsis">
      内容和 Internet 流量
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web_6" class="md-nav__link">
    <span class="md-ellipsis">
      服务器群和 Web 代理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cdn" class="md-nav__link">
    <span class="md-ellipsis">
      内容分发网络 CDN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#p2p" class="md-nav__link">
    <span class="md-ellipsis">
      P2P 网络实现内容分发
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_209" class="md-nav__link">
    <span class="md-ellipsis">
      其它应用层协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="其它应用层协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#telnet" class="md-nav__link">
    <span class="md-ellipsis">
      Telnet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ftp" class="md-nav__link">
    <span class="md-ellipsis">
      FTP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snmp" class="md-nav__link">
    <span class="md-ellipsis">
      SNMP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_210" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_211" class="md-nav__link">
    <span class="md-ellipsis">
      网络安全
    </span>
  </a>
  
    <nav class="md-nav" aria-label="网络安全">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_212" class="md-nav__link">
    <span class="md-ellipsis">
      网络安全的基本属性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_213" class="md-nav__link">
    <span class="md-ellipsis">
      网络攻击与威胁
    </span>
  </a>
  
    <nav class="md-nav" aria-label="网络攻击与威胁">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_214" class="md-nav__link">
    <span class="md-ellipsis">
      窃听
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_215" class="md-nav__link">
    <span class="md-ellipsis">
      嗅探
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arp" class="md-nav__link">
    <span class="md-ellipsis">
      ARP 协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deny-of-service" class="md-nav__link">
    <span class="md-ellipsis">
      拒绝服务攻击（Deny of Service）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_217" class="md-nav__link">
    <span class="md-ellipsis">
      放大攻击
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mac-flooding" class="md-nav__link">
    <span class="md-ellipsis">
      MAC Flooding
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_218" class="md-nav__link">
    <span class="md-ellipsis">
      安全机制与手段
    </span>
  </a>
  
    <nav class="md-nav" aria-label="安全机制与手段">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_219" class="md-nav__link">
    <span class="md-ellipsis">
      密码学
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_220" class="md-nav__link">
    <span class="md-ellipsis">
      现代加密算法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_223" class="md-nav__link">
    <span class="md-ellipsis">
      数字签名与报文完整性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_225" class="md-nav__link">
    <span class="md-ellipsis">
      认证协议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_226" class="md-nav__link">
    <span class="md-ellipsis">
      电子邮件安全
    </span>
  </a>
  
    <nav class="md-nav" aria-label="电子邮件安全">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_227" class="md-nav__link">
    <span class="md-ellipsis">
      安全电子邮件属性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pgp" class="md-nav__link">
    <span class="md-ellipsis">
      优良保密协议 PGP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#smime" class="md-nav__link">
    <span class="md-ellipsis">
      安全多功能互联网邮件扩展 S/MIME
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web_7" class="md-nav__link">
    <span class="md-ellipsis">
      Web 安全
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Web 安全">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_228" class="md-nav__link">
    <span class="md-ellipsis">
      定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_229" class="md-nav__link">
    <span class="md-ellipsis">
      风险分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_230" class="md-nav__link">
    <span class="md-ellipsis">
      常见攻击方式
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_231" class="md-nav__link">
    <span class="md-ellipsis">
      通信安全
    </span>
  </a>
  
    <nav class="md-nav" aria-label="通信安全">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_232" class="md-nav__link">
    <span class="md-ellipsis">
      传输层安全
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_233" class="md-nav__link">
    <span class="md-ellipsis">
      网络层安全
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_234" class="md-nav__link">
    <span class="md-ellipsis">
      虚拟专用网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_235" class="md-nav__link">
    <span class="md-ellipsis">
      无线安全
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_236" class="md-nav__link">
    <span class="md-ellipsis">
      系统与运行安全
    </span>
  </a>
  
    <nav class="md-nav" aria-label="系统与运行安全">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_237" class="md-nav__link">
    <span class="md-ellipsis">
      防火墙
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_238" class="md-nav__link">
    <span class="md-ellipsis">
      沙盒与隔离
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_239" class="md-nav__link">
    <span class="md-ellipsis">
      安全技术前沿与未来发展
    </span>
  </a>
  
    <nav class="md-nav" aria-label="安全技术前沿与未来发展">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_240" class="md-nav__link">
    <span class="md-ellipsis">
      量子密码
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_241" class="md-nav__link">
    <span class="md-ellipsis">
      物联网安全
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_242" class="md-nav__link">
    <span class="md-ellipsis">
      应急响应
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_243" class="md-nav__link">
    <span class="md-ellipsis">
      风险评估
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_244" class="md-nav__link">
    <span class="md-ellipsis">
      等级保护
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ppt" class="md-nav__link">
    <span class="md-ellipsis">
      PPT 例题
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="computer-network">计算机网络 Computer Network<a class="headerlink" href="#computer-network" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 40296 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M360.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m64.6 136.1c-12.5 12.5-12.5 32.8 0 45.3l73.4 73.4-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0zm-274.7 0c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l73.3-73.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg></span> 66 行代码 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 208 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 135 分钟</p>
</div>
<blockquote>
<p>[!WARNING]</p>
<p>➢ 平时成绩 50% = 课程作业 7-8 次 + 课程实验 6 次 + 出勤+quiz 3-4 次
➢ 期末考试 50% (闭卷) 试卷为英文</p>
<p>[!TIP]</p>
<p><a href="https://zjucomp.net/docs/terms">https://zjucomp.net/docs/terms</a> 术语中英对照表</p>
</blockquote>
<h2 id="_1">引言<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<blockquote>
<p>[!IMPORTANT]</p>
<p>本章目标</p>
<p><img src="./assets/image-20241226112702676.png" alt="image-20241226112702676" style="zoom:50%;" /></p>
</blockquote>
<h3 id="_2">初识互联网<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>网络的基本功能：传递信息</p>
<p>服务用什么区分？</p>
<ul>
<li>功能、延迟、带宽、丢失率</li>
<li>端节点数目、服务接口</li>
<li>可靠性、实时/非实时等外特性</li>
</ul>
<h3 id="_3">网络实例<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>计算机网络拓扑结构主要取决于它的通信子网</p>
<h4 id="_4">网络分类（按地域规模）<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<ul>
<li>个域网 PAN（ Personal Area Network ）：能在便携式消费电器与通信设备之间进行短距离通信的网络；覆盖范围一般在 10 米半径以内，如蓝牙耳机等</li>
<li>局域网 LAN（Local Area Network）：局部地区形成的区域网络，如企业网络；分布地区范围有限，可大可小，大到一栋建筑、小到办公室内的组网；电脑 WLAN 接入，打印机共享等等</li>
<li>城域网 MAN（Metropolitan Area Network ）：范围覆盖一个城市的网络</li>
<li>广域网 WAN（Wide Area Network）：覆盖很大地理区域，乃至覆盖地区和国家</li>
</ul>
<p><img src="./assets/image-20240912103015928.png" alt="image-20240912103015928" style="zoom: 33%;" /></p>
<p>ISP：Internet 服务商</p>
<p>IXP 或 IX：互联网交换点</p>
<h4 id="_5">网络组成<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<blockquote>
<p>[!NOTE]</p>
<p>计算机网络从逻辑功能上可划为通信子网和资源子网</p>
<ul>
<li>通信子网包括物理层、数据链路层和网络层，主要负责数据通信</li>
<li>资源子网是 OSI 参考模型的上三层，传输层的主要任务是向高层用户屏蔽下面通信子网的细节(如网络拓扑、路由协议等)。</li>
</ul>
</blockquote>
<h5 id="_6">网络边缘<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h5>
<p><strong>端系统</strong>：位于互联网边缘与互联网相连的计算机和其他设备</p>
<ul>
<li>端系统由各类主机(host)构成：桌面计算机、移动计算机、服务器、其他智能终端设备</li>
</ul>
<h5 id="_7">网络核心<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h5>
<p>由互联端系统的分组交换设备和通信链路构成的网状网络（网络+路由器）</p>
<p><strong>接入网</strong></p>
<ul>
<li>接入网的目标是将主机连接到边缘路由器上</li>
<li>边缘路由器是端系统 Host 去往任何其他远程端系统的路径上的第一台路由器</li>
</ul>
<p><em>各种异构网络通过边缘路由器接入</em></p>
<ul>
<li>光纤到户 FTTH：Firber to the home</li>
<li>数字用户线 DSL：Digital Subscriber Line</li>
<li>同轴电缆：Cable</li>
<li>无线接入</li>
<li>无线局域网 WLAN</li>
<li>广域蜂窝接入网</li>
</ul>
<p>传输单位：bit</p>
<blockquote>
<p>[!WARNING]</p>
<p>存储常用字节 Byte K/M/G 层级为 2^10 进制
传输常用比特 BitK /M/G 层级为 10^3 进制</p>
<p>1B = 8b （注意大小写）</p>
</blockquote>
<p><strong>物理媒介</strong></p>
<ul>
<li>是指发射机和接收机之间的具体链路介质</li>
<li>引导型介质：信号在固体介质中传播，例如铜、光纤、同轴电缆</li>
<li>非引导型介质：信号自由传播，包括无线电（陆地无线电、卫星无线电信道）、无线链路类型（无线局域网（WiFi）、广域（如 &frac34;/5G 蜂窝）蓝牙、地面微波、卫星）</li>
</ul>
<p><strong>网络核心两大功能</strong></p>
<p><img src="./assets/image-20240912104651823.png" alt="image-20240912104651823" style="zoom:33%;" /></p>
<h4 id="_8">数据交换方式<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h4>
<h5 id="packet-switching">分组交换（也称包交换 packet switching）<a class="headerlink" href="#packet-switching" title="Permanent link">&para;</a></h5>
<ul>
<li>主机将数据分成分组，发送到网络，通信双方以分组为单位、使用<strong>存储-转发</strong>机制，实现数据交互的通信方式</li>
<li>网络将数据分组从一个路由器转发到下一个路由器，通过从源到目标的路径上的链路，逐跳传输抵达目的地</li>
<li>每个分组在互联网中独立的选择传输路径</li>
<li>支持灵活的统计多路复用 multiplexing</li>
<li>到达包的顺序和发送顺序可能不一致</li>
<li>附加信息开销大</li>
</ul>
<h5 id="circuit-switching">电路交换（circuit switching）<a class="headerlink" href="#circuit-switching" title="Permanent link">&para;</a></h5>
<ul>
<li>通信、传输时延小</li>
<li>资源预留，不会被抢占 -&gt; 有序、性能有保障</li>
<li>容错性低（无法应对互联网中广泛存在的“突发”（Burst）流量）</li>
<li>资源利用不够充分</li>
</ul>
<h5 id="message-switching">存储转发的报文交换（Message switching）<a class="headerlink" href="#message-switching" title="Permanent link">&para;</a></h5>
<ul>
<li>路由器需要接收到完整的整个数据报文后，才能开始向下一跳发送</li>
<li>有传输延迟，不适合实时通信！</li>
<li>同一报文的不同分组可以经过不同的传输路径通过通信子网</li>
</ul>
<p><img src="./assets/image-20240912110029010.png" alt="image-20240912110029010" style="zoom:33%;" /></p>
<p>总结：<strong>分组交换在实际应用率最高</strong></p>
<h3 id="_9">协议和分层结构<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<p>分层协议 layered protocol</p>
<p>协议由语法、语义、同步三方面组成</p>
<p>协议是指在 <strong>不同结点对等实体</strong> 之间进行通信的规则或约定</p>
<h4 id="_10">协议设计目的<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h4>
<ul>
<li>可靠性、资源分配、拥塞问题、自适应性、安全问题</li>
</ul>
<h5 id="_11">统一标准<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h5>
<ul>
<li>明晰简化，便于分析学习</li>
<li>各层独立，加速技术演进</li>
<li>统一接口，确保技术互通（interoperable）</li>
</ul>
<h5 id="_12">模块独立<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h5>
<h5 id="_13">分层结构<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h5>
<p>不同机器上的同一层称为对等层，同一层的实体称为对等实体</p>
<p><img src="./assets/image-20240912111717713.png" alt="image-20240912111717713" style="zoom:33%;" /></p>
<p>发送端：层层封装；接收端：层层解封装</p>
<p>不同层对应协议数据单元（PDU Protocol Data Unit）</p>
<p><img src="./assets/image-20240912112646001.png" alt="image-20240912112646001" style="zoom:50%;" /></p>
<p>从顶层到底层，每一层 Header 往前加，后面（前一层的 header 等）都是数据</p>
<h4 id="_14">服务原语<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<p>服务原语 Service Primitives：请求 request、指示 indication、响应 response、证实 confirmation</p>
<ul>
<li>面向连接（电话系统）/无连接（邮政系统）</li>
</ul>
<p><img src="./assets/image-20240912113244482.png" alt="image-20240912113244482" style="zoom:50%;" /></p>
<h4 id="_15">服务与协议的关系<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h4>
<p><mark>协议是“水平”的，服务是“垂直”的</mark></p>
<p>➢ 实体使用协议来实现其定义的服务</p>
<p>➢ 上层实体通过接口使用下层实体的服务</p>
<h3 id="_16">参考模型<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<h4 id="osi">OSI 参考模型<a class="headerlink" href="#osi" title="Permanent link">&para;</a></h4>
<p>OSI：Open Systems Interconnection</p>
<p><strong>7 层模型：从下到上，物理层、数据链路层、网络层、传输层、会话层、表示层、应用层</strong></p>
<p>服务、接口、协议</p>
<h5 id="physical-layer">物理层（Physical Layer）<a class="headerlink" href="#physical-layer" title="Permanent link">&para;</a></h5>
<p>定义如何在信道上 <strong>传输比特</strong> 0、1：Bits on the wire</p>
<p>处理信号通过介质的传输</p>
<h5 id="data-link-layer">数据链路层 (Data Link Layer)<a class="headerlink" href="#data-link-layer" title="Permanent link">&para;</a></h5>
<p>数据链路层的传输单位是帧；点到点通信</p>
<p>实现相邻（Neighboring）网络实体间的数据传输，保证数据正确的顺序与完整性</p>
<p>成帧（Framing）：从物理层的比特流中提取出完整的帧</p>
<p>物理地址（MAC address）：48 位，理论上唯一网络标识，烧录在网卡，不便更改</p>
<ul>
<li>网卡实现的功能主要在物理层和数据链路层</li>
</ul>
<p><em>流量控制</em>，避免“淹没”（overwhelming）: 当快速的发送端遇上慢速的接收端，接收端缓存溢出</p>
<p>共享信道上的访问控制（MAC）：同一个信道，同时传输信号。</p>
<p>数据链路层协议有：SDLC、HDLC、PPP、STP</p>
<h5 id="network-layer">网络层 (Network Layer)<a class="headerlink" href="#network-layer" title="Permanent link">&para;</a></h5>
<p>网络层的传输单位是 <strong>数据报</strong></p>
<p>将数据包跨越网络从源设备发送到目的设备（host to host）</p>
<p>路由（Routing）：在网络中选取从源端到目的端转发路径，常常会根据网络可达性动态选取最佳路径，也可以使用静态路由</p>
<p>服务质量（QoS）控制：处理网络拥塞、负载均衡、准入控制、保障延迟</p>
<ul>
<li>提供面向连接的通信，支持无连接</li>
</ul>
<p>网络层的控制主要面向运营商</p>
<blockquote>
<p>[!NOTE]</p>
<p>为什么除了 MAC 地址外，还有 IP 地址？不能用 MAC（网卡地址）寻址，路由器不知道网卡在哪；？？面向运营商（第一节课）</p>
</blockquote>
<p>网络层的协议有：IP、IPX、ICMP、IGMP、ARP、RARP、RIP、OSPF 等</p>
<h5 id="transport-layer">传输层 (Transport Layer)<a class="headerlink" href="#transport-layer" title="Permanent link">&para;</a></h5>
<p>将数据从源端口发送到目的端口（<strong>进程</strong> 到进程）</p>
<p>传输层为终端用户提供 <strong>端到端的数据传输控制</strong></p>
<ul>
<li>提供面向连接的通信</li>
</ul>
<p>两类模式：可靠的传输模式，或不可靠传输模式</p>
<ul>
<li>可靠传输：可靠的端到端数据传输，适合于对通信质量有要求的应用场景，如文件传输等</li>
<li>不可靠传输：更快捷、更轻量的端到端数据传输，适合于对通信质量要求不高，对通信响应速度要求高的应用场景，如语音对话、视频会议等</li>
</ul>
<p>传输层的协议有：TCP、UDP</p>
<h5 id="session-layer">会话层 (Session Layer)<a class="headerlink" href="#session-layer" title="Permanent link">&para;</a></h5>
<p>利用传输层提供的服务，在应用程序之间建立和维持会话，并能使会话获得同步</p>
<ul>
<li>设置检验点，使通信双方在通信失效时可从检验点恢复通信</li>
</ul>
<h5 id="presentation-layer">表示层（Presentation Layer）<a class="headerlink" href="#presentation-layer" title="Permanent link">&para;</a></h5>
<p>关注所传递信息的语法和语义，管理数据的表示方法，传输的数据结构</p>
<ul>
<li>数据解密与加密、压缩、格式转换等</li>
</ul>
<h5 id="application-layer">应用层（Application Layer）<a class="headerlink" href="#application-layer" title="Permanent link">&para;</a></h5>
<p>通过应用层协议，提供应用程序便捷的网络服务调用</p>
<p>提供用户和网络的接口</p>
<h4 id="tcpip">TCP/IP 参考模型<a class="headerlink" href="#tcpip" title="Permanent link">&para;</a></h4>
<h5 id="link-layer">链路层/网络接口层（Link Layer）<a class="headerlink" href="#link-layer" title="Permanent link">&para;</a></h5>
<ul>
<li>类似 OSI 的物理层和数据链路层，描述了为满足无连接的互联网络层需求，链路必须具备的功能</li>
</ul>
<h5 id="internet-layer">互联网层/网际层（Internet Layer）<a class="headerlink" href="#internet-layer" title="Permanent link">&para;</a></h5>
<ul>
<li>允许主机将数据包注入网络，让这些数据包独立的传输至目的地，并定义了数据包格式和协议（IPv4 协议和 IPv6 协议）</li>
<li>无连接的通信</li>
<li>主要功能有：路由选择</li>
</ul>
<h5 id="transport-layer_1">传输层（Transport Layer）<a class="headerlink" href="#transport-layer_1" title="Permanent link">&para;</a></h5>
<ul>
<li>允许源主机与目标主机上的对等实体，进行 <strong>端到端的数据传输</strong>：TCP，UDP</li>
<li>TCP：可靠、面向连接的协议</li>
<li>UDP：无连接，不保证可靠</li>
</ul>
<h5 id="application-layer_1">应用层（Application Layer）<a class="headerlink" href="#application-layer_1" title="Permanent link">&para;</a></h5>
<ul>
<li>传输层之上的所有高层协议：DNS、HTTP、FTP、SMTP</li>
</ul>
<blockquote>
<p>[!NOTE]</p>
<p>先有 TCP/IP 协议栈，然后有 TCP/IP 参考模型</p>
<p>参考模型只是用来描述协议栈的</p>
<p>ARPNET 最终采用 TCP 和 IP 为主要协议</p>
</blockquote>
<h4 id="osi-tcpip">OSI 模型 TCP/IP 模型对比<a class="headerlink" href="#osi-tcpip" title="Permanent link">&para;</a></h4>
<p>7 层模型与 4 层模型</p>
<ul>
<li>
<p>TCP/IP 模型的网络接口层定义主机与传输线路之间的接口，描述了链路为无连接的互联网层必须提供的基本功能</p>
</li>
<li>
<p>TCP/IP 模型的互联网层、传输层与 OSI 模型的网络层、传输层大致对应</p>
</li>
<li>
<p>TCP/IP 模型的应用层包含了 OSI 模型的表示层与会话层</p>
</li>
</ul>
<p>➢ 基本设计思想：通用性与实用性</p>
<ul>
<li>
<p>OSI：先有模型后设计协议，不局限于特定协议，明确了服务、协议、接口等概念，更具通用性</p>
</li>
<li>
<p>TCP/IP 模型：仅仅是对已有协议的描述</p>
</li>
</ul>
<p>➢ 无连接与面向连接</p>
<ul>
<li>OSI 模型网络层能够支持无连接和面向连接通信</li>
<li>TCP/IP 模型的网络层仅支持无连接通信（IP） </li>
</ul>
<p><img src="./assets/image-20241214171139246.png" alt="image-20241214171139246" style="zoom: 33%;" /></p>
<p><img src="./assets/image-20241214171202790.png" alt="image-20241214171202790" style="zoom:33%;" /></p>
<blockquote>
<p>[!IMPORTANT]</p>
<p>本课程采用 5 层模型：物理层、数据链路层、网络层、传输层、应用层</p>
</blockquote>
<h4 id="_17">模型与网络实例<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20240912120815348.png" alt="image-20240912120815348" style="zoom:50%;" /></p>
<p>Host 上每个层都有</p>
<p>交换机不解析 IP 地址，只处理 MAC 地址</p>
<p>路由器处理网络地址（IP 地址） </p>
<h3 id="_18">计算机网络度量单位<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<h4 id="bit-rate">速率/比特率(bit rate)<a class="headerlink" href="#bit-rate" title="Permanent link">&para;</a></h4>
<ul>
<li>主机在数字信道上传送数据的速率，也称数据率</li>
<li>比特率的单位是 b/s(比特每秒)，也可以写为 bps，(bit per second)，或 kbit/s、Mbit/s、 Gbit/s 等</li>
</ul>
<h4 id="baud-rate">波特率(baud rate)<a class="headerlink" href="#baud-rate" title="Permanent link">&para;</a></h4>
<ul>
<li>码元传输速率，表示单位时间内数字通信系统所传输的码元数/每秒可能发送的信号变化次数（也称调制速率或符号速率 Symbol rate）</li>
<li>单位是波特 Baud，1 波特表示每秒传输 1 码元，若 1 码元携带 <em>n</em> 比特信息量，则波特率 <em>M</em> Baud 对应的比特率为 <em>Mn</em> b/s，表示该码元所需的不同离散值为 V = 2^n^个</li>
</ul>
<h4 id="bandwidth">带宽(bandwidth)<a class="headerlink" href="#bandwidth" title="Permanent link">&para;</a></h4>
<ul>
<li>网络中某通道传送数据的能力，即单位时间内网络中的某信道所能通过的“<strong>最高数据率</strong>”</li>
<li>单位是 bit/s，即 “比特每秒”</li>
<li><span class="arithmatex">\(\text{带宽}=发送数据大小/传播时延\)</span></li>
</ul>
<h4 id="pps">包转发率(PPS)<a class="headerlink" href="#pps" title="Permanent link">&para;</a></h4>
<ul>
<li>全称是 Packet Per Second(包/秒)，表示交换机或路由器等网络设备以包为单位的转发速率</li>
<li>线速转发（line speed）：交换机端口在满负载的情况下，对帧进行转发时能够达到该端口线路的最高速度</li>
</ul>
<blockquote>
<p>[!NOTE]</p>
<p>在交换机上：大包和小包，哪个更容易实现线速？</p>
<ul>
<li>小的</li>
</ul>
</blockquote>
<h4 id="delay">时延(Delay)<a class="headerlink" href="#delay" title="Permanent link">&para;</a></h4>
<p>时延 (delay 或 latency) 是指数据（一个报文或分组）从网络（或链路）的一端传送到另一端所需的时间，也称为延迟</p>
<ul>
<li><strong>传输时延/发送时延(transmission delay)</strong>：数据从结点进入到传输媒体所需要的时间</li>
</ul>
<div class="arithmatex">\[
\text{发送时延}=\text{分组长度}/\text{发送速率}
\]</div>
<ul>
<li><strong>传播时延(propagation delay)</strong>：电磁波在信道中需要传播一定距离而花费的时间</li>
</ul>
<div class="arithmatex">\[
\text{传播时延}=\text{信道长度}/\text{电磁波在信道上的传播速率}
\]</div>
<ul>
<li><strong>处理时延(processing delay)</strong>：主机或路由器在收到分组时，为处理分组（例如分析首部、提取数据、差错检验或查找路由）所花费的时间</li>
<li><strong>排队时延(queueing delay)</strong>：分组在路由器输入输出队列中排队等待处理所经历的时延 -&gt; queue 不长不短最好</li>
</ul>
<p><img src="./assets/image-20240912122025795.png" alt="image-20240912122025795" style="zoom:50%;" /></p>
<h4 id="rttround-trip-time">往返时延 RTT(Round-Trip Time)<a class="headerlink" href="#rttround-trip-time" title="Permanent link">&para;</a></h4>
<ul>
<li>从发送方发送数据开始，到发送方收到来自接收方的确认，经历的总时间</li>
<li>可用于判断网络的通断性、测试网络时延、计算数据包丢失率等</li>
</ul>
<h4 id="_19">时延带宽积<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h4>
<p><span class="arithmatex">\(时延带宽积 = 传播时延 \times 带宽\)</span>，即按比特计数的链路长度</p>
<p>EG: 传播时延为 20ms，带宽为 10Mb/s，则：时延带宽积 = 20/1000 × 10×106 = 2 × 105 bit</p>
<p>吞吐量 throughput</p>
<p>有效吞吐量 goodput</p>
<p>信道利用率 Channel Utilization</p>
<p>丢包率</p>
<p>传输 m 个分组所需时间：<span class="arithmatex">\(<span class="arithmatex">\(T=(路由器数量+1)\times r + (m-1)\times r\)</span>\)</span>​，r = 分组大小/传输速率</p>
<hr />
<p>EG1：</p>
<p><img src="./assets/image-20241215155634421.png" alt="image-20241215155634421" style="zoom:50%;" /></p>
<p><img src="./assets/image-20241215155619479.png" alt="image-20241215155619479" style="zoom: 33%;" /></p>
<p>EG2：</p>
<p><img src="./assets/image-20241215155811533.png" alt="image-20241215155811533" style="zoom:50%;" /></p>
<p><img src="./assets/image-20241215155835560.png" alt="image-20241215155835560" style="zoom: 33%;" /> <img src="./assets/image-20241215155853639.png" alt="image-20241215155853639" style="zoom: 33%;" /></p>
<h3 id="_20">网络安全威胁<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<p>恶意软件、病毒、蠕虫</p>
<h4 id="denial-of-service-dos-attack">拒绝服务攻击(Denial-of-Service (DoS) attack)<a class="headerlink" href="#denial-of-service-dos-attack" title="Permanent link">&para;</a></h4>
<p>攻击者通过制造大量虚假流量占用资源</p>
<p>使合法流量无法使用资源(服务、带宽</p>
<h4 id="botnet">僵尸网络 （Botnet）<a class="headerlink" href="#botnet" title="Permanent link">&para;</a></h4>
<p>采用一种或多种传播手段，将大量主机感染 bot 程序（僵尸程序）病毒，从而在控制者和被感染主机之间所形成的一个可一对多控制的网络
➢ 分布式 DoS 攻击的发起者，往往通过僵尸网络发起攻击，从而躲避追查</p>
<h4 id="_21">如何防御<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h4>
<p>➢ 身份验证：证明你就是你！
➢ 保密：加密技术
➢ 完整性检查：数字签名检测/防止篡改
➢ 访问限制：受密码保护的 VPN
➢ 防火墙：接入网络和核心网络中的专用“安全卫士”</p>
<h3 id="_22">标准化组织<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<p>ISO、ITO、IEEE、WFA、IETF、IRTF(Interent research of )</p>
<ul>
<li>RFC(request for comments)标准</li>
</ul>
<h3 id="_23">互联网发展史与启示<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<p>1983 ARPANET 采用 TCP/IP——标志互联网诞生</p>
<h3 id="_24">其他<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h3>
<p>主机 A 给主机 B 发送数据的理论最高速率取决于链路带宽、主机 A/B 网卡速率的最小者</p>
<h2 id="_25">物理层<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h2>
<h3 id="_26">物理层基本概念<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h3>
<h4 id="_27">物理层功能<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h4>
<p><strong>位置</strong>：物理层是网络体系结构中的最低层</p>
<blockquote>
<p>[!WARNING]</p>
<p>不是连接计算机的具体物理设备，不是负责信号传输的具体物理媒体</p>
</blockquote>
<p><strong>功能</strong>：如何在连接各计算机的传输媒体上 <em>传输数据比特流</em></p>
<p><strong>作用</strong>：尽可能地 <em>屏蔽掉不同传输媒体和通信手段的差异</em></p>
<h4 id="_28">物理层特性<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h4>
<h5 id="_29">物理层机械特性<a class="headerlink" href="#_29" title="Permanent link">&para;</a></h5>
<p>涉及接口的物理结构，通常采用接线器来实现机械上的连接</p>
<p><strong>定义</strong> 接线器的 <strong>形状和尺寸、引线数目和排列、固定和锁定装置</strong> 等</p>
<h5 id="_30">物理层电气特性<a class="headerlink" href="#_30" title="Permanent link">&para;</a></h5>
<p>规定了多条信号线的电气连接及有关电路特性</p>
<ul>
<li>发送器和接收器的电路特性、负载要求、传输速率和连接距离等</li>
<li>如发送信号电平、发送器和接收器的输出阻抗、平衡特性等</li>
</ul>
<h5 id="_31">物理层功能特性<a class="headerlink" href="#_31" title="Permanent link">&para;</a></h5>
<p>描述接口执行的功能，定义接线器的每一引脚(针，Pin)的作用</p>
<h5 id="_32">物理层过程特性<a class="headerlink" href="#_32" title="Permanent link">&para;</a></h5>
<p>指明对于不同功能的各种可能事件的出现顺序</p>
<h4 id="_33">物理层标准及示例<a class="headerlink" href="#_33" title="Permanent link">&para;</a></h4>
<p><strong>点对点通信线路</strong> 用于直接连接两个结点</p>
<p>广播通信线路</p>
<h3 id="_34">数据通信基础<a class="headerlink" href="#_34" title="Permanent link">&para;</a></h3>
<h4 id="_35">数据通信基础理论<a class="headerlink" href="#_35" title="Permanent link">&para;</a></h4>
<h5 id="_36">傅里叶分析<a class="headerlink" href="#_36" title="Permanent link">&para;</a></h5>
<p>任何一个周期为 T 的有理周期性函数 g(t) 可分解为若干项（可能无限多
项）正弦和余弦函数之和
$$
g(t)= c+\sum_{n = 1}^∞{a_nsin(2Πnft)}+\sum_{n = 1}^∞{b_ncos(2Πnft)}
$$
f = 1/T 基本频率，a<sub>n</sub>, b<sub>n</sub> 为 n 次谐波项的正弦和余弦振幅值</p>
<h5 id="_37">有限带宽信号<a class="headerlink" href="#_37" title="Permanent link">&para;</a></h5>
<p>信号在信道上传输时的特性</p>
<ul>
<li>对不同傅立叶分量的衰减不同，引起输出失真</li>
<li>信道有 <strong>截止频率 fc</strong> , 0 ~ fc 的振幅衰减较弱， fc 以上的振幅衰减厉害，这主要由信道的物理特性决定， <strong>0 ~ fc 是信道的有限带宽</strong></li>
<li>实际使用时，可以接入滤波器，限制用户的带宽</li>
<li>通过信道的 <strong>谐波次数 N 越多，信号越逼真</strong>
EG：<img src="../images/image-20240919110243928.png" alt="image-20240919110243928" style="zoom:50%;" /></li>
</ul>
<h4 id="_38">信道的最大数据传输速率<a class="headerlink" href="#_38" title="Permanent link">&para;</a></h4>
<h5 id="nyquist">奈魁斯特定理 Nyquist<a class="headerlink" href="#nyquist" title="Permanent link">&para;</a></h5>
<p><strong>无噪声</strong> 有限带宽信道的最大数据传输率公式</p>
<ul>
<li>最大数据传输率 = <span class="arithmatex">\(2Hlog_2V\)</span>​ (bps)</li>
<li>任意信号通过一个 <em>带宽为 Ｈ</em> 的低通滤波器，则 <em>每秒采样 2H 次（频率 Hz）</em> 就能完整地重现该信号（无损！），<em>信号电平分为 V 级</em></li>
</ul>
<hr />
<p>EG：无噪声理想信道带宽 4MHz，QAM 调制，信道最大数据传输速率为 48Mb/s，则 QAM 调制方案是？</p>
<blockquote>
<p><span class="arithmatex">\(2Hlog_2V=48Mb/s\)</span>，H = 4MHz，算得 V = 64 ==&gt; QAM-64</p>
<p>[!NOTE]</p>
<p><a href="# 波特率(baud rate)">Symbol rate vs. Data rate</a></p>
<p>symbol 代表若干个比特，symbol rate 又叫波特率 baud rate</p>
<p>data rate = symbol rate * bits per symbol 比特率 = 波特率 <span class="arithmatex">\(\times\)</span> 每码元所含的比特数</p>
<p><strong>The modulation technique determines the number of bits/symbol</strong></p>
<p>调制技术决定了比特/符号的数量，提高传输速率 =&gt; 每个码元携带更多 bit =&gt; 多元调制</p>
</blockquote>
<h5 id="_39">信噪比<a class="headerlink" href="#_39" title="Permanent link">&para;</a></h5>
<p>随机噪声出现的大小用 <strong>信噪比</strong>（<strong>信号功率 S</strong> 与 <strong>噪声功率 N</strong> 之比）来衡量</p>
<ul>
<li>信噪比 <span class="arithmatex">\(SNR\)</span> = <span class="arithmatex">\(10log_{10}S/N\)</span>​，单位：分贝 db</li>
<li>或 信噪比 <span class="arithmatex">\(SNR\)</span> = <span class="arithmatex">\(S/N\)</span> 没有单位</li>
</ul>
<h5 id="shannon">香农定理 Shannon<a class="headerlink" href="#shannon" title="Permanent link">&para;</a></h5>
<p>带宽为 <em>H 赫兹</em>，<em>信噪比为 S/N</em> 的任意信道的 <strong>最大数据传输率</strong> 为：<span class="arithmatex">\(<span class="arithmatex">\(Hlog_2(1 + S/N)\)</span>\)</span> (bps)</p>
<ul>
<li>此式是利用信息论得出的，具有普遍意义</li>
<li>与信号电平级数、采样速度无关</li>
<li>此式仅是上限，难以达到</li>
</ul>
<h5 id="_40">信息量<a class="headerlink" href="#_40" title="Permanent link">&para;</a></h5>
<p>一条消息包含信息的多少称为信息量</p>
<ul>
<li>信息量的大小与消息所描述事件的出现概率有关</li>
<li>一条消息所荷载的 <strong>信息量</strong> 等于它所表示的事件发生的 <strong>概率 p</strong> 的倒数的对数 <span class="arithmatex">\(I=log_a{\frac{1}{p}}=-log_ap\)</span></li>
<li>a 表示进制，a = 2 时，I 的单位为比特；a = 自然数 e，I 的单位为奈特，通常用 <strong>比特</strong> 作为信息量的单位</li>
</ul>
<h4 id="_41">数据通信系统模型<a class="headerlink" href="#_41" title="Permanent link">&para;</a></h4>
<p>信号是消息的载体</p>
<h5 id="_42">传输方式<a class="headerlink" href="#_42" title="Permanent link">&para;</a></h5>
<ul>
<li>串行、并行</li>
<li>点到点/点到多点</li>
<li>交互方式：</li>
<li>单工/单向（sender—&gt; receiver，方向指定），需要一个信道</li>
<li>半双工（双向但不能同时），需要两个信道，每个方向一个</li>
<li>
<p>全双工（双向可同时），需要两个信道，每个方向一个</p>
</li>
<li>
<p>基带传输、频带传输</p>
</li>
</ul>
<h5 id="digital-modulation">数据编码技术/调制 digital modulation<a class="headerlink" href="#digital-modulation" title="Permanent link">&para;</a></h5>
<ol>
<li><strong>不归零制码</strong>（NRZ：Non-Return to Zero）
   - 原理：用两种不同的电平分别表示二进制信息“0”和“1”，低电平表示“0”，高电平表示“1”
   - 缺点：难以分辨一位的结束和另一位的开始；发送方和接收方必须有时钟同步；若信号中“0”或“1”连续出现，信号直流分量将累加
   - 结论：容易产生传播错误</li>
<li><strong>曼彻斯特码</strong>（Manchester），也称相位编码
   - 原理：每一位中间都有一个跳变，从低跳到高表示“0”，从高跳到低表示“1”
   - 优点：克服了 NRZ 码的不足。每位中间的跳变即可作为数据，又可作为时钟，能够自同步
   - 每个比特需要两个信号周期，信号率（波特率）是数据率的两倍，编码效率是 50%</li>
<li><strong>差分曼彻斯特码</strong>（Differential Manchester）
   - 原理：每一位中间都有一个跳变，每位开始时有跳变表示“0”，无跳变表示“1”。位中间跳变表示时钟，位前跳变表示数据
   - 优点：时钟、数据分离，便于提取</li>
</ol>
<p><img src="./assets/image-20240919115358181.png" alt="image-20240919115358181" style="zoom:50%;" /></p>
<ul>
<li>
<p>曼彻斯特编码和差分曼彻斯特编码在每个码元的中间都发生电平跳变，相当于将一个码元一分为二，编码速率是码元速率的 2 倍，二者所占的频带宽度是原始基带宽度的 2 倍。</p>
</li>
<li>
<p>标准以太网使用的就是曼彻斯特编码，而差分曼彻斯特编码则被广泛用于宽带高速网中</p>
</li>
</ul>
<h4 id="_43">频带传输<a class="headerlink" href="#_43" title="Permanent link">&para;</a></h4>
<p><strong>三种调制技术</strong>：载波 Asin(ωt + φ)的三个特性 <strong>幅度、频率、相位</strong></p>
<blockquote>
<p>调制是把数字数据变成模拟信号</p>
</blockquote>
<ul>
<li>幅移键控法（调幅） Amplitude-shift keying (<strong>ASK</strong>)，幅移就是把频率、相位作为常量，而把振幅作为变量</li>
<li>频移键控法 （调频）Frequency-shift keying (<strong>FSK</strong>)，频移就是把振幅、相位作为常量，而把频率作为变量</li>
<li>相移键控法（调相） Phase-shift keying (<strong>PSK</strong>)，相移就是把振幅、频率作为常量，而把相位作为变量</li>
</ul>
<p>PSK 又称 BPSK：使用了基准的正弦波和相位反转的波浪，使一方为 0，另一方为 1，从而可以同时传送接受 2 值(1 比特)的信息</p>
<p>QPSK：一种四进制相位调，制采用移相方式 QPSK，每个点 2 比特信息，具有良好的抗噪特性和频带利用率通信业</p>
<p>QAM（Quadrature Amplitude Modulation）：正交幅度调制是是一种数字调制方式，产生的方法有正交调幅法和复合相移，16QAM 是指包含 16 种符号的 QAM 调制方式（用 4 个 symbol）</p>
<ul>
<li>在频率相同的前提下，将 AM 与 PM 结合起来，形成叠加信号。</li>
<li>设波特率为 B ，采用 m 个相位，每个相位有 n 种振幅，则该 QAM 的数据传输速率 R 为 <span class="arithmatex">\(R =Blog_2( mn )\)</span>
  （单位为 b/s )</li>
</ul>
<h3 id="_44">传输介质<a class="headerlink" href="#_44" title="Permanent link">&para;</a></h3>
<h4 id="_45">分类<a class="headerlink" href="#_45" title="Permanent link">&para;</a></h4>
<h5 id="guided-transmission-media">导引性介质 guided transmission media<a class="headerlink" href="#guided-transmission-media" title="Permanent link">&para;</a></h5>
<p>指电磁波被导向沿着某一媒体传播，包括双绞线、同轴电缆、电力线和光纤等</p>
<p><strong>磁介质 magnetic tape</strong></p>
<ul>
<li>
<p>顺序读写</p>
</li>
<li>
<p>Bandwidth 带宽 = 800GB/tape × 1000 tapes/box / (24×60×60s) = 70+Gbps</p>
</li>
<li>
<p>Cost = (800GB/tape × 1000tapes/box) / 5000$ = 160GB/$</p>
</li>
</ul>
<blockquote>
<p>Never underestimate the bandwidth of station wagon full of tapes hurtling down the highway. 带宽很大，但延迟多</p>
</blockquote>
<p><strong>双绞线 twisted pair（网线）</strong></p>
<ul>
<li>绞合密度、扭绞方向和绝缘材料等因素影响双绞线的特性阻抗、衰减和近端串扰</li>
<li>适用于模拟传输或数据传输，通信距离一般为几到几十公里</li>
<li>便宜、常见</li>
<li>局域网多采用双绞线作为传输介质</li>
<li>Eg，UTP无屏蔽双绞线、FTP屏蔽双绞线、SFTP屏蔽金属箔双绞线、STP屏蔽双绞线</li>
</ul>
<p><strong>同轴电缆 coaxial cable</strong></p>
<ul>
<li>寿命长、容量大、传输稳定、外界干扰小、维护方便等优点</li>
<li>同轴电缆带宽高得益于它的高屏蔽性相比于双绞线</li>
</ul>
<p><strong>光纤 fiber</strong></p>
<ul>
<li>双层或多层同心园柱体（类似同轴电缆），由纤芯、包层和护套组成</li>
<li>三种实用光纤</li>
<li>单模 纤芯直径很小，折射率分布属于突变型；带宽极大，适用于大容量远距离通信<ul>
<li>若光纤的直径减小到光一个波长的大小，则光沿直线传播</li>
</ul>
</li>
<li>多模突变 带宽较窄，适用于小容量短距离通信</li>
<li>
<p>多模渐变 纤带宽较宽，适用于中容量中距离通信</p>
<ul>
<li>多模光纤传输信号的原理：光的全发射特性</li>
</ul>
</li>
<li>
<p>光纤损耗和波长有关系，三个窗口</p>
</li>
<li>
<p>光纤损耗分为</p>
</li>
<li>
<p>固有损耗指光纤材料的性质和微观结构引起的吸收损耗和瑞利散射损耗</p>
</li>
<li>
<p>非固有损耗指杂质吸收、结构不规则引起的散射和弯曲幅射损耗等</p>
</li>
<li>
<p>优点：通信容量大、传输损耗小、抗干扰性好、保密性好、体积小、重量轻</p>
</li>
</ul>
<p><strong>电力载波</strong></p>
<p>电力载波是电力系统特有的通信方式</p>
<ul>
<li>
<p>利用现有电力线，通过载波方式将模拟或数字信号进行高速传输</p>
</li>
<li>
<p>交流电信号+信号 = 调制信号</p>
</li>
</ul>
<p>优点：投资少、连接方便、传输速率高、安全性好和使用范围广</p>
<p>缺点：无法提供高质量的数据传输业务，如家庭电器产生的电磁波干扰等</p>
<h5 id="_46">非导引性介质<a class="headerlink" href="#_46" title="Permanent link">&para;</a></h5>
<p>指电磁波在大气层、外层空间或海洋中进行的无线传播，包括短波传输、地面微波、卫星微波、光波传输等</p>
<p><strong>短波传输（无线电波）</strong></p>
<p>100m～10m 波长长-&gt; 绕射能力强-&gt; 传播距离远</p>
<p>多径传播：短波电波通过若干条路径或者不同的传播模式由发信点到达收信点的长度不同，而引起由发信点到达收信点的时间不同的现象</p>
<p>多径时散：指不同路径的时延差；与路径长度、工作频率、昼夜、季节等因素有关</p>
<ul>
<li>多径时散对数据通信的影响主要体现在码间干扰</li>
<li>为了保证传输质量，往往采用限制数据传输速率的措施</li>
</ul>
<p>散射传输：利用大气层中传输媒体的不均匀性对无线电波的散射作用进行的超视距通信</p>
<p><strong>微波</strong></p>
<ul>
<li>1m～1mm</li>
<li>多路复用、射频工作和中继接力是地面微波传输的三个最基本的工作特点</li>
<li>波长 m * 频率 Hz = 速度 m/s</li>
</ul>
<p><strong>光波</strong></p>
<ul>
<li>
<p>3×10^2^～60×10^4^μm</p>
</li>
<li>
<p>分类</p>
</li>
<li>
<p>按照光源特性的不同，分为激光通信和非激光通信</p>
</li>
<li>
<p>按照传输媒体的不同，分为大气激光通信和光纤通信</p>
</li>
<li>
<p>按照传输波段的不同，光波通信分为可见光通信、红外线（光）通信和紫外线（光）通信</p>
</li>
</ul>
<p>大气激光通信可传输语音、数据、图像等信息</p>
<ul>
<li>
<p>具有抗干扰性好、设备轻便、保密性强、机动性</p>
</li>
<li>
<p>但使用时收、发天线相互对准较为困难，通信距离限于视距范围</p>
</li>
<li>
<p>易受气候影响，尤其在恶劣气候条件下会造成通信中断</p>
</li>
</ul>
<p><strong>红外线</strong></p>
<p>不可见光，其波长范围 760nm~4.0*10^5^nm</p>
<h3 id="_47">无线与卫星通信<a class="headerlink" href="#_47" title="Permanent link">&para;</a></h3>
<h4 id="_48">无线<a class="headerlink" href="#_48" title="Permanent link">&para;</a></h4>
<p><strong>无线传输：</strong> 可以在自由空间利用电磁波发送和接收信号进行通信</p>
<p><strong>无线电波</strong>：指在自由空间（包括空气和真空）传播的射频频段的电磁波</p>
<p><img src="./assets/image-20240926111831530.png" alt="image-20240926111831530" style="zoom: 67%;" /></p>
<h4 id="_49">卫星通信（不做很高的要求）<a class="headerlink" href="#_49" title="Permanent link">&para;</a></h4>
<p>利用人造地球卫星作为中继站，转发或反射无线电波，在两个或多个地球站之间进行的通信</p>
<p>特点</p>
<ul>
<li>传播时延长，从一个地球站经卫星到另一个地球站的电波传播传播时间约需 240～280ms（可取 270ms） </li>
<li>传播损耗大，达 200dB 左右</li>
<li>受大气层的影响大</li>
<li>“面覆盖”式的传播信道</li>
</ul>
<p>卫星通信的缺点</p>
<ul>
<li>
<p>传输时延大：500 毫秒~800 毫秒的时延</p>
</li>
<li>
<p>高纬度地区难以实现卫星通信</p>
</li>
<li>
<p>为了避免各卫星通信系统之间的相互干扰，同步轨道的星位是有一点限度的，不能无限制地增加卫星数量</p>
</li>
<li>
<p>太空中的日凌现象和星食现象会中断和影响卫星通信</p>
</li>
</ul>
<p><strong>移动卫星通信</strong></p>
<p>静止轨道~</p>
<p>中轨道~</p>
<p>低轨道~(LEO)</p>
<ul>
<li>信号传输时延小</li>
<li>地面终端设备简单、造价低，是手持式终端的最佳方式</li>
<li>卫星造价低、发射容易</li>
</ul>
<h3 id="_50">中继器<a class="headerlink" href="#_50" title="Permanent link">&para;</a></h3>
<p>中继器可以用来连接不同介质的局域网（速率、协议要相同）</p>
<p>中继器原理：信号再生</p>
<p>中继器作用：加强基带信号（用于传输的数字信号）</p>
<p>分层中继系统</p>
<ul>
<li>物理层</li>
<li>转发器</li>
<li>集线器 Hub：多端口、半双工，所有端口属于一个冲突域</li>
<li>数据链路层</li>
<li><a href="# 链路层交换机">网桥或交换机</a></li>
<li>网络层</li>
<li><a href="# 工作原理">路由器</a></li>
<li>网络层以上</li>
<li>网关</li>
</ul>
<h3 id="_51">其他<a class="headerlink" href="#_51" title="Permanent link">&para;</a></h3>
<p>两个网段在物理层进行互连时要求：数据传输速率必须相同</p>
<p><strong>冲突域</strong> 是同一时间内只能有一台设备发送信息的范围，<strong>广播域</strong> 是能接收收到广播信号的设备范围。</p>
<h2 id="_52">数据链路层<a class="headerlink" href="#_52" title="Permanent link">&para;</a></h2>
<blockquote>
<p>[!NOTE]</p>
<p>（一）数据链路层的功能</p>
<p>（二）组帧</p>
<p>（三）差错控制</p>
<ul>
<li>检错编码；纠错编码</li>
</ul>
<p>（四）流量控制与靠传输机制</p>
<ul>
<li>流量控制、可靠传输与滑动窗口机制；停止 ﹣ 等待协议；</li>
<li>后退 N 帧协议（ GBN )；选择重传协议（ SR )</li>
</ul>
<p>（五）介质访问控制</p>
<ol>
<li>划分：频分复用、时分复用、波分复用、码分复用</li>
<li>随机访问： ALOHA 协议； CSMA 协议； CSMA / CD 协议； CSMA / CA 协议 3． 轮询访问：令牌传递协议</li>
</ol>
<p>（六）局域网</p>
<ul>
<li>局域网的基本概念与体系结构；</li>
<li>以太网与 IEEE 802.3; IEEE802.11 无线局域网； </li>
<li>VLAN 的基本概念与基本原理</li>
</ul>
<p>（七）广域网</p>
<ul>
<li>广域网的基本概念； PPP 协议</li>
</ul>
<p>（八）数据链路层设备</p>
<ul>
<li>以太网交换机及其工作原理</li>
</ul>
<p>[!IMPORTANT]</p>
<p>本章目标</p>
<p><img src="./assets/image-20241226113621858.png" alt="image-20241226113621858" style="zoom: 67%;" /></p>
</blockquote>
<h3 id="_53">数据链路层的设计问题<a class="headerlink" href="#_53" title="Permanent link">&para;</a></h3>
<h4 id="_54">数据链路层在协议栈中的位置<a class="headerlink" href="#_54" title="Permanent link">&para;</a></h4>
<p>向下：利用物理层提供的位流服务</p>
<p>向上：向网络层提供明确的 (well-defined) 服务接口</p>
<p><img src="./assets/image-20240926120633253.png" alt="image-20240926120633253" style="zoom:50%;" /></p>
<h4 id="_55">数据链路层的功能<a class="headerlink" href="#_55" title="Permanent link">&para;</a></h4>
<p><strong>成帧（Framing）</strong></p>
<ul>
<li>将比特流划分成“帧”的主要目的是为了检测和纠正物理层在比特传输中可能出现的错误，数据链路层功能需借助“帧”的各个域来实现</li>
</ul>
<p><strong>差错控制（Error Control）</strong> </p>
<ul>
<li>处理传输中出现的差错，如位错误、丢失等</li>
</ul>
<p>流量控制（Flow Control） （重点前两个）</p>
<ul>
<li>确保发送方的发送速率，不大于接收方的处理速率</li>
<li>避免接收缓冲区溢出</li>
</ul>
<h4 id="_56">数据链路层提供的服务<a class="headerlink" href="#_56" title="Permanent link">&para;</a></h4>
<p><strong>无确认无连接</strong>（ Unacknowledged connectionless ） </p>
<ul>
<li>
<p>接收方不对收到的帧进行确认</p>
</li>
<li>
<p>适用场景：误码率低的可靠信道；实时通信（延迟低）</p>
</li>
<li>
<p>网络实例：以太网</p>
</li>
</ul>
<p><strong>有确认无连接</strong>（ Acknowledged connectionless ） </p>
<ul>
<li>
<p>每一帧都得到单独的确认</p>
</li>
<li>
<p>适用场景：不可靠的信道（无线通信）</p>
</li>
<li>
<p>网络实例：802.11</p>
</li>
</ul>
<p><strong>有确认有连接</strong>（ Acknowledged connection-oriented ） </p>
<ul>
<li>适用场景：长延迟的不可靠信道，例如卫星通信</li>
</ul>
<blockquote>
<p>[!NOTE]</p>
<p>有连接就一定要有确认，即不存在无确认有连接的服务</p>
</blockquote>
<h4 id="framing">成帧 framing<a class="headerlink" href="#framing" title="Permanent link">&para;</a></h4>
<p>在数据前后都添加首部和尾部，构成帧，帧是数据链路层的传输单元</p>
<p><img src="./assets/image-20241010094050531.png" alt="image-20241010094050531" style="zoom: 33%;" /></p>
<p><strong>定界符</strong> 标识一个帧的开始</p>
<ul>
<li>
<p><strong>字节计数法</strong>（ Byte count ） ：无差错传输的情形，现实中很少用（多米诺骨牌式错误</p>
</li>
<li>
<p><img src="./assets/image-20241027153503965.png" alt="image-20241027153503965" style="zoom:50%;" /></p>
</li>
<li>
<p><strong>带字节填充的定界符法</strong>（ <strong>Flag bytes</strong> with <strong>byte stuffing</strong>）</p>
</li>
<li>
<p>定界符：一个特殊的字节，比如 01111110，即 0x7E，用于区分前后两个不同的帧</p>
</li>
<li>发送发将数据（有效载荷）中加入 <em>转义字符</em> 加以区分
    <img src="../images/image-20240926121740625.png" alt="image-20240926121740625" style="zoom:50%;" /></li>
<li>接收方逐个检查收到的每一个字节<ul>
<li>收到 ESC，则后一字节无条件成为有效载荷，不予检查</li>
<li>收到 FLAG，则为帧的边界</li>
</ul>
</li>
</ul>
<blockquote>
<p>不足：overhead 开销大、效率低</p>
</blockquote>
<ul>
<li>
<p><strong>带比特填充的定界符法</strong>（ <strong>Flag bits</strong> with <strong>bit stuffing</strong> ）</p>
</li>
<li>
<p>定界符：两个 0 比特之间，连续 6 个 1 比特，即 01111110，0x7E</p>
</li>
<li>发送方在数据（有效载荷）中出现连续 5 个 1 比特，则直接插入 1 个 0 比特 &rarr; <em>数据中不会出现定界符</em></li>
<li>
<p>接收方若出现连续 5 个 1 比特</p>
<ul>
<li>若下一比特为 0，则为有效载荷，直接丢弃 0 比特</li>
<li>若下一比特为 1，则连同后一比特的 0，构成定界符，一帧结束</li>
</ul>
</li>
<li>
<p><strong>物理层编码违例</strong>（ Physical layer coding violations ）</p>
</li>
<li>
<p>核心思想：选择的定界符不会在数据部分出现</p>
</li>
<li>和曼彻斯特编码有关联 ？？</li>
</ul>
<h4 id="_57">差错控制<a class="headerlink" href="#_57" title="Permanent link">&para;</a></h4>
<p>链路层存在的一个问题：信道的噪声导致数据传输问题</p>
<ul>
<li>
<p>差错（ incorrect ）：数据发生错误</p>
</li>
<li>
<p>丢失（ lost ）：接收方未收到</p>
</li>
<li>
<p>乱序（out of order）：先发后到，后发先到</p>
</li>
<li>
<p>重复（repeatedly delivery）：一次发送，多次接收</p>
</li>
</ul>
<p>✋🏻 解决方案：差错检测与纠正、确认重传</p>
<ul>
<li>
<p>确认：接收方校验数据（差错校验），并给发送方应答，防止差错</p>
</li>
<li>
<p>定时器：发送方启动定时器，防止丢失</p>
</li>
<li>
<p>顺序号：接收方检查序号，防止乱序递交、重复递交</p>
</li>
</ul>
<h4 id="_58">流量控制<a class="headerlink" href="#_58" title="Permanent link">&para;</a></h4>
<p>链路层存在的另一个问题：接收方的处理速率</p>
<ul>
<li>接收方的接收缓冲区溢出</li>
</ul>
<p>✋🏻 解决方案</p>
<ul>
<li>
<p>基于反馈 (feedback-based) 的流量控制</p>
</li>
<li>
<p>接收方反馈，发送方调整发送速率</p>
</li>
<li>
<p>基于速率 (rate-based) 的流量控制</p>
</li>
<li>
<p>发送方根据内建机制，自行限速</p>
</li>
</ul>
<h3 id="_59">差错检测和纠正<a class="headerlink" href="#_59" title="Permanent link">&para;</a></h3>
<p>通常采用增加冗余信息（或称校验信息）的策略</p>
<ul>
<li>示例：每个比特传三份，如果每比特的三份中有一位出错，可以纠正</li>
</ul>
<h4 id="error-detecting-code">检错码（error-detecting code）<a class="headerlink" href="#error-detecting-code" title="Permanent link">&para;</a></h4>
<p>在被发送的数据块中，包含一些冗余信息，但这些信息只能使接收方推断是否发生错误，但不能推断哪位发生错误，接收方可以请求发送方重传数据</p>
<ul>
<li>主要用在 <strong>高可靠、误码率较低</strong> 的信道上，例如光纤链路</li>
<li>偶尔发生的差错，可以通过重传解决差错问题</li>
</ul>
<h4 id="error-correcting-code">纠错码（error-correcting code)<a class="headerlink" href="#error-correcting-code" title="Permanent link">&para;</a></h4>
<p>发送方在每个数据块中加入足够的冗余信息，使得接收方能够判断接收到的数据是否有错，并能纠正错误（<em>定位出错的位置</em>） </p>
<ul>
<li>主要用于 <strong>错误发生比较频繁</strong> 的信道上，如无线链路</li>
<li>也经常用于物理层，以及更高层（例如，实时流媒体应用和内容分发）</li>
<li>使用纠错码的技术通常称为 <em>前向纠错</em>（FEC，Forward Error Correction)</li>
</ul>
<p><strong>码字 (code word)</strong>：一个包含 m 个数据位和 r 个校验位的 n 位单元，描述为 (n, m) 码，n = m+r</p>
<p><strong>码率 (code rate)</strong>：码字中不含冗余部分所占的比例，可以用 m/n 表示</p>
<h4 id="hamming-distance">海明距离 (Hamming distance)<a class="headerlink" href="#hamming-distance" title="Permanent link">&para;</a></h4>
<p>给定 m 的条件下，纠正单个错误所需校验位数的下限：<span class="arithmatex">\(m+r+1≤2^r\)</span></p>
<ul>
<li>m 为消息位个数，r 为校验位个数</li>
</ul>
<p><strong>两个码字的海明距离</strong>：两个码字之间不同对应比特的数目</p>
<ul>
<li>例：0000000000 与 0000011111 的海明距离为 5 </li>
<li>如果两个码字的海明距离为 d，则需要 d 个单比特错就可以把一个码字转换成另一个码字 </li>
</ul>
<p><strong>一种编码方案（code）的海明距离</strong></p>
<ul>
<li>该编码方案中 <strong>任意</strong> 两个 <strong>合法</strong> 码字的 <strong>最小</strong> 海明距离</li>
</ul>
<p><img src="./assets/image-20241010101507783.png" alt="image-20241010101507783" style="zoom:50%;" /></p>
<p><mark>The error-detection and error-correcting properties of a code depend on its Hamming distance.</mark> 代码的错误检测和纠错特性取决于其海明距离</p>
<p><img src="./assets/image-20241010101647584.png" alt="image-20241010101647584" style="zoom:50%;" /></p>
<p>To use Hamming distance to correct <em>d</em> errors: you need <em>2d</em>+1 Hamming distance code. 用海明距离 <strong>纠正 d 个错误需要 2d+1 个距离码</strong></p>
<hr />
<p><img src="./assets/image-20241026190950023.png" alt="image-20241026190950023" style="zoom:50%;" /></p>
<p>图 3-6 纠正 1 位错误的海明码：海明距离为 3，可以纠正 1 个错误或者检测两个错误</p>
<h4 id="_60">典型检错码<a class="headerlink" href="#_60" title="Permanent link">&para;</a></h4>
<p>常用的检错码包括：</p>
<ul>
<li>奇偶检验 (Parity Check)：1 位奇偶校验是最简单、最基础的检错码</li>
<li>校验和 (Checksum)：主要用于 TCP/IP 体系中的网络层和传输层</li>
<li>循环冗余校验 (Cyclic Redundancy Check，CRC)：数据链路层广泛使用的校验方法，crc 只能检错不能纠错</li>
</ul>
<h5 id="_61">奇偶校验<a class="headerlink" href="#_61" title="Permanent link">&para;</a></h5>
<p>1 位奇偶校验：增加 1 位校验位，<strong>可以检查奇数位错误</strong> &rarr; 1 个 bit 的错误</p>
<ul>
<li>n-1 个信息位+1 位检验位</li>
<li>偶校验：保证 n 个码字中 1 的个数为偶数个</li>
<li>奇校验：保证 n 个码字中 1 的个数为奇数个</li>
</ul>
<h5 id="_62">校验和<a class="headerlink" href="#_62" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241010103018514.png" alt="image-20241010103018514" style="zoom:50%;" /></p>
<p>对首部的每个 16bit 按反码运算求和再取反码</p>
<h5 id="crc">循环冗余校验 CRC<a class="headerlink" href="#crc" title="Permanent link">&para;</a></h5>
<p>cyclic redundancy code</p>
<p><img src="./assets/image-20241010103456548.png" alt="image-20241010103456548" style="zoom:50%;" /></p>
<p><img src="./assets/image-20241010103759787.png" alt="image-20241010103759787" style="zoom:50%;" /></p>
<p>余数 R，作为 FCS</p>
<p>CRC 有纠错功能，但是数据链路层只用了它的检错功能</p>
<blockquote>
<p>[!NOTE]</p>
<p><img src="./assets/image-20241010104633476.png" alt="image-20241010104633476" style="zoom:50%;" /></p>
</blockquote>
<h4 id="hamming-code">海明码 hamming code<a class="headerlink" href="#hamming-code" title="Permanent link">&para;</a></h4>
<p>有效信息 n 位，检验位 k 位，满足：<span class="arithmatex">\(n+k≤2^k-1\)</span>​</p>
<p>纠错 1 位</p>
<p><img src="./assets/image-20241010104906952.png" alt="image-20241010104906952" style="zoom:50%;" /></p>
<p><img src="./assets/image-20241010105010202.png" alt="image-20241010105010202" style="zoom:50%;" /></p>
<p>纠正</p>
<p><img src="./assets/image-20241010105806099.png" alt="image-20241010105806099" style="zoom:50%;" /> <img src="./assets/image-20241010105834666.png" alt="image-20241010105834666" style="zoom:50%;" /></p>
<p><img src="./assets/image-20241010105936347.png" alt="image-20241010105936347" style="zoom:50%;" /></p>
<p>按列发，每行最多错一位，可以纠正</p>
<p><a href="https://blog.csdn.net/hamster204/article/details/90748043">最通俗易懂的海明码校验纠错讲解_海明码纠错-CSDN 博客</a></p>
<h4 id="convolutional-code">卷积码 Convolutional Code<a class="headerlink" href="#convolutional-code" title="Permanent link">&para;</a></h4>
<p>​                       </p>
<h4 id="trellis-diagram">Trellis diagram<a class="headerlink" href="#trellis-diagram" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20241010112646389.png" alt="image-20241010112646389" style="zoom:40%;" /></p>
<blockquote>
<p><img src="./assets/image-20241010113409601.png" alt="image-20241010113409601" style="zoom:50%;" /></p>
<p>S0-&gt; S2-&gt; S3-&gt; S1 输出 state 00 11 01 01 原始数据：0 1 1 0</p>
</blockquote>
<h3 id="_63">基本的数据链路层协议<a class="headerlink" href="#_63" title="Permanent link">&para;</a></h3>
<h4 id="_64">关键假设<a class="headerlink" href="#_64" title="Permanent link">&para;</a></h4>
<p>✋🏻 分层进程独立假设</p>
<ul>
<li>
<p>网络层、数据链路层、物理层为独立的进程</p>
</li>
<li>
<p>进程间通过传递消息实现通信</p>
</li>
</ul>
<p>✋🏻 提供可靠服务假设</p>
<ul>
<li>
<p>提供可靠的、面向连接的服务</p>
</li>
<li>
<p>数据链路层发送的数据随时可向网络层获得</p>
</li>
</ul>
<p>✋🏻 只处理通信错误假设</p>
<ul>
<li>
<p>仅处理通信错误</p>
</li>
<li>
<p>假设机器不会崩溃，不考虑断电、重启等引起的问题</p>
</li>
</ul>
<h4 id="_65">基本的协议定义<a class="headerlink" href="#_65" title="Permanent link">&para;</a></h4>
<p><img alt="image-20241010114039440" src="assets/image-20241010114039440.png" /></p>
<h4 id="_66">乌托邦式单工协议<a class="headerlink" href="#_66" title="Permanent link">&para;</a></h4>
<p>假设</p>
<ul>
<li>
<p>单工（Simplex）协议：数据单向传输</p>
</li>
<li>
<p>完美信道：帧不会丢失或受损</p>
</li>
<li>
<p>始终就绪：发送方/接收方的网络层始终处于就绪状态</p>
</li>
<li>
<p>瞬间完成：发送方/接收方能够生成/处理无穷多的数据</p>
</li>
</ul>
<p>✋🏻 乌托邦：完美但不现实的协议</p>
<ul>
<li>
<p>不处理任何流量控制或纠错工作</p>
</li>
<li>
<p>接近于无确认的无连接服务，必须依赖更高层次解决上述问题</p>
</li>
</ul>
<h4 id="-">无错信道单工停止-等待协议<a class="headerlink" href="#-" title="Permanent link">&para;</a></h4>
<p>不再假设</p>
<ul>
<li>
<p>接收方能够处理以无限高速进来的数据</p>
</li>
<li>
<p>发送方以高于接收方能处理到达帧的速度发送帧，导致接收方被“淹</p>
</li>
</ul>
<p>没”(overwhelming)</p>
<p>✋🏻 仍然假设</p>
<ul>
<li>
<p>通信信道不会出错（Error-Free） </p>
</li>
<li>
<p>数据传输保持单向, 但是需要双向传输链路（半双工物理信道）</p>
</li>
</ul>
<p><img src="./assets/image-20241010114532082.png" alt="image-20241010114532082" style="zoom:50%;" /></p>
<h4 id="-_1">有错信道单工停止-等待协议<a class="headerlink" href="#-_1" title="Permanent link">&para;</a></h4>
<p>➡️ 假设</p>
<ul>
<li>通信信道可能会出错，导致：</li>
</ul>
<p>− 帧在传输过程中可能会被损坏，接收方能够检测出来</p>
<p>− 帧在传输过程中可能会丢失 ，永远不可能到达接收方</p>
<p>➡️ 一个简单的解决方案</p>
<ul>
<li>发送方增加一个 <em>计时器(timer)</em>，如果经过一段时间没有收到确认，发送方将超时，于是再次发送该帧</li>
</ul>
<p>stop and wait</p>
<p><img src="./assets/image-20241010115024755.png" alt="image-20241010115024755" style="zoom:50%;" /></p>
<p><img alt="image-20241010115505791" src="assets/image-20241010115505791.png" /></p>
<p><strong>效率的评估</strong></p>
<p>F = frame size (bits) 
R = channel capacity (Bandwidth in bits/second)
I = propagation delay + processor service time (second)</p>
<ul>
<li>
<p>每帧发送时间 (Time to transmit a single frame) = F/R</p>
</li>
<li>
<p>总延迟 (Total Delay) = D = 2I</p>
</li>
<li>
<p>停止等待协议的发送工作时间是 F/C，空闲时间是 D </p>
</li>
</ul>
<p>当 F &lt; D 时：<mark>信道利用率 (line utilization)= <span class="arithmatex">\(\frac{F}{F+R·D}\)</span> &lt; 50%</mark></p>
<h4 id="_67">停等协议的性能问题<a class="headerlink" href="#_67" title="Permanent link">&para;</a></h4>
<p>✋🏻 停止-等待机制降低了信道利用率</p>
<ul>
<li>
<p>设数据速率记为 R，帧长度记为 F，往返延迟记为 D，则采用停-等协议的线路效率为：F/(F+R·D)</p>
</li>
<li>
<p>假如将链路看成是一根管道，数据是管道中流动的水，那么在传输延迟较长的信道上，停-等协议无法使数据充满管道，因而信道利用率很低</p>
</li>
</ul>
<p>✋🏻 解决办法</p>
<ul>
<li>流水线协议或管道协议：允许发送方在没收到确认前连续发送多个帧</li>
</ul>
<h3 id="_68">滑动窗口协议<a class="headerlink" href="#_68" title="Permanent link">&para;</a></h3>
<p>用于流量控制</p>
<h4 id="_69">滑动窗口协议<a class="headerlink" href="#_69" title="Permanent link">&para;</a></h4>
<p>窗口机制：发送方和接收方都具有一定容量的缓冲区（即窗口），发送端在收到确认之前可以发送多个帧</p>
<p>目的：</p>
<ul>
<li>对可以连续发出的最多帧数（已发出但未确认的帧）作限制</li>
</ul>
<p>✋🏻 序号使用</p>
<ul>
<li>循环重复使用有限的帧序号</li>
</ul>
<p>✋🏻 流量控制：接收窗口驱动发送窗口的转动</p>
<ul>
<li>
<p>发送窗口：其大小记作 W<sub>T</sub>，表示在收到对方确认的信息之前，可以连续发出的最多数据帧数</p>
</li>
<li>
<p>接收窗口：其大小记作 W<sub>R</sub> ，为可以连续接收的最多数据帧数</p>
</li>
</ul>
<p>对于窗口大小为 n 的滑动窗口，其发送窗口的大小最大为 n-1，即最多有 n-1 帧已发送但没有被确认</p>
<p>✋🏻 <strong>累计确认</strong>：不必对收到的分组逐个发送确认，而是对按序到达的最后一个分组发送确认</p>
<p><img src="./assets/image-20241010121042703.png" alt="image-20241010121042703" style="zoom:50%;" /></p>
<p>收到，前窗口后移，后窗口不动；发出确认后，后窗口才后移</p>
<h4 id="-_2">停止-等待协议<a class="headerlink" href="#-_2" title="Permanent link">&para;</a></h4>
<p>发送方每次只能发一个帧，当发送方收到接收方的确认帧之后，才能发生下一个帧</p>
<p>从滑动窗口角度看，停止-等待协议的发送窗口和接收窗口大小均为 1</p>
<ul>
<li>
<p>超时重传</p>
</li>
<li>
<p>信道利用率 U 很低</p>
</li>
</ul>
<p>$$
U =\frac{T_D}{T_D+RTT+T_A}
$$
发送时延 T<sub>D</sub>，接收时延 T<sub>A</sub>，往返时延 RTT</p>
<h4 id="n-gbn-5">回退 N 协议(GBN)（协议 5）<a class="headerlink" href="#n-gbn-5" title="Permanent link">&para;</a></h4>
<h5 id="_70">协议原理分析<a class="headerlink" href="#_70" title="Permanent link">&para;</a></h5>
<p>出错全部重发</p>
<ul>
<li>
<p>当接收端收到一个出错帧或乱序帧时，丢弃所有的后继帧，并且不为这些帧发送确认</p>
</li>
<li>
<p>发送端超时后，重传所有未被确认的帧</p>
</li>
<li>
<p>一般有累计确认的机制</p>
</li>
</ul>
<p>✋🏻 适用场景</p>
<ul>
<li>该策略对应接收窗口为 1 的情况，即只能 <strong>按顺序接收帧</strong></li>
</ul>
<p>✋🏻 优缺点</p>
<ul>
<li>
<p>优点：连续发送提高了信道利用率</p>
</li>
<li>
<p>缺点：按序接收，出错后即便有正确帧到达也丢弃重传</p>
</li>
</ul>
<p><img src="./assets/image-20241010121610811.png" alt="image-20241010121610811" style="zoom:50%;" /></p>
<h5 id="_71">协议的实现分析<a class="headerlink" href="#_71" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241010122334745.png" alt="image-20241010122334745" style="zoom:50%;" /></p>
<h4 id="select-and-repeatsr-6">选择重传协议 select and repeat(SR)（协议 6）<a class="headerlink" href="#select-and-repeatsr-6" title="Permanent link">&para;</a></h4>
<p>若发送方发出连续的若干帧后，收到对其中某一帧的否认帧，或某一帧的定时器超时，则 <strong>只重传该出错帧或计时器超时的数据帧</strong></p>
<p>该策略对应接收窗口大于 1 的情况，即暂存接收窗口中序号在出错帧之后的数据帧</p>
<ul>
<li>优点：避免重传已正确传送的帧</li>
<li>缺点：在接收端需要占用一定容量的缓存</li>
</ul>
<h5 id="_72">基本原理<a class="headerlink" href="#_72" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>在发送过程中，如果一个数据帧计时器 <strong>超时</strong>，就认为该帧丢失或者被破坏；<strong>接收端只把出错的的帧丢弃，其后面的数据帧保存在缓存中</strong>，并向发送端回复 NAK；发送端接收到 NAK 时，<strong>只重传出错的帧</strong></p>
</li>
<li>
<p>如果 <strong>落在窗口内的帧</strong> 从未接受过，那么存储起来，等比它序列号小的所有帧都正确接收后，按次序交付给网络层</p>
</li>
<li>
<p>接收端收到的数据包的顺序可能和发送的数据包顺序不一样，因此在数据包里必须含有 <strong>顺序号</strong> 来帮助接收端进行排序。</p>
</li>
<li>
<p><strong>没有累计确认的机制</strong></p>
</li>
</ul>
<p>滑动窗口长度</p>
<ul>
<li>发送窗口的尺寸：<span class="arithmatex">\(<span class="arithmatex">\(W^T ≤2^{n-1}\)</span>\)</span>​​, 发送窗口应等于或小于序号空间的一半</li>
<li>接收窗口小于等于发送窗口 <span class="arithmatex">\(<span class="arithmatex">\(W^R ≤2^{n-1}\)</span>\)</span></li>
</ul>
<h5 id="_73">协议实现分析<a class="headerlink" href="#_73" title="Permanent link">&para;</a></h5>
<p>发送方必须响应的三件事</p>
<ul>
<li>上层的调用：检测有没有可以使用的序号，如果有就发送</li>
<li>收到 ACK：如果收到的是最小序号的 ACK，窗口滑动。如果收到其他序号的 ACK，进行标记</li>
<li>超时事件：每个 PDU 都有定时器，哪个超时重传哪个</li>
</ul>
<p><img src="./assets/image-20241017101807227.png" alt="image-20241017101807227" style="zoom:33%;" /></p>
<p><img src="./assets/image-20241017101844229.png" alt="image-20241017101844229" style="zoom:33%;" /></p>
<ul>
<li>超时重传时间 RTO应略大于加权平均往返时间 RTT<sub>S</sub></li>
<li>新的 RTT<sub>S</sub>  =(1- α) ×(旧的 RTT<sub>S</sub>)  + α× (新的 RTT 样本) ，α =0.125（推荐值）</li>
</ul>
<h3 id="_74">数据链路协议实例<a class="headerlink" href="#_74" title="Permanent link">&para;</a></h3>
<h4 id="ppppoint-to-point-protocol">点到点链路层协议 PPP（Point to Point Protocol）<a class="headerlink" href="#ppppoint-to-point-protocol" title="Permanent link">&para;</a></h4>
<p>PPP 协议是目前使用最多的数据链路层协议之一</p>
<p>能够在不同的链路上运行；能够承载不同的网络层分组</p>
<p>特点：简单、灵活</p>
<h5 id="ppp">PPP 协议实现的功能<a class="headerlink" href="#ppp" title="Permanent link">&para;</a></h5>
<p>PPP 协议无须使用 CSMA/CD 协议，没有最短帧长的限制，信息段占 0~1500 字节，而不是 46~1500 字节</p>
<ul>
<li>PPP 不使用序号和确认机制，只保证无差错接收（ CRC 检验），因此是 <strong>不可靠服务</strong></li>
<li>PPP 只支持全双工的点对点链路，不支持多点线路</li>
<li>PPP 的两端可以运行不同的网络层协议，但仍可使用同一个 PPP 进行通信</li>
<li>PPP 是面向字节的，所有 PPP 帧的长度都是整数个字节</li>
</ul>
<h5 id="ppp_1">PPP 协议未实现的功能<a class="headerlink" href="#ppp_1" title="Permanent link">&para;</a></h5>
<p>帧数据的纠错功能</p>
<ul>
<li>数据链路层的 PPP 协议 <strong>只进行检错</strong>，PPP 协议是<strong>不可靠</strong>传输协议</li>
</ul>
<p>流量控制功能</p>
<ul>
<li>PPP 协议未实现点到点的流量控制</li>
</ul>
<p>可靠传输功能</p>
<ul>
<li>PPP 为 <strong>不可靠协议</strong>，不使用帧的序号。不可靠网络中可能使用有序号的工作方式</li>
</ul>
<p>多点连接功能</p>
<ul>
<li>PPP 协议不支持多点线路，<strong>只支持点对点</strong> 的链路通信</li>
</ul>
<p>单工和半双工链路</p>
<ul>
<li>PPP 协议支持全双工链路</li>
</ul>
<h5 id="ppp_2">PPP 协议的构成<a class="headerlink" href="#ppp_2" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20250110145741427.png" alt="image-20250110145741427" style="zoom:33%;" /></p>
<p>封装 (Encapsulation)</p>
<ul>
<li>提供在同一链路上支持不同的网络层协议</li>
<li>PPP 既支持异步链路（无奇偶检验的 8 比特数据），也支持面向比特的同步链路</li>
<li>IP 数据包在 PPP 帧中是其信息部分，其长度受到 MTU 的限制</li>
</ul>
<p>链路控制协议 LCP (Link Control Protocol)。 </p>
<ul>
<li>用来建立、配置和测试数据链路的链路控制协议，通信双方可协商一些选项</li>
</ul>
<p>网络控制协议 NCP (Network Control Protocol)。 </p>
<ul>
<li>其中每个协议支持一种不同的网络层协议，如 IP、OSI 的网络层、DECnet、AppleTalk 等</li>
</ul>
<h5 id="ppp_3">PPP 协议的帧格式<a class="headerlink" href="#ppp_3" title="Permanent link">&para;</a></h5>
<p>PPP协议中的透明传输</p>
<ul>
<li>当 PPP 用在异步传输时，使用一种特殊的字符填充法</li>
<li>当 PPP 用在同步传输链路时，协议规定采用硬件来完成比特填充（与HDLC 的做法类似）</li>
</ul>
<p>1.字节填充</p>
<p>避免在信息字段中出现和 <strong>标志字段</strong> 一样的比特组合（FLAG 为 0X7E） </p>
<p>当 PPP 使用 <strong>异步传输</strong> 时，定义 <strong>转义字符</strong> 0X7D，并使用字节填充（ESC 为 0X7D）</p>
<ul>
<li>将信息字段中出现的 0x7E 字节转变成为 2 字节序列(0x7D, 0x5E)</li>
</ul>
<p>2.零比特填充</p>
<p>PPP 协议用在 SONET/SDH 链路时，使用 <strong>同步传输</strong>（一连串的比特连续传送），不是异步传输（逐个字符地传送）</p>
<blockquote>
<p>异步传输是面向字符的传输，而同步传输是面向比特的传输</p>
</blockquote>
<h4 id="pppoe">PPPoE<a class="headerlink" href="#pppoe" title="Permanent link">&para;</a></h4>
<p>Ethernet 优点：原理简单，应用非常广，设备成本低</p>
<p>Ethernet 缺点：安全性较低、不宜管理：使用广播信道，造成了安全性较低，无认证功能</p>
<p>PPP 优点：</p>
<ul>
<li>原理简单</li>
<li>安全性高：点对点信道，提供认证机制</li>
<li>提供良好的访问控制和计费功能</li>
</ul>
<p>==&gt; 结合变成 PPPoE(Point-to-Point Protocol over Ethernet)</p>
<ul>
<li>提供在以太网链路上的 PPP 连接</li>
<li>实现了传统以太网不能提供的身份验证、加密，以及压缩等功能</li>
<li>实现基于用户的访问控制、计费、业务类型分类等，运营商广泛支持</li>
<li>PPPoE 使用 Client/Server 模型，服务器通常是接入服务器</li>
</ul>
<p><img src="./assets/image-20241017104019543.png" alt="image-20241017104019543" style="zoom: 33%;" /></p>
<h2 id="mac">介质访问子层 MAC<a class="headerlink" href="#mac" title="Permanent link">&para;</a></h2>
<blockquote>
<p>[!IMPORTANT]</p>
<p>本章目标</p>
<p><img src="./assets/image-20241226115212238.png" alt="image-20241226115212238" style="zoom: 67%;" /></p>
<p>介质访问子层在数据链路层的下面</p>
</blockquote>
<h3 id="_75">信道分配问题<a class="headerlink" href="#_75" title="Permanent link">&para;</a></h3>
<h4 id="_76">子信道的平均延迟<a class="headerlink" href="#_76" title="Permanent link">&para;</a></h4>
<p><strong>信道 N 等分后每个子信道平均延迟时间会增加</strong>（有害，增加 N 倍</p>
<h4 id="_77">静态分配的特点<a class="headerlink" href="#_77" title="Permanent link">&para;</a></h4>
<p>问题：资源分配不合理</p>
<h3 id="_78">多路复用技术<a class="headerlink" href="#_78" title="Permanent link">&para;</a></h3>
<p><strong>复用 (multiplexing)</strong> 技术的目的是：允许用户使用一个共享信道进行通信，避免相互干扰，降低成本，提高利用率。</p>
<h4 id="fdm">频分复用(FDM)<a class="headerlink" href="#fdm" title="Permanent link">&para;</a></h4>
<p>频分复用（Frequency-division multiplexing），是一种将多路基带信号调制到不同频率载波上，再进行叠加形成一个复合信号的多路复用技术</p>
<ul>
<li>适合传输模拟信号</li>
</ul>
<p>频分复用的所有用户在同样的时间 <em>占用不同的带宽资源</em>（请注意，这里的“带宽”是 <strong>频率带宽</strong> 而不是数据的 <strong>发送速率</strong>）</p>
<h4 id="ofdm">正交频分复用(OFDM) （细节不用掌握）<a class="headerlink" href="#ofdm" title="Permanent link">&para;</a></h4>
<p>正交频分复用（Orthogonal Frequency Division Multiplexing，OFDM)</p>
<ul>
<li>将信道分成若干正交子信道</li>
<li>将高速数据信号转换成并行的低速子数据流，调制到在每个子信道上进行传输</li>
</ul>
<p>问题：</p>
<p>Wideband (e.g., 10MHz) ==&gt; short symbol time (e.g., 0.1µs) </p>
<ul>
<li>Delay spread caused by multipath transmission: about 1µs ==&gt; 0.1µs &lt;&lt; 1µs ==&gt; severe inter-symbol interference (ISI)</li>
</ul>
<p>解决方法：</p>
<p>Divide the wideband into many narrow bands, each with a carrier (i.e., subcarrier)宽带变窄带</p>
<p>For example：10MHz &rarr; 100 subcarriers &rarr; symbol time 10µs &rarr; 10µs &gt;&gt; delay spread (1µs) &rarr; smaller ISI</p>
<ul>
<li>Multi-carrier modulation </li>
</ul>
<h4 id="tdmstdm">时分复用(TDM)与统计时分复用(STDM)<a class="headerlink" href="#tdmstdm" title="Permanent link">&para;</a></h4>
<p><strong>时分复用</strong> (Time Division Multiplexing) 是将时间划分为一段段等长的时分复用帧</p>
<ul>
<li>每一个时分复用的用户在每一个 TDM 帧中占用固定序号的时</li>
<li>每一个用户所占用的时隙是周期性地出现（其周期就是 TDM 帧的长度）的。</li>
<li>TDM 信号也称为等时 (isochronous) 信号。</li>
<li>时分复用的所有用户在 <em>不同的时间</em> 占用 <strong>同样的频带宽度</strong></li>
<li>适合传输数字信号</li>
<li>必须满足的要求</li>
<li>介质的位速率（每秒传输的二进制位数）＞ 单个信号的位速率</li>
<li>
<p>介质的带宽（所能传输的最高频率与最低频率之差）＞ 结合信号的带宽（所有信号经过调制后形成的复合信号的带宽）</p>
</li>
<li>
<p><strong>存在的不足：</strong> 使用时分复用系统传送计算机数据时，由于计算机数据的突发性质，用户对分配到的子信道的利用率一般是不高的</p>
</li>
</ul>
<hr />
<p><strong>统计时分复用</strong>（STDM，statistical time division multiplexing）是指动态地按需分配共用信道的时隙，只将需要传送数据的终端接入共用信道，以提高信道利用率的多路复用技术</p>
<h4 id="wdm">波分复用(WDM)<a class="headerlink" href="#wdm" title="Permanent link">&para;</a></h4>
<p><strong>波分复用</strong>（Wavelength Division Multiplexing，WDM）是利用 <em>多个</em> 激光器在 <em>单条</em> 光纤上同时发送 <em>多束不同波长激光</em> 的技术，频分复用的一种形式</p>
<h4 id="cdma">码分复用(CDMA)<a class="headerlink" href="#cdma" title="Permanent link">&para;</a></h4>
<p>又称 码分多址 (Code Division Multiple Access，CDMA)是指利用码序列相关性实现的多址通信 , 基本思想是靠 <strong>不同的地址码</strong> 来区分的地址</p>
<ul>
<li>各用户使用经过特殊挑选的不同码型，因此彼此不会造成干扰</li>
<li>这种系统发送的信号有很强的抗干扰能力，其频谱类似于白噪声，不易被敌人发现</li>
</ul>
<p><img src="./assets/image-20240926113349556-1727322379769-1.png" alt="image-20240926113349556" style="zoom:50%;" /></p>
<p><strong>码片序列的正交关系</strong></p>
<p>正交就是向量 S 和 T 的规格化内积 (inner product) 等于 0</p>
<p><img src="./assets/image-20240926114344682.png" alt="image-20240926114344682" style="zoom:50%;" /></p>
<p><strong>码片序列实现了扩频(spread spectrum)</strong></p>
<p>假定 S 站要发送信息的数据率为 <em>b</em> bit/s。由于每一个比特要转换成 <em>m</em> 个比特的码片，因此 S 站实际上发送的数据率提高到 <em>mb</em> bit/s，同时 S 站所占用的频带宽度也提高到原来数值的 <em>m</em> 倍</p>
<h4 id="_79">空分复用<a class="headerlink" href="#_79" title="Permanent link">&para;</a></h4>
<h3 id="_80">多路访问协议<a class="headerlink" href="#_80" title="Permanent link">&para;</a></h3>
<h4 id="_81">随机访问协议<a class="headerlink" href="#_81" title="Permanent link">&para;</a></h4>
<h5 id="aloha">ALOHA 协议<a class="headerlink" href="#aloha" title="Permanent link">&para;</a></h5>
<p><strong>纯 ALOHA</strong></p>
<p>原理：想发就发</p>
<p>特点：随时可能冲突，冲突就要重发</p>
<p>帧时：发送一个标准帧需要的时间</p>
<p>S 吞吐量：在发送时间 T 内发送成功的平均帧数，0 &lt; S &lt; 1</p>
<p>生成帧均值：2G (G：网络负载)</p>
<p>冲突危险期：2D (D：单向传播延迟)</p>
<p><span class="arithmatex">\(P_0\)</span>​ 成功传输概率：连续两个时间 T 内都没有生成其它帧的概率</p>
<p><span class="arithmatex">\(P_0=e^{-2G}\)</span></p>
<p>纯 ALOHA 协议的性能较低：（吞吐率最大）18.4%</p>
<hr />
<p><strong>分隙 ALOHA(slotted ALOHA)</strong></p>
<p>原理：每个时隙开始时才能发送帧，发送一帧的时间 ≤ 时隙的长度</p>
<p>冲突危险期：D</p>
<p>分隙 ALOHA 协议的性能：（吞吐率最大）36.8%</p>
<h5 id="csma">载波侦听多路访问协议(CSMA)<a class="headerlink" href="#csma" title="Permanent link">&para;</a></h5>
<p>CSMA：Carrier Sense Multiple Access</p>
<p>特点：“先听后发” -&gt; 改进 ALOHA 的侦听/发送策略分类</p>
<hr />
<p><strong>非持续式 CSMA</strong></p>
<p>特点：</p>
<p>① 经侦听，如果介质空闲，开始发送</p>
<p>② 如果介质忙，则等待一个随机分布的时间，然后重复步骤 ①</p>
<ul>
<li>
<p>好处：等待一个随机时间可以减少再次碰撞冲突的可能性</p>
</li>
<li>
<p>缺点：等待时间内介质上如果没有数据传送，这段时间是浪费的</p>
</li>
</ul>
<hr />
<p><strong>持续式 CSMA</strong></p>
<p>特点：</p>
<p>① 经侦听，如介质空闲，则发送</p>
<p>② 如介质忙，持续侦听，一旦空闲立即发送</p>
<p>③ 如果发生冲突，等待一个随机分布的时间再重复步骤 ①</p>
<ul>
<li>好处：持续式的延迟时间要少于非持续式</li>
<li>缺点：如果两个以上的站等待发送，一旦介质空闲就一定会发生冲突</li>
</ul>
<hr />
<p><strong>p-持续式 CSMA</strong></p>
<p>特点：</p>
<p>① 经侦听，如介质空闲，那么以 p 的概率发送，以 <strong>(1–p)的概率</strong> 延迟一个时间单元发送</p>
<p>② 如介质忙，持续侦听，一旦空闲重复 ①</p>
<p>③ 如果发送已推迟一个时间单元，再重复步骤 ①</p>
<blockquote>
<p>[!NOTE]</p>
<p>冲突窗口</p>
</blockquote>
<h5 id="csmacd">CSMA/CD<a class="headerlink" href="#csmacd" title="Permanent link">&para;</a></h5>
<p>载波监听多路访问/冲突检测（CSMA/CD）是 CSMA 协议的改进方案</p>
<p>工作流程：先听后发，边听边发，冲突停发，随机重发</p>
<ul>
<li>
<p>采用 CSMA/CD 协议的以太网只能进行<strong>半双工</strong>通信</p>
</li>
<li>
<p>采用 <a href="# 二进制指数后退( Binary exponential backoff ) 的 CSMA/CD">截断二进制指数退避算法</a></p>
</li>
<li>
<p>广泛用于无线局域网的 CSMA/CD 协议修改了冲突检测部分，使用 <a href="# CSMA/CA">冲突避免</a>（CA，collision avoidance）——降低冲突发生的概率</p>
</li>
<li>
<p>争用期：以太网端到端往返传输时间</p>
</li>
<li>
<p><strong>最短帧长 = 总线传播时延 ✖ 数据传输速率 ×2 = W × RTT(往返时延，也是争用期)</strong></p>
</li>
<li>
<p>数据传输速率 ↑，发送帧时间缩短，通过增加最短帧长，增加发送帧时间，或者缩短电缆长度，减少争用期时间，以达到 发送帧时间 ≥ 争用期时间</p>
</li>
<li>
<p>题目</p>
</li>
</ul>
<p><img alt="eba783fdb974dddc93e48b41483539e" src="assets/eba783fdb974dddc93e48b41483539e.png" /></p>
<p><img src="./assets/c0b9d337d06276bc6ca42ccab3e817e.png" alt="c0b9d337d06276bc6ca42ccab3e817e" style="zoom:50%;" /></p>
<h4 id="_82">受控访问协议<a class="headerlink" href="#_82" title="Permanent link">&para;</a></h4>
<p>无冲突协议</p>
<h5 id="_83">位图协议（预留协议）<a class="headerlink" href="#_83" title="Permanent link">&para;</a></h5>
<p>竞争期：在自己的时槽内发送竞争比特</p>
<ul>
<li>举手示意</li>
<li>资源预留</li>
</ul>
<p>传输期：按序发送</p>
<ul>
<li>明确的使用权，避免了冲突</li>
</ul>
<p><img src="./assets/image-20241017114756997.png" alt="image-20241017114756997" style="zoom:33%;" /></p>
<h5 id="_84">信道利用率分析<a class="headerlink" href="#_84" title="Permanent link">&para;</a></h5>
<p>假设</p>
<ul>
<li>有 N 个用户，需 N 个时隙，每帧 d 比特</li>
</ul>
<p>信道利用率</p>
<ul>
<li>在低负荷条件下：d/(d+N) （N 越大，站点越多，利用率越低）</li>
<li>在高负荷条件下：d/(d+1)，接近 100%</li>
</ul>
<p>缺点</p>
<ul>
<li>位图协议无法考虑优先级</li>
</ul>
<h5 id="_85">令牌<a class="headerlink" href="#_85" title="Permanent link">&para;</a></h5>
<p>令牌环（Token Ring，IEEE802.5）</p>
<p>令牌：发送权限</p>
<p>令牌的运行：发送工作站去抓取，获得发送权</p>
<p>• 除了环，令牌也可以运行在其它拓扑上，如令牌总线</p>
<p>发送的帧需要目的站或发送站将其从共享信道上去除；防止无限循环</p>
<p>令牌环网络中，当一个站点收到自己发出去的数据帧后，它将不再转发该帧，并重新产生一个令牌</p>
<ul>
<li>优点：令牌环网络各站轮流使用令牌发送数据，无论网络负载如何，都无冲突产生</li>
<li>缺点：令牌的维护代价</li>
</ul>
<h5 id="_86">二进制倒计数协议<a class="headerlink" href="#_86" title="Permanent link">&para;</a></h5>
<p>站点：编序号，序号长度相同</p>
<p>竞争期：有数据发送的站点从高序号到低序号排队，高者得到发送权</p>
<p>特点：<mark>高序号站点优先</mark></p>
<p><img src="./assets/image-20241017115104833.png" alt="image-20241017115104833" style="zoom:30%;" /></p>
<blockquote>
<p><strong>防止低序号站点一直抢不到发送权，可以怎样办？</strong></p>
<p>换编号 overhead</p>
</blockquote>
<h5 id="_87">信道效率分析<a class="headerlink" href="#_87" title="Permanent link">&para;</a></h5>
<p>N 个站的二进制编码所需位数是 <span class="arithmatex">\(<span class="arithmatex">\(log_2N\)</span>\)</span> 位 </p>
<p>信道的利用率为：<span class="arithmatex">\(<span class="arithmatex">\(d/(d+log_2N)\)</span>\)</span></p>
<p>如果规定每个帧的帧头为发送地址，即竞争的同时也在发送。则效率为 100%</p>
<h4 id="_88">有限竞争协议<a class="headerlink" href="#_88" title="Permanent link">&para;</a></h4>
<h5 id="adaptive-tree-walk-protocol">自适应树搜索协议(Adaptive Tree Walk Protocol)<a class="headerlink" href="#adaptive-tree-walk-protocol" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241017120328802.png" alt="image-20241017120328802" style="zoom:33%;" /></p>
<h4 id="lan">无线 LAN 协议<a class="headerlink" href="#lan" title="Permanent link">&para;</a></h4>
<p>MACA</p>
<h3 id="_89">以太网<a class="headerlink" href="#_89" title="Permanent link">&para;</a></h3>
<blockquote>
<p>[!IMPORTANT]</p>
<p>以太网参考模型一般只包括 物理层和数据链路层，提供无连接不可靠的服务</p>
</blockquote>
<h4 id="_90">经典以太网<a class="headerlink" href="#_90" title="Permanent link">&para;</a></h4>
<h5 id="_91">经典以太网的物理层<a class="headerlink" href="#_91" title="Permanent link">&para;</a></h5>
<p>最高速率 10Mbps</p>
<p>✋🏻 使用曼彻斯特编码</p>
<p>✋🏻 使用同轴电缆和中继器连接</p>
<p>任意两个收发器之间距离不得超过 2.5km（和 CSMA/CD 的 delay 有关</p>
<p>且任意两个收发器之间经过的中继器不能超过 4 个以保证 MAC 协议正常工作</p>
<h5 id="mac_1">MAC 子层协议<a class="headerlink" href="#mac_1" title="Permanent link">&para;</a></h5>
<p><span style="color:#CC0000;"> 介质访问控制（MAC 子层）的主要功能是控制和协调所有站点对共享介质的访问 </span> <span style="color:#FF0000;"> </span></p>
<p>主机运行 CSMA/CD 协议</p>
<p>常用的以太网 MAC 帧格式有两种标准 ： </p>
<ul>
<li>
<p>DIX Ethernet V2 标准（最常用的）</p>
</li>
<li>
<p>IEEE 的 802.3 标准</p>
</li>
<li>
<p>数据字段长度必须在 46~1500 字节之间，＜46 需要填充，否则不用</p>
</li>
</ul>
<p><img src="./assets/image-20241107105937823.png" alt="image-20241107105937823" style="zoom:33%;" /></p>
<h5 id="binary-exponential-backoff-csmacd">二进制指数后退( Binary exponential backoff )的 CSMA/CD<a class="headerlink" href="#binary-exponential-backoff-csmacd" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241024101500636.png" alt="image-20241024101500636" style="zoom: 67%;" /></p>
<ul>
<li>
<p>这一算法考虑了网络负载对冲突的影响</p>
</li>
<li>
<p>数字 r 小的优先（先发送）</p>
</li>
</ul>
<div class="arithmatex">\[
P = F/B\text{，F 为帧长，B 为带宽}\\
信道效率 = \frac{P}{P + 2𝜏/A}
\text{，传送一帧平均需要 P 秒，某个站获得信道的概率为 A，2𝜏 为时间槽}\\
信道效率 =\frac{1}{1 + 2BLe/cF}
\text{，L 为电缆长度，c 为信号传播速度；假设每帧 e 个竞争时间槽}
\]</div>
<p>电缆越长，𝜏 越大，任何两个站之间的最大电缆距离会影响性能</p>
<p>在给定帧长的情况下，增加带宽或距离会降低网络效率</p>
<p>？？</p>
<h4 id="_92">交换式以太网<a class="headerlink" href="#_92" title="Permanent link">&para;</a></h4>
<h4 id="_93">快速以太网<a class="headerlink" href="#_93" title="Permanent link">&para;</a></h4>
<p><strong>Fast Ethernet</strong>( IEEE 802.3u, 1995 )</p>
<p>带宽：10Mbps -&gt; 100Mbps</p>
<p>比特时间：100ns -&gt; 10ns （电缆的最大长度降低到十分之一）</p>
<p>保留原来的工作方式（帧格式、接口、过程规则）</p>
<blockquote>
<p>[!NOTE]</p>
<p>名称中 100Base-T 意味着 100Mbps 的以太网， T 是双绞线，Base 是基带传输</p>
</blockquote>
<h5 id="_94">千兆以太网<a class="headerlink" href="#_94" title="Permanent link">&para;</a></h5>
<p><strong>Gigabit Ethernet</strong>( IEEE 802.3ab, 1998 )</p>
<p>100Mbps -&gt; 1000Mbps( 1Gbps )</p>
<p>保留原来的工作方式（帧格式、接口、过程规则）</p>
<p><strong>全双工和半双工</strong> 两种方式工作</p>
<ul>
<li>在半双工方式下使用 CSMA/CD （<em>为了向后兼容</em>），增加 <strong>载波扩充</strong> 和 <strong>帧突发</strong></li>
<li>全双工方式不需要使用 CSMA/CD（<em>缺省方式</em>）</li>
</ul>
<h5 id="_95">万兆以太网<a class="headerlink" href="#_95" title="Permanent link">&para;</a></h5>
<p><strong>10-Gigabit Ethernet</strong>( IEEE 802.3ae, 2002 )</p>
<p>1Gbps -&gt; 10Gbps</p>
<p><strong>只支持全双工，不再使用 CSMA/CD</strong></p>
<p>保持兼容性</p>
<p>重点是超高速的物理层</p>
<h4 id="_96">以太网的未来<a class="headerlink" href="#_96" title="Permanent link">&para;</a></h4>
<p>优势：灵活性、简单性、兼容性、廉价、可靠、易维护、易扩展</p>
<h3 id="_97">数据链路层交换<a class="headerlink" href="#_97" title="Permanent link">&para;</a></h3>
<h4 id="_98">数据链路层交换原理<a class="headerlink" href="#_98" title="Permanent link">&para;</a></h4>
<p>物理层设备扩充网络 =&gt; 扩大了冲突域，性能降低，安全隐患!</p>
<p>数据链路层设备扩充网络</p>
<ul>
<li><strong>网桥或交换机</strong></li>
<li>网桥/交换机分隔了冲突域，但不隔离广播域；集线器都不隔离</li>
</ul>
<p><img src="./assets/image-20241024103923745.png" alt="image-20241024103923745" style="zoom:50%;" /></p>
<hr />
<p>理想的网桥是透明的。</p>
<ul>
<li>即插即用，无需任何配置</li>
<li>网络中的站点无需感知网桥的存在与否</li>
</ul>
<h5 id="mac-">MAC 地址表的构建-逆向学习源地地址<a class="headerlink" href="#mac-" title="Permanent link">&para;</a></h5>
<p>主机向外发送数据时，其 MAC 地址就会被学习</p>
<ul>
<li>记录帧的源 MAC 地址与该帧进入交换机的接口号</li>
</ul>
<p>MAC 地址表的构建</p>
<ul>
<li>
<p>增加表项：帧的源地址对应的项不在表中</p>
</li>
<li>
<p>删除表项：<strong>老化时间</strong> 到期，默认 300s</p>
</li>
<li>
<p>更新表项：帧的源地址在表中，更新时间戳</p>
</li>
</ul>
<blockquote>
<p>[!NOTE]</p>
<p><strong>MAC 地址表会满而溢出吗？是不是存在安全隐患？</strong></p>
<p>会，是，因为可以伪造 MAC 地址，真正有效的站点没办法被转发，被导向到别的站点</p>
</blockquote>
<h5 id="forwardingfilteringflooding">网桥对于入境帧的处理过程（forwarding、filtering、flooding）<a class="headerlink" href="#forwardingfilteringflooding" title="Permanent link">&para;</a></h5>
<ol>
<li><strong>Forwarding（转发）</strong></li>
</ol>
<p><img src="./assets/image-20241024105113384.png" alt="image-20241024105113384" style="zoom:50%;" /></p>
<ol start="2">
<li><strong>Filtering（过滤）</strong></li>
</ol>
<p><img src="./assets/image-20241024105132959.png" alt="image-20241024105132959" style="zoom:50%;" /></p>
<ol start="3">
<li><strong>Flooding（泛洪）</strong></li>
</ol>
<p><img src="./assets/image-20241024105225876.png" alt="image-20241024105225876" style="zoom:50%;" /></p>
<p>两种目的地址的帧，<strong>需要泛洪</strong>：</p>
<ul>
<li><strong>广播帧</strong>：目的地址为 <code>FF-FF-FF-FF-FF-FF</code> 的数据帧</li>
<li><strong>未知单播帧</strong>：目的地址不在 MAC 地址转发表中的单播数据帧</li>
</ul>
<h5 id="_99">总结<a class="headerlink" href="#_99" title="Permanent link">&para;</a></h5>
<p>逆向学习</p>
<ul>
<li>根据帧的 <strong>源地址</strong> 在 MAC 地址表查找匹配表项，</li>
<li>如果没有，则 <strong>增加</strong> 一个新表项（源地址、入境端口、帧到达时间），</li>
<li>如果有，则 <strong>更新</strong> 原表项的帧到达时间，重置老化时间。</li>
</ul>
<p>网桥对入境帧的转发过程（三选一），查帧的 <strong>目的地址</strong> 是否在 MAC 地址表中</p>
<ul>
<li>如果有，且入境端口 ≠ 出境端口，则从对应的出境端口 <strong>转发帧</strong>； </li>
<li>如果有，且入境端口 = 出境端口，则丢弃帧（即 <strong>过滤帧</strong>）；</li>
<li>如果没有，则向除入境端口以外的其它所有端口 <strong>泛洪帧</strong>。</li>
</ul>
<h4 id="_100">链路层交换机<a class="headerlink" href="#_100" title="Permanent link">&para;</a></h4>
<h5 id="_101">交换方式<a class="headerlink" href="#_101" title="Permanent link">&para;</a></h5>
<h6 id="_102">从带宽的角度<a class="headerlink" href="#_102" title="Permanent link">&para;</a></h6>
<ul>
<li>对称交换：出和入的带宽相同</li>
<li>非对称交换：出和入的带宽不同</li>
</ul>
<h6 id="_103">从转发时机的角度<a class="headerlink" href="#_103" title="Permanent link">&para;</a></h6>
<p><strong>存储转发模式</strong>（Store and Forward） </p>
<ul>
<li>特点：转发前必须接收 <strong>整个帧</strong>、执行 CRC 校验</li>
<li>缺点：延迟大</li>
<li>优点：不转发出错帧、支持非对称交换</li>
</ul>
<p><img src="./assets/image-20241024105907162.png" alt="image-20241024105907162" style="zoom:50%;" /></p>
<p><strong>直通模式</strong>（Cut-through）</p>
<ul>
<li>特点：一旦接收到 <strong>帧的目的地址</strong>，就开始转发</li>
<li>缺点：可能转发错误帧、不支持非对称交换</li>
<li>优点：延迟非常小，可以边入边出</li>
</ul>
<p><img src="./assets/image-20241024105917949.png" alt="image-20241024105917949" style="zoom:50%;" /></p>
<p><strong>无碎片模式</strong>（Fragment-free）</p>
<ul>
<li>特点：接收到帧的 <strong>前 64 字节</strong>，即开始转发</li>
<li>缺点：仍可能转发错误帧，不支持非对称交换</li>
<li>优点：过滤了冲突碎片，延迟和转发错帧介于存储转发和直通交换之间</li>
</ul>
<p><img src="./assets/image-20241024105956561.png" alt="image-20241024105956561" style="zoom:50%;" /></p>
<blockquote>
<p>[!NOTE]</p>
<p>小于 64 字节的帧一定是以太网中冲突导致的</p>
</blockquote>
<p><img src="./assets/image-20241024110130021.png" alt="image-20241024110130021" style="zoom:50%;" /></p>
<h4 id="_104">生成树协议<a class="headerlink" href="#_104" title="Permanent link">&para;</a></h4>
<p>可靠传输：冗余拓扑</p>
<p>付出的代价：导致物理环路</p>
<h5 id="_105">物理环路引发的问题<a class="headerlink" href="#_105" title="Permanent link">&para;</a></h5>
<ol>
<li><strong>广播风暴</strong>：交换机（网桥）在物理环路上无休止地泛洪广播流量，无限循环，迅速消耗网络资源</li>
<li><strong>重复帧</strong>：X 发送到环路的单播帧，造成目的设备 Y 收到重复的帧（假设所有交换机的 MAC 地址表中均没有路由器 Y 的 MAC 地址）</li>
<li><strong>MAC 地址表不稳定</strong>：当一个帧的多个副本到达不同端口时，交换机会不断修改同一 MAC 地址对应的端口</li>
</ol>
<h5 id="_106">生成树网桥<a class="headerlink" href="#_106" title="Permanent link">&para;</a></h5>
<p>参与的交换机（网桥）：收发桥协议数据单元 BPDU</p>
<p><img src="./assets/image-20241024112556684.png" alt="image-20241024112556684" style="zoom:50%;" /></p>
<p><strong>生成树的三个选举过程</strong>：</p>
<p>(1) 选举 <strong>根桥</strong>(Root Bridge)</p>
<p><img src="./assets/image-20241024112854497.png" alt="image-20241024112854497" style="zoom:40%;" /></p>
<blockquote>
<p>[!NOTE]</p>
<p><strong>如何比较桥 ID 大小？</strong></p>
<ul>
<li>
<p>首先比较优先级，优先级数值最小的交换机胜出成为根桥。</p>
</li>
<li>
<p>如果优先级数值相等，MAC 地址最小的交换机成为根桥。</p>
</li>
</ul>
</blockquote>
<p>(2) 为每个非根桥选出一个 <strong>根端口</strong>（Root Port）</p>
<p><img src="./assets/image-20241024113139715.png" alt="image-20241024113139715" style="zoom:40%;" /></p>
<p>根路径开销</p>
<p><img src="./assets/image-20241024113235643.png" alt="image-20241024113235643" style="zoom:40%;" /></p>
<p><img src="./assets/image-20241024113445982.png" alt="image-20241024113445982" style="zoom:50%;" /></p>
<p>(3) 为每个网段确定一个 <strong>指定端口</strong>（Designated Port）</p>
<p><img src="./assets/image-20241024114010549.png" alt="image-20241024114010549" style="zoom:50%;" /></p>
<p><img src="./assets/image-20241024114400977.png" alt="image-20241024114400977" style="zoom:50%;" /></p>
<p><img src="./assets/image-20241024114343556.png" alt="image-20241024114343556" style="zoom:50%;" /></p>
<p><strong>重构生成树</strong></p>
<p><img src="./assets/image-20241024114713414.png" alt="image-20241024114713414" style="zoom:50%;" /></p>
<p>重新构建生成树太慢了，怎么办？</p>
<ul>
<li><strong>快速生成树协议（Rapid Spanning Tree Protocol, RSTP）</strong> </li>
<li>RSTP 是 STP 的优化版，在 IEEE802.1W 中定义；</li>
</ul>
<h4 id="vlan">虚拟局域网（VLAN）<a class="headerlink" href="#vlan" title="Permanent link">&para;</a></h4>
<p><strong>广播域（Broadcasting Domain）</strong> </p>
<ul>
<li>广播域是广播帧能够到达的范围；</li>
<li>缺省情况下，交换机所有端口同属于一个广播域，无法隔离广播域； </li>
<li>广播帧在广播域中传播，占用资源，降低性能，且具有安全隐患</li>
</ul>
<p><img src="./assets/image-20241024115039941.png" alt="image-20241024115039941" style="zoom:50%;" /></p>
<hr />
<p>交换机可以分隔广播域吗？</p>
<ul>
<li>可以！支持 VLAN 的交换机</li>
<li>一个 VLAN（Virtual LAN）是一个独立的广播域</li>
<li><strong>交换机/路由器通过划分 VLAN，来分隔广播域</strong></li>
</ul>
<p><strong>VLAN</strong> 是一个在物理网络上根据用途，工作组、应用等来 <em>逻辑划分</em> 的局域网络，<em>与用户的物理位置没有关系</em>。</p>
<p>虚拟局域网是通过软件方式实现逻辑分组和管理。</p>
<ul>
<li>不同 VLAN 的成员不能直接进行二层通信</li>
<li>不同 VLAN 的成员通信需要通过三层设备</li>
</ul>
<h5 id="vlan_1">基于端口的 VLAN（最常见）<a class="headerlink" href="#vlan_1" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241024115555906.png" alt="image-20241024115555906" style="zoom:33%;" /></p>
<h5 id="mac-vlan">基于 MAC 地址的 VLAN<a class="headerlink" href="#mac-vlan" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241024115706445.png" alt="image-20241024115706445" style="zoom:33%;" /></p>
<h5 id="vlan_2">基于协议的 VLAN<a class="headerlink" href="#vlan_2" title="Permanent link">&para;</a></h5>
<p>通常需要服务器的参与</p>
<h5 id="vlan_3">基于子网的 VLAN<a class="headerlink" href="#vlan_3" title="Permanent link">&para;</a></h5>
<p>一个子网就是一个 VLAN</p>
<hr />
<p>如何区分不同 VLAN 的数据帧？</p>
<ul>
<li>在数据帧中携带 VLAN 标记；</li>
<li>VLAN 标记由交换机添加/剥除，对终端站点透明</li>
</ul>
<p><strong>标记帧（Tagged Frame）</strong> </p>
<p><img src="./assets/image-20241024120021204.png" alt="image-20241024120021204" style="zoom:50%;" /></p>
<h5 id="vlan_4">VLAN 优点<a class="headerlink" href="#vlan_4" title="Permanent link">&para;</a></h5>
<p>有效控制广播域范围：广播流量被限制在一个 VLAN 内；</p>
<p>增强网络的安全性：VLAN 间相互隔离, 无法进行二层通信, 不同 VLAN 需通过三层设备通信；</p>
<p>灵活构建虚拟工作组：同一工作组的用户不必局限于同一物理范围；</p>
<p>提高网络的可管理性：将不同的业务规划到不同 VLAN 便于管理</p>
<h5 id="access">Access 链路类型端口<a class="headerlink" href="#access" title="Permanent link">&para;</a></h5>
<h5 id="trunk-trunk">Trunk 链路类型端口与 Trunk 链路<a class="headerlink" href="#trunk-trunk" title="Permanent link">&para;</a></h5>
<h3 id="wlan">无线局域网 WLAN<a class="headerlink" href="#wlan" title="Permanent link">&para;</a></h3>
<h4 id="_107">无线局域网概述<a class="headerlink" href="#_107" title="Permanent link">&para;</a></h4>
<p><strong>无线局域网（Wireless Local Area Network，WLAN)</strong>：指以无线信道作为传输介质的计算机局域网</p>
<ul>
<li>所有站点共享较高的带宽</li>
<li>较低的时延和较低的误码率</li>
<li>可广播可多播</li>
</ul>
<h4 id="_108">无线局域网组网模式<a class="headerlink" href="#_108" title="Permanent link">&para;</a></h4>
<h5 id="_109">无线局域网体系结构<a class="headerlink" href="#_109" title="Permanent link">&para;</a></h5>
<p>基础架构模式（有固定基础设施）</p>
<ul>
<li>分布式系统（DS） </li>
<li><strong>访问点（AP）</strong> </li>
<li>站点（STA） </li>
<li><strong>基本服务集（BSS）</strong> </li>
<li>扩展服务集（ESS） </li>
<li>站点之间通信通过 AP 转发</li>
</ul>
<p><strong>自组织模式（Ad hoc）</strong> 无固定基础设施</p>
<ul>
<li>站点（STA）</li>
<li>独立基本服务集（IBSS）</li>
<li>站点之间直接通信</li>
<li>共享同一无线信道</li>
</ul>
<h5 id="80211">802.11 物理层<a class="headerlink" href="#80211" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241024121425302.png" alt="image-20241024121425302" style="zoom:50%;" /></p>
<h4 id="80211_1">802.11 介质访问控制<a class="headerlink" href="#80211_1" title="Permanent link">&para;</a></h4>
<p>传输范围..？</p>
<p><img src="./assets/image-20241024121805095.png" alt="image-20241024121805095" style="zoom:50%;" /></p>
<p><img src="./assets/image-20241024121920372.png" alt="image-20241024121920372" style="zoom:50%;" /></p>
<h5 id="csmaca">CSMA/CA<a class="headerlink" href="#csmaca" title="Permanent link">&para;</a></h5>
<p>带有冲突避免的 CSMA <strong>Carrier Sense Multiple Access with Collision Avoid</strong></p>
<ul>
<li>当信道空闲时间大于 IFS（帧间隙），立即传输</li>
<li>当信道忙时，延迟直到当前传输结束+IFS 时间</li>
<li>开始随机退后过程</li>
<li>从（0，CWindow）中选择一个随机数作为退后计数器（backoff counter） </li>
<li>通过侦听确定每个时间槽是否活动</li>
<li>如果没有活动，则减少退后时间（计数器--）</li>
<li>退后计数器为 0，则发送整个帧并等待确认</li>
<li><mark>退后过程中如果信道忙，则挂起退后过程</mark>（解决站点之间的公平问题） </li>
<li>在当前帧传输结束后恢复退后过程</li>
</ul>
<blockquote>
<p>[!NOTE]</p>
<p><strong>使用退后过程延迟发送的目的</strong>：避免多个站点同时传输引起的冲突</p>
<p><strong>CWindow</strong>：竞争窗口</p>
</blockquote>
<p>WIFI 采用停等机制</p>
<p><img src="./assets/image-20241031100250426.png" alt="image-20241031100250426" style="zoom:33%;" /></p>
<ul>
<li>越短的帧间隙，越能抢到信道</li>
</ul>
<h5 id="rts-cts">RTS-CTS 机制（可选机制）<a class="headerlink" href="#rts-cts" title="Permanent link">&para;</a></h5>
<p>目的：<strong>通过信道预约，避免长帧冲突</strong></p>
<ul>
<li>
<p>发送端发送 RTS（request to send） </p>
</li>
<li>
<p>接收端回送 CTS（clear to send） </p>
</li>
<li>RTS 和 CTS 中的持续时间（Duration）中指明传输所需时间（数据+控制）</li>
<li>其他相关站点能够收到 RTS 或（和）CTS，维护 NAV(Network Allocation Vector)，静默期</li>
<li>虚拟载波侦听（Virtual Carrier Sense） </li>
<li>RTS 和 CTS 帧很短，即使产生冲突，信道浪费较少</li>
</ul>
<p>采用 PTS-CTS 会使网络通信效率有所下降，但与数据帧相比开销不算大</p>
<hr />
<p>如何应对无线链路较高的出错率 <strong>？</strong> </p>
<ul>
<li>解决方法：采用 <strong>较小的帧</strong>（将用户数据帧分段的机制对用户透明）</li>
</ul>
<h4 id="80211_2">802.11 帧结构<a class="headerlink" href="#80211_2" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20241031101636008.png" alt="image-20241031101636008" style="zoom:33%;" /></p>
<p><img src="./assets/image-20241031101656527.png" alt="image-20241031101656527" style="zoom:33%;" /></p>
<p>802.11 帧首部地址</p>
<p><img src="./assets/image-20241228013730895.png" alt="image-20241228013730895" style="zoom:50%;" /></p>
<h4 id="_110">无线局域网的构建与管理<a class="headerlink" href="#_110" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20241031101837370.png" alt="image-20241031101837370" style="zoom:33%;" /></p>
<p><strong>被动扫描</strong></p>
<ul>
<li>AP 周期性发送 Beacon 帧，站点在每个可用的通道上扫描 Beacon 帧</li>
</ul>
<p><strong>主动扫描</strong></p>
<ul>
<li>站点依次在每个可用的通道上发出包含 SSID 的 Probe Request 帧，具有被请求 SSID 的 AP 返回 Probe Response 帧 </li>
</ul>
<p><img src="./assets/image-20241031102303959.png" alt="image-20241031102303959" style="zoom:33%;" /></p>
<p><strong>关联过程</strong></p>
<ul>
<li>身份认证获得通过后， 进入关联阶段</li>
<li>站点向 AP 发送关联请求（Association Request） </li>
<li>包含：Capability, Listen Interval, SSID, Supported Rates</li>
<li>AP 向站点返回关联响应（Association Response） </li>
<li>包含：Capability, Status Code, Station ID, Supported Rates</li>
<li>AP 维护站点关联表，并记录站点的能力（如能够支持的速率等）</li>
</ul>
<p><img src="./assets/image-20241031102736894.png" alt="image-20241031102736894" style="zoom:33%;" /></p>
<p><strong>站点睡眠管理</strong></p>
<ul>
<li>目的：延长电池的续航时间</li>
</ul>
<h4 id="wi-fi6">Wi-Fi6 核心技术概览<a class="headerlink" href="#wi-fi6" title="Permanent link">&para;</a></h4>
<p>Wi-Fi 6 (<em>802.11ax</em>) 核心目标：解决网络容量和传输效率问题、降低传输时延，相对于 Wi-Fi 5，在高密部署场景中将用户平均吞吐量提升 4 倍以上，并发用户数提升 3 倍以上</p>
<h3 id="wan">广域网 WAN<a class="headerlink" href="#wan" title="Permanent link">&para;</a></h3>
<p>Wide Area Network</p>
<p>广域网和局域网所使用的协议不同</p>
<p>广域网所使用的传输方式是存储转发式</p>
<ul>
<li>网状结构</li>
<li>与局域网的互联通过路由器实现</li>
</ul>
<p><img src="./assets/image-20241228145146120.png" alt="image-20241228145146120" style="zoom:50%;" /></p>
<h2 id="_111">网络层 🔥<a class="headerlink" href="#_111" title="Permanent link">&para;</a></h2>
<blockquote>
<p>[!IMPORTANT]</p>
<p>本章目标</p>
<p><img src="./assets/image-20241226115243812.png" alt="image-20241226115243812" style="zoom: 67%;" /></p>
</blockquote>
<h3 id="_112">网络层服务<a class="headerlink" href="#_112" title="Permanent link">&para;</a></h3>
<h4 id="_113">网络层服务概述<a class="headerlink" href="#_113" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20250107145848412.png" alt="image-20250107145848412" style="zoom: 33%;" /></p>
<p>网络层实现端系统间的 <strong>多跳传输</strong></p>
<p>网络层功能存在每台主机和路由器中</p>
<ul>
<li>发送端：将传输层数据单元封装在数据包中</li>
<li>接收端：解析接收的数据包中，取出传输层数据单元，交付给传输层</li>
<li>路由器：检查数据包首部，转发数据包</li>
</ul>
<h4 id="_114">网络层的关键功能<a class="headerlink" href="#_114" title="Permanent link">&para;</a></h4>
<h5 id="_115">路由（控制面）<a class="headerlink" href="#_115" title="Permanent link">&para;</a></h5>
<p>选择数据从源端到接收端</p>
<ul>
<li>核心：<span style="color:#CC0000;"> 路由算法与协议 </span></li>
</ul>
<h5 id="_116">转发（数据面）<a class="headerlink" href="#_116" title="Permanent link">&para;</a></h5>
<p>将数据报从路由器的输入接口传送到正确的输出接口</p>
<h4 id="_117">提供给传输层的服务<a class="headerlink" href="#_117" title="Permanent link">&para;</a></h4>
<blockquote>
<p>[!NOTE]</p>
<p><strong>网络层</strong> 提供可靠性，<strong>面向连接</strong>（虚电路）</p>
<p><strong>端系统</strong> 提供可靠性，<strong>面向无连接</strong>（数据报）</p>
</blockquote>
<h5 id="_118">面向连接的虚电路<a class="headerlink" href="#_118" title="Permanent link">&para;</a></h5>
<p>面向连接服务：如打电话，面向连接也 <strong>不一定能保证数据传输的可靠性</strong></p>
<ul>
<li>
<p>通信之间 <strong>先建立逻辑连接</strong>：在此过程中，如有需要，可以预留网络资源</p>
</li>
<li>
<p>结合使用可靠传输的网络协议，保证所发送的分组无差错按序到达终点</p>
</li>
<li>可靠 ==&gt; 本身就可实现差错控制</li>
</ul>
<p><strong>虚电路</strong>(virtual circuit)是逻辑连接</p>
<ul>
<li>虚电路表示这只是一条 <strong>逻辑上的连接</strong>，分组都沿着这条逻辑连接按照 <strong>存储转发</strong> 方式传送，而并不是真正建立了一条物理连接</li>
<li>注意，电路交换的电话通信是先建立了一条真正的连接， 因此 <em>分组交换的虚连接和电路交换的连接只是类似，但并不完全相同</em></li>
<li>不是临时性的，可以有永久性虚电路</li>
</ul>
<p>虚电路的 <strong>转发策略</strong>：虚电路转发决策基于分组标签，即虚电路号</p>
<p>面向连接的服务：1. 建立连接 2. 发送数据 3. 释放连接</p>
<ul>
<li>当网络中某个结点/链路出现故障，所有经过该节点/链路的虚电路都将遭到破坏</li>
</ul>
<h5 id="_119">无连接的数据报<a class="headerlink" href="#_119" title="Permanent link">&para;</a></h5>
<p>数据报（datagram）：无连接的方法</p>
<p>无连接的方法允许分组有选择不同路径的可能性，但这样可能会导致接收数据的失序；需要说明的是，为避免增加额外的开销进行数据排序，网络并不会完全随意地发送数据，在大多数情况下，仍然是会尽量沿着某一条路径发送</p>
<p>无连接服务：如寄信，不需要提前建立连接如寄信</p>
<p><strong>数据报服务</strong></p>
<ul>
<li>网络层向上只提供 <strong>简单灵活无连接</strong> 的、<strong>尽最大努力交付</strong> 的数据报服务</li>
<li>发送分组时不需要先建立连接，每个分组独立发送</li>
<li>数据报独立转发，相同源-目的的数据报可能经过不同的路径</li>
<li>网络层 <strong>不提供服务质量</strong> 的承诺</li>
</ul>
<p>尽力而为交付</p>
<ul>
<li>传输网络 <strong>不提供端到端的可靠传输服务</strong>：丢包、乱序、错误</li>
<li>优点：网络的 <strong>造价大大降低，运行方式灵活</strong>，能够适应多种应用</li>
</ul>
<p>数据报 <strong>转发策略</strong>：数据报转发决策基于分组的目的地址</p>
<ul>
<li>对故障适应力强：当网络中某个结点/链路出现故障，可相应地更新转发表，寻找另一条路径转发分组</li>
<li>收发双方不独占某条链路，资源利用率较高</li>
</ul>
<h4 id="_120">虚电路和数据报网络的比较<a class="headerlink" href="#_120" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20250107165645578.png" alt="image-20250107165645578" style="zoom:50%;" /></p>
<h5 id="_121">性能角度<a class="headerlink" href="#_121" title="Permanent link">&para;</a></h5>
<p>EG，假设总带宽 100Mbps，有 2 个数据源共享带宽</p>
<ol>
<li>如果每个数据源按 50Mbps 的恒定速率发送数据，使用 <em>虚电路服务</em>，结果如何？</li>
</ol>
<blockquote>
<p>带宽不浪费，每个数据源发送数据的带宽都可被保证</p>
</blockquote>
<ol start="2">
<li>如果每个数据源都是突发流量，且最高可达 70Mbps，使用 <em>虚电路服务</em>，结果如何？</li>
</ol>
<blockquote>
<p>不能满足！</p>
<p>只能选择丢掉一部分数据 或者 按预留带宽提供服务，若频繁流量突发，必定导致频繁过载</p>
</blockquote>
<ol start="3">
<li>如果每个数据源都是 <strong>突发流量</strong>，且最高可达 70Mbps，使用 <em>数据报服务</em>，结果如何？</li>
</ol>
<blockquote>
<p>性能完全不受影响，也不会过载</p>
</blockquote>
<h5 id="_122">效率角度<a class="headerlink" href="#_122" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20250107171009085.png" alt="image-20250107171009085" style="zoom: 33%;" /></p>
<p>EG，假设不考虑 A 的发送时延和链路传播时延，在上图 3 个转接节点的情况下，链路上的数据传输速率 <span class="arithmatex">\(B\)</span> bps，每个分组的长度 <span class="arithmatex">\(P\)</span> bit，每个分组的开销 <span class="arithmatex">\(H\)</span> bit，虚电路分组交换的呼叫建立时间 <span class="arithmatex">\(S\)</span> s，每个转接点的转接延迟时间 <span class="arithmatex">\(D\)</span>​ s，则：</p>
<ul>
<li>
<p>虚电路分组交换总时延 <span class="arithmatex">\(T=S+3[D+(P+H)/B]\)</span></p>
</li>
<li>
<p>数据报分组交换总时延  <span class="arithmatex">\(T=3[D+(P+H)/B]\)</span>​</p>
</li>
</ul>
<h3 id="internet-ip">Internet 网际协议(IP)<a class="headerlink" href="#internet-ip" title="Permanent link">&para;</a></h3>
<h4 id="ipv4">IPv4<a class="headerlink" href="#ipv4" title="Permanent link">&para;</a></h4>
<p>提供的是<strong>不可靠无连接</strong>的服务</p>
<h5 id="_123">报文格式<a class="headerlink" href="#_123" title="Permanent link">&para;</a></h5>
<p>每个字段的含义必须知道</p>
<p><img src="./assets/image-20241031110942582.png" alt="image-20241031110942582" style="zoom: 50%;" /></p>
<ol>
<li><strong>版本</strong>：占 4 位。指 IP 的版本，IPv4 数据报中该字段值是 4。</li>
<li><strong>首部长度</strong>：占 4 位。以 4B 为单位，最大可表示的首部长度为 60B(15x4B)。最常用的首部长度是 <span class="arithmatex">\(20B\)</span>(5x4B)，该字段值是 5，此时不使用任何可选字段。</li>
<li><strong>区分服务</strong>Differentiated services 字段（8 bit）</li>
<li><strong>总长度</strong>：占 16 位。指首部和数据之和的长度，单位为字节，因此数据报的最大长度为 2^16^-1 = 65535B。<strong>以太网帧的最大传送单元（ MTU ）为 1500B</strong>，因此当一个 IP 数据报封装成帧时，数据报的总长度（首部加数据）一定不能超过下面的数据链路层的 MTU 值。</li>
<li><strong>标识</strong>：占 16 位。它是一个计数器，每产生一个数据报就加 1，并赋值给标识字段。但它并不是 "序号"（因为 IP 是无连接服务）。当一个数据报的长度超过网络的 MTU 时，必须分片，此时每个数据报片都 <strong>复制一次标识号</strong>，以便能正确地重装成原来的数据报。</li>
<li><strong>标志</strong>（ Flag )：占 3 位。标志字段的最低位为 MF , MF = 1 表示后面还有分片， MF = 0 表示最后一个分片。标志字段中间的一位是 DF ，只有当 DF = 0 时才允许分片。</li>
<li><strong>片偏移</strong>：占 13 位。它指出较长的数据报在分片后，某片在原数据报中的相对位置，片偏移以 8B 为偏移单位。除最后一个分片外，每个分片的长度一定是 8B 的整数倍。</li>
<li><strong>生存时间</strong>（ TTL )：占 8 位。数据报在网络中可通过的路由器数的最大值，标识数据报在网络中的寿命，以确保数据报不会永远在网络中循环。路由器在转发数据报前，先将 TTL 减 1。若 TTL 被减为 0，则该数据报必须丢弃。</li>
<li><strong>协议</strong>：占 8 位。指出此数据报携带的数据使用何种协议，即数据报的数据部分应上交给哪个协议进行处理，如 TCP 、 UDP 等。其中值为 6 表示 TCP ，值为 17 表示 UDP 。</li>
<li><strong>首部检验和</strong>。占 16 位。它只检验数据报的首部，但不包括数据部分。这是因为数据报每经过一个路由器，都要重新计算首部检验和（有些字段，如生存时间、总长度、标志、片偏移、源 ／ 目的地址都可能发生变化）。不检验数据部分可减少计算的工作量。<a href="# 校验和">校验和的计算方式</a></li>
<li><strong>源地址字段</strong>：占 4B，标识发送方的 IP 地址。</li>
<li><strong>目的地址字段</strong>：占 4B，标识接收方的 IP 地址。</li>
</ol>
<h5 id="_124">数据包分片<a class="headerlink" href="#_124" title="Permanent link">&para;</a></h5>
<p><strong>MTU</strong>（Maximum Transmission Unit）：最大传输单元，链路层数据帧能承载的最大数据量</p>
<p><strong>分片策略</strong></p>
<ul>
<li>
<p>允许途中分片：根据下一跳链路的 MTU 实施分片</p>
</li>
<li>
<p>不允许途中分片：发出的数据报长度小于路径 MTU（路径 MTU 发现机制）</p>
</li>
</ul>
<p><strong>重组策略</strong></p>
<ul>
<li>
<p>途中重组，实施难度太大</p>
</li>
<li>
<p><strong>目的端重组</strong>（互联网采用的策略）</p>
</li>
<li>
<p>重组所需信息：原始数据报编号、分片偏移量、是否收集所有分片</p>
</li>
</ul>
<p><img src="./assets/image-20241031111725581.png" alt="image-20241031111725581" style="zoom:33%;" /></p>
<p>DF（Don't Fragment），MF（More Fragment）</p>
<ul>
<li>DF = 0，该 IP 数据报才可以被分片</li>
<li>MF = 1，相应原始数据包还有后续的片；MF = 0，最后一个片</li>
</ul>
<p><img src="./assets/image-20241031111937627.png" alt="image-20241031111937627" style="zoom:33%;" /></p>
<h5 id="ip">IP 地址<a class="headerlink" href="#ip" title="Permanent link">&para;</a></h5>
<p>IP 地址，网络上的每一台主机（或路由器）的每一个接口都会分</p>
<p>配一个全球唯一的 32 位的标识符</p>
<p>✋🏻 将 IP 地址划分为固定的类，每一类都由两个字段组成</p>
<p>✋🏻 网络号相同的这块连续 IP 地址空间称为地址的前缀，或网络前缀</p>
<p>IP 地址::={&lt;网络号&gt;, &lt;主机号&gt;}</p>
<p>唯一标识</p>
<p><strong>特殊地址</strong></p>
<p><img src="./assets/image-20241031112328743.png" alt="image-20241031112328743" style="zoom:33%;" /></p>
<p><img src="./assets/image-20241031115827906.png" alt="image-20241031115827906" style="zoom:33%;" /></p>
<ul>
<li>C 类网络最多有 <span class="arithmatex">\(2^8-2(\text{主机位全0和全1两种情况})=254\)</span> 台主机/路由器，同理 A 类 B 类</li>
</ul>
<h5 id="_125">子网划分<a class="headerlink" href="#_125" title="Permanent link">&para;</a></h5>
<p><strong>子网划分(subnetting)</strong>，在网络内部将一个网络块进行划分以供多个内部网络使用，对外仍是一个网络</p>
<p><strong>子网(subnet)</strong>，一个网络进行子网划分后得到的一系列结果网络称为子网</p>
<p><strong>子网掩码(subnet mask)</strong>，与 IP 地址一一对应，是 32 bit 的二进制数，<strong>置 1 表示网络位，置 0 表示主机位</strong></p>
<ul>
<li>子网划分减少了 IP 地址的浪费、网络的组织更加灵活、便于维护和管理</li>
<li>子网减少了广播域的大小</li>
</ul>
<p><img src="./assets/image-20250108132519067.png" alt="image-20250108132519067" style="zoom:50%;" /></p>
<p>主机 IP 和子网掩码逐位进行 AND 得到子网的网络地址</p>
<ul>
<li>点对点链路，意味着主机号只要两位（两个主机 IP+网络地址+广播地址）</li>
</ul>
<h5 id="cidr">无分类编址 CIDR<a class="headerlink" href="#cidr" title="Permanent link">&para;</a></h5>
<p>无分类域间路由选择（Classless Inter-Domain Routing）</p>
<ul>
<li>将 32 位的 IP 地址划分为前后两个部分，并采用 <strong>斜线记法</strong>，即在 IP 地址后加上“/”，然后再写上网络前缀所占位数</li>
<li>与传统分类 IP 地址的最大区别是网络前缀的位数不固定</li>
</ul>
<p><img src="./assets/image-20250108133642517.png" alt="image-20250108133642517" style="zoom:50%;" /></p>
<blockquote>
<p><strong>Question</strong></p>
<p><img src="./assets/image-20241031114850271.png" alt="image-20241031114850271" style="zoom:33%;" /></p>
<ol>
<li><strong>Organization A:</strong> 1024 addresses → 2^10^
   - Subnet size: /22 (1024 addresses)
   - Starting IP: <strong>202.101.0.0/22</strong><ul>
<li>Range: 202.101.0.0 to 202.101.3.255</li>
</ul>
</li>
<li><strong>Organization B:</strong> 2000 addresses → 2^11^
   - Subnet size: /21 (2048 addresses)
   - Starting IP: <strong>202.101.4.0/21</strong><ul>
<li>Range: 202.101.4.0 to 202.101.11.255</li>
</ul>
</li>
<li><strong>Organization C:</strong> 2000 addresses → 2^11^
   - Subnet size: /21 (2048 addresses)
   - Starting IP: <strong>202.101.12.0/21</strong><ul>
<li>Range: 202.101.12.0 to 202.101.19.255</li>
</ul>
</li>
<li><strong>Organization D:</strong> 4096 addresses → 2^12^
   - Subnet size: /20 (4096 addresses)
   - Starting IP: <strong>202.101.20.0/20</strong><ul>
<li>Range: 202.101.20.0 to 202.101.35.255</li>
</ul>
</li>
<li><strong>Organization E:</strong> 512 addresses → 2^9^
   - Subnet size: /23 (512 addresses)
   - Starting IP: <strong>202.101.36.0/23</strong><ul>
<li>Range: 202.101.36.0 to 202.101.37.255</li>
</ul>
</li>
</ol>
<p>Summary</p>
<ul>
<li><strong>Organization A:</strong> 202.101.0.0/22 (1024 addresses)</li>
<li><strong>Organization B:</strong> 202.101.4.0/21 (2048 addresses)</li>
<li><strong>Organization C:</strong> 202.101.12.0/21 (2048 addresses)</li>
<li><strong>Organization D:</strong> 202.101.20.0/20 (4096 addresses)</li>
<li><strong>Organization E:</strong> 202.101.36.0/23 (512 addresses)</li>
</ul>
</blockquote>
<h5 id="_126">最长前缀匹配<a class="headerlink" href="#_126" title="Permanent link">&para;</a></h5>
<p>最长前缀匹配（Longest prefix match） </p>
<p>✋🏻 CIDR 可变长子网掩码以及路由聚合，需要最长前缀匹配来实现最精确匹配</p>
<p>✋🏻 IP 地址与 IP 前缀匹配时，总是选取 <mark>子网掩码最长的匹配项</mark></p>
<p><img src="./assets/image-20241031115520686.png" style="zoom:33%;" /></p>
<h5 id="ipv4_1">IPv4 地址如何获取<a class="headerlink" href="#ipv4_1" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241031115914570.png" alt="image-20241031115914570" style="zoom:33%;" /></p>
<h4 id="dhcp">DHCP 动态主机配置协议<a class="headerlink" href="#dhcp" title="Permanent link">&para;</a></h4>
<p>DHCP（Dynamic Host Configuration Protocol）：<strong>动态主机配置协议</strong></p>
<ul>
<li>当主机加入 IP 网络，允许主机从 DHCP 服务器动态获取 IP 地址</li>
<li>可以有效利用 IP 地址，方便移动主机的地址获取</li>
</ul>
<p>工作模式：<strong>客服/服务器模式（C/S）</strong> </p>
<ul>
<li><strong>基于 UDP 工作</strong>，服务器运行在 67 号端口，客户端运行在 68 号端口</li>
</ul>
<p><img src="./assets/image-20241031120346786.png" alt="image-20241031120346786" style="zoom:33%;" /></p>
<ol>
<li>
<p>DHCP 客户从 UDP <strong>端口 68</strong> 以 <strong>广播</strong> 形式向服务器发送发现报文（<code>DHCPDISCOVER</code>） </p>
</li>
<li>
<p>DHCP 服务器 <strong>单播</strong> 发出提供报文（<code>DHCPOFFER</code>） </p>
</li>
<li>
<p>DHCP 客户从多个 DHCP 服务器中选择一个，并向其以 <strong>广播</strong> 形式发送 DHCP 请求报文（<code>DHCPREQUEST</code>） </p>
</li>
<li>被选择的 DHCP 服务器单播发送确认报文（<code>DHCPACK</code>）</li>
</ol>
<p><img src="./assets/image-20241031121548464.png" alt="image-20241031121548464" style="zoom:33%;" /></p>
<h4 id="ip-mac">IP 与 MAC 地址<a class="headerlink" href="#ip-mac" title="Permanent link">&para;</a></h4>
<p>IP 数据报经过不同链路时，IP 数据报中封装的 IP 地址不发生改变，而 Mac 帧中的硬件地址是发生改变的</p>
<p>IP 地址是网络层以及网络层之上使用的地址，硬件地址 MAC 是数据链路层使用的地址</p>
<p>由于路由器的隔离，IP 网络中无法通过广播 MAC 地址来完成跨网络的寻址，所以在网络层中只使用 IP 地址完成寻址</p>
<h4 id="arp-address-resolution-protocol">ARP 地址解析协议（Address Resolution Protocol）<a class="headerlink" href="#arp-address-resolution-protocol" title="Permanent link">&para;</a></h4>
<p>ARP 完成 IP 地址到 MAC 地址的映射，动态的</p>
<h5 id="_127">工作流程<a class="headerlink" href="#_127" title="Permanent link">&para;</a></h5>
<p>A 已知 B 的 IP 地址，需要获得 B 的 MAC 地址（物理地址）</p>
<ul>
<li>如果 A 的 ARP 表中缓存有 B 的 IP 地址与 MAC 地址的映射关系，则直接从 ARP 表获取</li>
<li>如果 A 的 ARP 表中未缓存有 B 的 IP 地址与 MAC 地址的映射关系，则 A <strong>广播</strong> 包含 B 的 IP 地址的 ARP query 分组</li>
<li>在局域网上的所有节点都可以接收到 ARP query</li>
<li>B 接收到 ARP query 分组后，将自己的 MAC 地址发送给 A（<strong>单播</strong>）</li>
<li>A 在 ARP 表中缓存 B 的 IP 地址和 MAC 地址的映射关系</li>
<li>超时时删除</li>
</ul>
<h5 id="ip_1">IP 包转发<a class="headerlink" href="#ip_1" title="Permanent link">&para;</a></h5>
<p>直接交付：与目的主机在同一个 IP 子网内</p>
<h4 id="natnetwork-address-translation">NAT(Network Address Translation)<a class="headerlink" href="#natnetwork-address-translation" title="Permanent link">&para;</a></h4>
<p>网络地址转换(NAT)用于解决 IPv4 地址不足的问题，是一种将私有（保留）地址转化为公有 IP 地址的转换技术</p>
<p>内网地址可以重复（在不同内网都是指不同的地址），到外网由 NAT 边界路由器进行 IP 地址转换</p>
<p><strong>私有 IP 地址（内网地址）</strong>：</p>
<ul>
<li>
<p>A 类地址：10.0.0.0--10.255.255.255</p>
</li>
<li>
<p>B 类地址：172.16.0.0--172.31.255.555</p>
</li>
<li>
<p>C 类地址：192.168.0.0--192.168.255.255</p>
</li>
</ul>
<h5 id="nat">NAT 工作机制<a class="headerlink" href="#nat" title="Permanent link">&para;</a></h5>
<p>普通路由器在转发 IP 分组时，其源 IP 地址和目的 IP 地址都不会改变。而 NAT 路由器在转发 IP 分组时，一定要 <strong>更换其 IP 地址</strong>（转换源 IP 地址或目的 IP 地址)。普通路由器仅工作在网络层，而 NAT 路由器转发数据报时需要查看和转换传输层的端口号。</p>
<p><img src="./assets/image-20241107101548196.png" alt="image-20241107101548196" style="zoom:33%;" /></p>
<p><img src="./assets/image-20241107102147921.png" alt="image-20241107102147921" style="zoom:33%;" /></p>
<blockquote>
<p>[!NOTE]</p>
<p><strong>同一主机不同应用，或者不同主机的同一端口，NAT 转换如何处理？</strong> 换端口（区分到每台主机的不同应用）</p>
</blockquote>
<p><strong>出数据报</strong>：外出数据报用 NAT IP 地址(全局), 新 port # 替代 源 IP 地址(私有), port #</p>
<p><strong>NAT 转换表</strong>：每个 (源 IP 地址, port #)到(NAT IP 地址, 新 port #) 映射项</p>
<p><strong>入数据报</strong>：对每个入数据报的地址字段用存储在 NAT 表中的(源 IP 地址, port #)替代对应的 (NAT IP 地址, 新 port #)</p>
<p>端口号由两个字节（16bit）表示</p>
<h5 id="nat_1">NAT 优缺点<a class="headerlink" href="#nat_1" title="Permanent link">&para;</a></h5>
<p>NAT 的优势</p>
<ul>
<li>节省合法地址，减少地址冲突</li>
<li>灵活连接 Internet</li>
<li>保护局域网的私密性</li>
</ul>
<p>问题或缺点</p>
<ul>
<li>违反了 IP 的结构模型，路由器处理传输层协议（三层的路由器看四层的端口）</li>
<li>违反了端到端的原则</li>
<li>违反了最基本的协议分层规则</li>
<li>不能处理 IP 报头加密</li>
<li>新型网络应用的设计者必须要考虑 NAT 场景，如 P2P 应用程序</li>
</ul>
<p>外网的 client 要连内网的 host？relaying</p>
<p><img src="./assets/image-20241107103147155.png" alt="image-20241107103147155" style="zoom:33%;" /></p>
<h4 id="icmpinternet">ICMP（Internet 控制报文协议）<a class="headerlink" href="#icmpinternet" title="Permanent link">&para;</a></h4>
<p>ICMP(Internet Control Message Protocol): 互联网控制报文协议</p>
<ul>
<li>ICMP 报文封装在 IP 数据报发送错误</li>
</ul>
<p>ICMP 报文类型（报文字段不做要求）</p>
<ul>
<li><strong>ICMP 差错报告报文</strong>（5 种）</li>
<li>
<p>终点不可达：不可达主机、不可达网络，无效端口、协议</p>
</li>
<li>
<p>源点抑制：拥塞</p>
</li>
<li>
<p>时间超时</p>
</li>
<li>
<p>参数问题</p>
</li>
<li>
<p>改变路由（重定向）</p>
</li>
<li>
<p><strong>ICMP 询问报文</strong></p>
</li>
<li>回送请求/回答 (PING 使用)</li>
</ul>
<h5 id="ping-packet-internet-groper">PING (Packet InterNet Groper)<a class="headerlink" href="#ping-packet-internet-groper" title="Permanent link">&para;</a></h5>
<p>PING ：分组网间探测</p>
<ul>
<li>PING 用来测试两个主机之间的连通性</li>
<li>PING 使用了 ICMP 回送请求与回送回答报文</li>
<li>可以知道 连通性、往返时延、单向转发跳数</li>
<li>PING 工作在应用层，直接使用网络层的 ICMP</li>
</ul>
<h5 id="traceroute">Traceroute<a class="headerlink" href="#traceroute" title="Permanent link">&para;</a></h5>
<p>如何知道整个路径上路由器的地址？ 使用 TraceRT 命令</p>
<p>这个方法不精确：互联网上的路由是独立的</p>
<ul>
<li>Tracert 工作在网络层</li>
</ul>
<h3 id="_128">路由算法<a class="headerlink" href="#_128" title="Permanent link">&para;</a></h3>
<p>路由算法须满足的特性：</p>
<ul>
<li>正确性、简单性、鲁棒性、稳定性、公平性、有效性</li>
</ul>
<p>根据路由算法是否随网络的通信量或拓扑自适应划分</p>
<ul>
<li><strong>静态路由</strong> 选择策略（<strong>非自适应</strong> 路由选择）</li>
<li><strong>动态路由</strong> 选择策略（<strong>自适应</strong> 路由选择）</li>
</ul>
<h4 id="_129">优化原则<a class="headerlink" href="#_129" title="Permanent link">&para;</a></h4>
<p>汇集树(Sink Tree)</p>
<ul>
<li>所有的源节点到一个指定目标节点的最优路径的集合构成一棵以目标节点为根的树</li>
<li>一棵路由器 B 的汇集树（距离度量单位：步长数）</li>
</ul>
<p><strong>汇集树不是唯一的</strong></p>
<h4 id="distance-vector">距离向量路由算法 Distance vector<a class="headerlink" href="#distance-vector" title="Permanent link">&para;</a></h4>
<p>Bellman-Ford 方程</p>
<p>假设 <span class="arithmatex">\(D_x(y)\)</span> 是 从 x 到 y 最小代价路径的代价值；其中 <span class="arithmatex">\(m\)</span> 为 <span class="arithmatex">\(x\)</span> 的邻居, <span class="arithmatex">\(c(x, m)\)</span> 为 <span class="arithmatex">\(m\)</span> 到 <span class="arithmatex">\(x\)</span> 的距离
$$
D_x(y) = min {c(x, m) + D_m(y) }
$$
<strong>距离向量（Distance Vector）</strong> 算法基本思想: </p>
<ul>
<li>每个节点周期性地向邻居发送它自己到某些节点的距离向量；</li>
<li>当节点 x 接收到来自邻居的新 DV 估计，它使用 B-F 方程更新其自己的 DV :</li>
</ul>
<p>上述过程迭代执行，Dx (y)收敛为实际最小费用 dx(y)</p>
<p>距离向量算法 <strong>特点</strong>：迭代的、分布式的</p>
<p><strong>缺点</strong> </p>
<ul>
<li>It reacts rapidly to good news, but leisurely to bad news. 对好消息反应快，坏消息反应慢 </li>
<li>It is known as the count-to-infinity problem</li>
</ul>
<p>Attempts to solve <strong>Count-to-infinity</strong> problem —— <strong>Poisoned reverse</strong> (毒性逆转, RFC 1058) &rarr; 但不能完全解决这个问题</p>
<h4 id="_130">链路状态路由算法<a class="headerlink" href="#_130" title="Permanent link">&para;</a></h4>
<p>链路状态（Link State）路由可分为五个部分：</p>
<ol>
<li>
<p>发现邻居，了解他们的网络地址；</p>
</li>
<li>
<p>设置到每个邻居的成本度量；</p>
</li>
<li>
<p>构造一个分组，分组中包含刚收到的所有信息；</p>
</li>
<li>
<p>将此分组发送给其他的路由器；</p>
</li>
<li>
<p>计算到其他路由器的最短路径（Dijkstra 最短路径算法）。</p>
</li>
</ol>
<p><img src="./assets/image-20241107115807540.png" alt="image-20241107115807540" style="zoom:33%;" /></p>
<h4 id="_131">层次路由<a class="headerlink" href="#_131" title="Permanent link">&para;</a></h4>
<p>产生原因：</p>
<ul>
<li>过于庞大的路由表存储、查找困难，路由信息交互开销高</li>
<li>为提高路由器查表速度，减少路由表存储空间，需要缩减路由条目</li>
<li>可以通过地址聚合进一步缩减路由条目</li>
</ul>
<p>基本思路：<strong>互联网由大量不同的网络互连，每个管理机构控制的网络是自治的</strong></p>
<p><strong>自治系统</strong>（AS，Autonomous System） </p>
<ul>
<li>一个管理机构控制之下的网络</li>
<li>一个 AS 内部通常使用相同的路由算法/路由协议，使用统一的路由度量（跳数、带宽、时延 …） </li>
<li>不同的 AS 可以使用不同的路由算法/路由协议</li>
<li>每个 AS 有一个全球唯一的 ID 号：AS ID</li>
<li>自治系统内的还可以进一步划分层次：私有自治系统或区域</li>
</ul>
<p>自治系统内部使用 <strong>内部网关路由协议 Interior Gateway Protocols (IGP)</strong></p>
<p>自治系统之间之间使 <strong>用外部网关路由协议 Exterior Gateway Protocols (EGP)</strong></p>
<p><img src="./assets/image-20241107122126259.png" alt="image-20241107122126259" style="zoom:33%;" /></p>
<h4 id="broadcasting">广播路由 Broadcasting<a class="headerlink" href="#broadcasting" title="Permanent link">&para;</a></h4>
<p>广播（Broadcasting）：源主机同时给全部目标地址发送同一个数据包</p>
<p>方法 1：给每个主机单独发送一个数据包</p>
<ul>
<li>
<p>效率低、浪费带宽</p>
</li>
<li>
<p>Server 需要知道每个目的地址</p>
</li>
</ul>
<p>方法 2：多目标路由（multidestination routing）：在需要转发的路由器线路复制一次该数据报</p>
<ul>
<li>
<p>网络利用率高</p>
</li>
<li>
<p>Server 依然需要知道所有的目的地址</p>
</li>
</ul>
<p>方法 3：<strong>泛洪（flooding）</strong></p>
<ul>
<li>
<p>一种将数据包发送到所有网络节点的简单方法</p>
</li>
<li>
<p>将每个进入数据包发送到除了进入线路外的每条出去线路</p>
</li>
<li>
<p>用途</p>
</li>
<li>
<p>保证性：一种有效广播手段，可确保数据包被传送到网络中每个节点</p>
</li>
<li>鲁棒性：即使大量路由器被损坏，也能找到一条路径（如果存在）</li>
<li>
<p>简单性：仅需知道自己的邻居</p>
</li>
<li>
<p>无控制的泛洪：<em>环路</em> 可能导致广播风暴</p>
</li>
<li>
<p>解决方法：受控制的泛洪（每个路由器进行有选择的泛洪）</p>
</li>
<li>
<p>序号控制泛洪（sequence-number-controlled flooding） </p>
<ul>
<li>记录每个来源的广播序号</li>
<li><img src="./assets/image-20241114100855009.png" alt="image-20241114100855009" style="zoom:33%;" /></li>
</ul>
</li>
<li>逆向路径转发（reverse path forwarding, RPF） <ul>
<li><img src="./assets/image-20241114100921015.png" alt="image-20241114100921015" style="zoom:33%;" /></li>
</ul>
</li>
</ul>
<p><img src="./assets/image-20241114101745045.png" alt="image-20241114101745045" style="zoom:33%;" /></p>
<p>方法 4：<strong>生成树（spanning tree）</strong></p>
<ul>
<li>源节点向所有属于该生成树的特定链路发送分组</li>
<li>改进了逆向路径转发</li>
<li>没有环路</li>
<li>最佳使用带宽</li>
<li>最少副本，消除了冗余分组</li>
<li>一个路由器可以不必知道整颗树，只需要知道在一颗树中的邻居即可</li>
</ul>
<h4 id="multicasting">组播路由 multicasting<a class="headerlink" href="#multicasting" title="Permanent link">&para;</a></h4>
<p>组播/多播（multicasting）：源主机给网络中的一部分目标用户发送数据包</p>
<p>目的：更好地支持<strong>一对多通信</strong></p>
<p>组播实现的两个步骤：</p>
<ol>
<li>确定组成员</li>
<li>生成树——路由器与路由器之间的协议</li>
</ol>
<ul>
<li>
<p>最佳生成树的使用取决于组的密度分布</p>
</li>
<li>
<p>密集分布，基于源点树（source-based trees） </p>
<p><img src="./assets/image-20241114102551036.png" alt="image-20241114102551036" style="zoom:33%;" /></p>
<ul>
<li>存在的问题：</li>
<li>大型网络中，组播源很多时，路由器需生成多颗棵树，工作量巨大</li>
<li>路由器需要大量空间来存储多颗树</li>
</ul>
</li>
<li>
<p>稀疏分布，基于核心树（core-based trees） </p>
<p><img src="./assets/image-20241114102709672.png" alt="image-20241114102709672" style="zoom:33%;" /></p>
<ul>
<li>基于核心树（core-based trees）存在的问题：</li>
<li>可能无法达到最优</li>
<li>如果只有一个发送者，将发送者作为核心是最优的</li>
</ul>
</li>
</ul>
<p><strong>IGMP (Internet Group Management Protocol)</strong>：路由器获悉该网段的组播组成员</p>
<p>常用组播地址段（D类地址）：224.0.0.0/24（即 224.0.0.0~239.255.255.255）</p>
<p><img src="./assets/image-20241114102242154.png" alt="image-20241114102242154" style="zoom:33%;" /></p>
<h4 id="anycast">选播路由 Anycast<a class="headerlink" href="#anycast" title="Permanent link">&para;</a></h4>
<p>选播（Anycast） </p>
<ul>
<li>将数据包传送给最近的一个组成员</li>
<li>在有多个服务器的情况下，用户希望快速获得正确信息，而不在乎从哪个服务器获得</li>
</ul>
<p><img src="./assets/image-20241114103115444.png" alt="image-20241114103115444" style="zoom:33%;" /></p>
<p>选播的典型应用：DNS</p>
<ul>
<li>在没有指定 DNS 服务器的情况下，用户将始终连接到“最接近”(从路由协议角度来看) 服务器，可以减少延迟，并提供一定程度的负载平衡</li>
</ul>
<h3 id="internet">Internet 路由协议 🔥<a class="headerlink" href="#internet" title="Permanent link">&para;</a></h3>
<p>默认网关可以理解为到当前主机最近的路由器的端口地址</p>
<blockquote>
<p>[!NOTE]</p>
<p>路由协议：</p>
<p>内部网关协议 IGP： 有 RIP 和、OSPF、ISIS 等多种具体的协议</p>
<p>外部网关协议 EGP：目前使用的协议就是 BGP</p>
<p>三种路由协议的比较：</p>
<p><img alt="image-20250108204649225" src="assets/image-20250108204649225.png" /></p>
</blockquote>
<h4 id="opsf-igp">OPSF 开放路径优先协议(IGP)<a class="headerlink" href="#opsf-igp" title="Permanent link">&para;</a></h4>
<p><strong>OSPF（Open Shortest Path First）开放最短路径优先</strong>：采用 <strong>分布式的链路状态</strong> 算法</p>
<ul>
<li>网络层协议，直接用 IP 数据报传送</li>
<li>内部网关路由协议</li>
<li>使用了 Dijkstra 提出的最短路径算法 SPF</li>
</ul>
<p>OSPF 协议的基本思想</p>
<ul>
<li>向本 <em>自治系统</em> 中 <strong>所有路由器洪泛</strong> 信息</li>
<li>发送的信息就是与本路由器相邻的所有路由器的 <strong>链路状态</strong></li>
<li>只有当 <em>链路状态</em> 发生变化时路由器才用<strong>洪泛</strong>法发送此信息</li>
</ul>
<p>OSPF 的五种分组类型</p>
<ul>
<li>问候 (Hello) 分组</li>
<li>数据库描述 (Database Description) 分组</li>
<li>链路状态请求 (Link State Request) 分组</li>
<li>链路状态更新 (Link State Update) 分组</li>
<li>链路状态确认 (Link State Acknowledgment)分组</li>
</ul>
<h5 id="ospf-">OSPF-工作流程<a class="headerlink" href="#ospf-" title="Permanent link">&para;</a></h5>
<ol>
<li>
<p>确定邻站可达</p>
</li>
<li>
<p>同步链路状态数据库</p>
</li>
<li>
<p>更新链路状态</p>
</li>
</ol>
<ul>
<li>
<p>“链路状态”就是说明本路由器都和哪些路由器相邻，以及该链路的“度量”(metric)</p>
</li>
<li>
<p>OSPF 度量值一般包括费用、距离、时延、带宽等</p>
</li>
</ul>
<p>所有的路由器最终都能建立一个 <em>链路状态数据库 LSDB</em></p>
<p>链路状态更新（LSU, Link State Update）</p>
<h5 id="ospf-_1">OSPF-区域的概念<a class="headerlink" href="#ospf-_1" title="Permanent link">&para;</a></h5>
<p>OSPF 支持将一组网段组合在一起，称为一个区域</p>
<p>使用层次结构的区域划分，上层的区域叫做 <strong>主干区域(backbone area)</strong>，其他区域都必须与主干区域相连</p>
<p>非主干区域之间不允许直接发布区域间路由信息</p>
<p><img src="./assets/image-20241114104229921.png" alt="image-20241114104229921" style="zoom:40%;" /></p>
<p>有三类路由器：ASBR 自治系统边界路由器，IR 内部路由器，ABR 区域边界路由器</p>
<h5 id="_132">小结<a class="headerlink" href="#_132" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241114104450190.png" alt="image-20241114104450190" style="zoom:40%;" /></p>
<p>“路由收敛”是指网络设备路由表和网络拓扑结构保持一致</p>
<h5 id="_133">题目<a class="headerlink" href="#_133" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20250108223250666.png" alt="image-20250108223250666" style="zoom:50%;" /></p>
<p><img src="./assets/image-20250108223222302.png" alt="image-20250108223222302" style="zoom:40%;" /></p>
<h4 id="rip-igp">RIP 路由选择协议(IGP)<a class="headerlink" href="#rip-igp" title="Permanent link">&para;</a></h4>
<p><strong>路由选择协议 RIP（ Routing Information Protocol）</strong> 是基于 <a href="# 距离向量路由">距离矢量算法</a> 的协议</p>
<ul>
<li>应用层协议，在传输层使用 UDP</li>
<li>继承距离矢量算法的缺点</li>
<li>内部网关路由协议</li>
</ul>
<p>使用 <strong>跳数</strong>（Hop count） 衡量到达目的网络的距离</p>
<ul>
<li>RIP 认为一个好的路由就是它通过的 <strong>路由器的数目少</strong>，即“距离短” （时间不一定短）</li>
<li>RIP 允许一条路径最多只能包含 15 个路由器（16 表示不可达）</li>
</ul>
<p>RIP 协议的基本思想</p>
<ul>
<li>
<p>仅和 <strong>相邻</strong> 路由器交换信息（交换 DV）</p>
</li>
<li>
<p>发现有更优的路由，更新自己的路由表，向相邻路由器广播自己的新路由</p>
</li>
<li>
<p>路由器交换的内容是自己的路由表</p>
</li>
<li>
<p>路由表：<code>&lt;目的网络N，距离d，下一跳路由器地址X&gt;</code></p>
</li>
<li>
<p>周期性更新：30s</p>
</li>
</ul>
<p><strong>小结</strong></p>
<p><img src="./assets/image-20241114105310291.png" alt="image-20241114105310291" style="zoom:33%;" /></p>
<h4 id="bgp-egp">BGP 边界网关协议(EGP)<a class="headerlink" href="#bgp-egp" title="Permanent link">&para;</a></h4>
<p><strong>边界网关协议 BGP (Border Gateway Protocol)</strong> ：目前互联网中唯一实际运行的自治域 AS 间的路由协议</p>
<ul>
<li>应用层协议，基于 TCP</li>
<li>外部网关路由协议</li>
</ul>
<p>BGP 功能</p>
<ul>
<li>eBGP：从相邻的 AS 获得网络可达信息</li>
<li>iBGP： 将网络可达信息传播给 AS 内的路由器</li>
<li>基于网络可达信息和策略决定到其他网络的“最优”路由</li>
</ul>
<p><img src="./assets/image-20241114105911720.png" alt="image-20241114105911720" style="zoom:33%;" /></p>
<p><strong>BGP 会话</strong>: 两个 BGP 路由器通过 TCP 连接交换 BGP 报文</p>
<ul>
<li>通告到不同网络前缀的路径，即 <strong>路径向量</strong> (path vector)协议</li>
</ul>
<p><strong>BGP 路径通告</strong>：完整路径通报给 AS</p>
<ul>
<li>路由 = [前缀, AS-PATH, NEXT-HOP]</li>
</ul>
<p><img src="./assets/image-20241114110331336.png" alt="image-20241114110331336" style="zoom:33%;" /></p>
<p>路由器可能会学到多条到目的网络的路径</p>
<p>由策略，AS1 路由器 1c 可能选择路径 AS3, X, 并在 AS1 中通过 iBGP 通告路径</p>
<h5 id="bgp">BGP 协议的特点<a class="headerlink" href="#bgp" title="Permanent link">&para;</a></h5>
<p>BGP 协议交换路由信息的结点数量级是自治系统数的量级</p>
<p>每一个自治系统边界路由器的数目是很少的</p>
<p>在 BGP 刚刚运行时，BGP 的邻站是交换整个的 BGP 路由表；以后只需要在发生变化时更新有变化的部分（到达某个网络所经过的路径）</p>
<h5 id="bgp_1">BGP 报文<a class="headerlink" href="#bgp_1" title="Permanent link">&para;</a></h5>
<p>BGP 通过 TCP 的 179 端口交换报文</p>
<h5 id="bgp_2">BGP 路由策略<a class="headerlink" href="#bgp_2" title="Permanent link">&para;</a></h5>
<p>路由器使用策略决定接受或拒绝接收到的路由通告</p>
<p>路由器也会基于策略决定是否向其他相邻 AS 通告路径信息</p>
<h4 id="mpls">标签交换和 MPLS<a class="headerlink" href="#mpls" title="Permanent link">&para;</a></h4>
<p><strong>MPLS (MultiProtocol Label Switching) 多协议标签交换</strong></p>
<ul>
<li>多协议表示在 MPLS 的上层可以采用多种协议，例如：IP，IPv6、IPX</li>
<li>标签是指每个分组被分配一个标签，路由器根据该标签对分组进行转发</li>
<li>交换是指标签的交换，MPLS 报文交换和转发是基于标签的</li>
</ul>
<p>MPLS 设计初衷为了 <em>提升查找速度</em>，是一种 <strong>IP 增强技术</strong></p>
<p>MPLS 主要有以下三个方面的应用</p>
<ul>
<li>面向连接的服务质量管理</li>
<li>流量工程，平衡网络负载</li>
<li>虚拟专用网 VPN</li>
</ul>
<p><strong>标签交换路由器 LSR</strong></p>
<ul>
<li>支持 MPLS 的路由器</li>
<li>具备标签交换、路由选择两种功能</li>
</ul>
<p>MPLS 域 </p>
<ul>
<li>所有相邻的支持 MPLS 技术的路由器构成的区域</li>
</ul>
<p>标签分配协议 LDP</p>
<ul>
<li>用来在 LSR 之间建立 LDP 会话并交换 Label/FEC 映射信息</li>
</ul>
<p><strong>工作过程</strong>：</p>
<p><img src="./assets/image-20241114112540755.png" alt="image-20241114112540755" style="zoom:50%;" /></p>
<h3 id="_134">路由器<a class="headerlink" href="#_134" title="Permanent link">&para;</a></h3>
<h4 id="_135">概述<a class="headerlink" href="#_135" title="Permanent link">&para;</a></h4>
<p>路由器是互联网最主要的网络设备，包含 2 个核心功能</p>
<ul>
<li>
<p>控制层：运行各种路由协议：BGP、OSPF、RIP，学习去往不同目的的转发路径：路由表</p>
</li>
<li>
<p>数据层：根据上述路由表，将收到的 IP 分组转发到正确的下一跳链路</p>
</li>
</ul>
<blockquote>
<p>[!NOTE]</p>
<p>由路由器互联的多个局域网的结构中，要求每个局域网 <em>物理层、数据层、网络层协议可以不同而网络层以上的高层协议必须相同</em></p>
</blockquote>
<p>路由器的路由表通常包含 <em>目的网络和到达该目的网络路径上的下一个路由器的 IP 地址</em>，即 <code>（目的网络地址，下一跳地址）</code></p>
<ul>
<li>路由器能划分冲突域，隔离广播域</li>
<li>路由器不会转发广播帧</li>
<li>在多个逻辑网络（广播域）互连时必须使用路由器</li>
<li>路由器是网络层设备，实现了物理层、数据链路层和网络层的功能</li>
<li>路由表中默认路由的目的地址和子网掩码都是 <code>0.0.0.0</code>。</li>
</ul>
<p><strong>路由选择</strong> 分为直接交付和间接交付，当发送站与目的站在同一网段内时，就使用直接交付，反之使用间接交付</p>
<p>判断一个 IP 分组的交付方式是 <strong>直接交付还是间接交付</strong>，路由器需要根据分组的目的 IP 地址和该路由器接收端口的 IP 地址是否属于同一个子网来进行判断。具体来说，将该分组的源 IP 地址和目的 IP 地址分别与子网掩码进行“与”操作，若得到的子网地址相同，则该分组就采用直接交付方式，否则采用间接交付方式。</p>
<p>路由器是网络层设备，在路由器上实现了物理层、数据链路层和网络层的功能，所以相比交换机、网桥、集线器，路由器的传输延迟时间最长。</p>
<h4 id="_136">控制层<a class="headerlink" href="#_136" title="Permanent link">&para;</a></h4>
<p>路由器可同时运行多个路由协议</p>
<p>路由器也可不运行任何路由协议，只使用静态路由和直连路由</p>
<p>路由管理根据路由优先级，选择最佳路由，形成核心路由表</p>
<p>控制层将核心路由表下发到数据层，形成转发表（FIB）</p>
<ul>
<li>若存在多个“去往同一目的 IP 前缀”的不同类型路由，路由器根据优先级选择最佳路由</li>
<li>优先级数值越小，优先级越高</li>
<li><img src="./assets/image-20241114112803318.png" alt="image-20241114112803318" style="zoom:33%;" /></li>
</ul>
<h4 id="_137">数据层<a class="headerlink" href="#_137" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20241114112938001.png" alt="image-20241114112938001" style="zoom:40%;" /></p>
<h3 id="_138">拥塞控制算法<a class="headerlink" href="#_138" title="Permanent link">&para;</a></h3>
<blockquote>
<p>[!TIP]</p>
<p>具体见下一章 <a href="# TCP 拥塞控制">TCP 拥塞控制</a></p>
</blockquote>
<h4 id="_139">拥塞控制概述<a class="headerlink" href="#_139" title="Permanent link">&para;</a></h4>
<p>拥塞：网络中存在太多的数据包导致数据包传输延迟或丢失，从而导致网络吞吐量下降</p>
<p>拥塞控制（congestion control）：需要确保通信子网能够承载用户提交的通信量，是一个全局性问题，涉及主机、路由器等多种因素</p>
<p>产生拥塞的原因：</p>
<ul>
<li>主机发送到网络的数据包数量过多，超过了网络的承载能力</li>
<li>突发的流量填满了路由器的缓冲区，造成某些数据包会被丢弃</li>
</ul>
<p>拥塞可以在网络层解决，但实际上大多在传输层解决</p>
<h4 id="_140">流量感知路由<a class="headerlink" href="#_140" title="Permanent link">&para;</a></h4>
<h4 id="_141">流量调节<a class="headerlink" href="#_141" title="Permanent link">&para;</a></h4>
<p>显式拥塞通告（ECN，Explicit Congestion Notification）</p>
<h4 id="_142">随机早期检测<a class="headerlink" href="#_142" title="Permanent link">&para;</a></h4>
<h3 id="_143">服务质量<a class="headerlink" href="#_143" title="Permanent link">&para;</a></h3>
<blockquote>
<p>[!TIP]</p>
<p>不是很重要</p>
</blockquote>
<p><strong>网络服务质量（QoS）</strong></p>
<p><strong>区分服务（DiffServ：Differentiated services）</strong></p>
<h3 id="vpn">三层交换与 VPN<a class="headerlink" href="#vpn" title="Permanent link">&para;</a></h3>
<h4 id="_144">三层交换<a class="headerlink" href="#_144" title="Permanent link">&para;</a></h4>
<h4 id="vpn_1">VPN 技术<a class="headerlink" href="#vpn_1" title="Permanent link">&para;</a></h4>
<p><strong>虚拟专用网 VPN (Virtual Private Network)</strong>：利用公用网络架设专用网络的远程访问技术</p>
<ul>
<li>专用网络的经济、可靠、灵活的解决方案</li>
<li>利用安全隧道技术(tunneling)将专用网络在公共网络上扩展</li>
</ul>
<p>VPN 的设计原则</p>
<ul>
<li>安全性、隧道与加密、数据验证、用户验证、防火墙与攻击检测</li>
</ul>
<h5 id="vpn_2">VPN 的原理<a class="headerlink" href="#vpn_2" title="Permanent link">&para;</a></h5>
<p>通过隧道技术在公共网络上模拟出一条点到点的逻辑专线，从而达到安全数据传输的目的</p>
<h3 id="ipv6">IPv6 技术（需要掌握）<a class="headerlink" href="#ipv6" title="Permanent link">&para;</a></h3>
<p>初始动机：应付“32-bit 地址空间耗尽”问题（CIDR 和 NAT 都无法从根本上解决地址短缺问题），增加地址空间</p>
<p><img src="./assets/image-20241114114800138.png" alt="image-20241114114800138" style="zoom: 33%;" /></p>
<h4 id="ipv6_1">IPV6 头部<a class="headerlink" href="#ipv6_1" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20241114115641311.png" alt="image-20241114115641311" style="zoom: 33%;" /></p>
<p><img src="./assets/image-20241114115658061.png" alt="image-20241114115658061" style="zoom:33%;" /></p>
<p><strong>IPv6 头部字段分析</strong></p>
<p><img src="./assets/image-20241114115736513.png" alt="image-20241114115736513" style="zoom:33%;" /></p>
<ul>
<li>IPv6 不允许分片</li>
</ul>
<h4 id="ipv6_2">IPv6 扩展头<a class="headerlink" href="#ipv6_2" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20241114115917551.png" alt="image-20241114115917551" style="zoom:33%;" /></p>
<h4 id="_145">邻居发现<a class="headerlink" href="#_145" title="Permanent link">&para;</a></h4>
<p>不展开</p>
<h4 id="ipv6_3">IPv6 地址及配置<a class="headerlink" href="#ipv6_3" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20241114120240881.png" alt="image-20241114120240881" style="zoom:33%;" /></p>
<h4 id="ipv4-ipv6">IPv4 到 IPv6 迁移及过渡技术<a class="headerlink" href="#ipv4-ipv6" title="Permanent link">&para;</a></h4>
<p>主流过渡技术：双栈技术、翻译技术、隧道技术</p>
<h5 id="_146">隧道技术<a class="headerlink" href="#_146" title="Permanent link">&para;</a></h5>
<p>隧道技术（2 个同构网络的系统，跨越中间异构网络进行通信）：</p>
<ul>
<li>将 A 协议数据包封装在 B 协议中传输</li>
</ul>
<p><img src="./assets/image-20241114121200236.png" alt="image-20241114121200236" style="zoom:33%;" /></p>
<h5 id="_147">翻译技术<a class="headerlink" href="#_147" title="Permanent link">&para;</a></h5>
<p>破坏互联网端到端原则</p>
<h2 id="_148">传输层​🔥​<a class="headerlink" href="#_148" title="Permanent link">&para;</a></h2>
<blockquote>
<p>[!IMPORTANT]</p>
<p><img src="./assets/image-20250108234604463.png" alt="image-20250108234604463" style="zoom:33%;" /></p>
</blockquote>
<h3 id="_149">概述和传输层服务<a class="headerlink" href="#_149" title="Permanent link">&para;</a></h3>
<h4 id="_150">传输层的位置<a class="headerlink" href="#_150" title="Permanent link">&para;</a></h4>
<p>传输层位于应用层和网络层之间</p>
<p>“端到端”设计原则：应用程序只运行在终端上，进程 -- 进程</p>
<p>传输层应提供进程之间本地通信的抽象</p>
<h4 id="_151">不同终端上的进程如何通信？<a class="headerlink" href="#_151" title="Permanent link">&para;</a></h4>
<p>应用程序和网络之间存在一扇“门”：这扇“门”称为 <strong>套接字（socket）</strong>，是应用层和传输层的接口，也是应用程序和网络之间的 API</p>
<h4 id="_152">传输层提供什么服务？<a class="headerlink" href="#_152" title="Permanent link">&para;</a></h4>
<p><strong>网络层</strong> 提供“尽力而为”的服务 Best effort</p>
<ul>
<li>不保证交付，不保证按序交付，不保证数据完整，不保证延迟，不保证带宽等</li>
</ul>
<p><strong>传输层</strong> 的 <strong>有所为</strong>、<strong>有所不为</strong></p>
<ul>
<li>传输层可以通过差错恢复、重排序等手段提供 <strong>可靠、按序</strong> 的交付服务</li>
<li>但传输层无法提供延迟保证、带宽保证等服务</li>
</ul>
<p><img src="./assets/image-20241121101238998.png" alt="image-20241121101238998" style="zoom: 33%;" /></p>
<h3 id="_153">套接字编程<a class="headerlink" href="#_153" title="Permanent link">&para;</a></h3>
<h4 id="_154">网络应用<a class="headerlink" href="#_154" title="Permanent link">&para;</a></h4>
<p>应用程序体系结构：<strong>客户-服务器体系结构（C/S） client-server</strong></p>
<p>客户只与服务器通信，客户之间不通信</p>
<h4 id="_155">进程如何标识自己<a class="headerlink" href="#_155" title="Permanent link">&para;</a></h4>
<p>进程标识包括： </p>
<ul>
<li>
<p>主机地址</p>
</li>
<li>
<p>主机上与该进程关联的端口号 port number</p>
</li>
</ul>
<h4 id="socket-api">应用编程接口：socket API<a class="headerlink" href="#socket-api" title="Permanent link">&para;</a></h4>
<p>应用需 <strong>显式地</strong> 创建、使用和释放套接字</p>
<p>采用客户-服务器模式：客户总是主动发起通信的一方，服务器始终在等待客户的服务请求到来</p>
<p>应用可以通过 socket API 调用两种传输服务: </p>
<ul>
<li>不可靠的数据报服务：由 UDP 协议实现</li>
<li>可靠的字节流服务：由 TCP 协议实现</li>
</ul>
<h4 id="socket">创建套接字：socket()<a class="headerlink" href="#socket" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20241121101815974.png" alt="image-20241121101815974" style="zoom:33%;" /></p>
<h4 id="_156">套接字描述符<a class="headerlink" href="#_156" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20241121101912511.png" alt="image-20241121101912511" style="zoom:33%;" /></p>
<h4 id="udp">使用 UDP 套接字实现回音服务<a class="headerlink" href="#udp" title="Permanent link">&para;</a></h4>
<p>客户或服务器调用 sendto()发送数据</p>
<p>客户或服务器调用 recvfrom()接收数据</p>
<h5 id="_157">通信流程<a class="headerlink" href="#_157" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241121102356020.png" alt="image-20241121102356020" style="zoom:33%;" /></p>
<div class="language-c highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span>
<span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="c1">// UDP服务端代码</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">){</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">mesg</span><span class="p">[</span><span class="n">MAXLINE</span><span class="p">];</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">sockfd</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">len</span><span class="p">;</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">sockaddr_in</span><span class="w"> </span><span class="n">cliaddr</span><span class="p">,</span><span class="w"> </span><span class="n">servaddr</span><span class="p">;</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">    </span><span class="n">sockfd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">socket</span><span class="p">(</span><span class="n">AF_INET</span><span class="p">,</span><span class="w"> </span><span class="n">SOCK_DGRAM</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="w">    </span><span class="n">bzero</span><span class="p">(</span><span class="o">&amp;</span><span class="n">servaddr</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">servaddr</span><span class="p">));</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">    </span><span class="n">servaddr</span><span class="p">.</span><span class="n">sin_family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AF_INET</span><span class="p">;</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="w">    </span><span class="n">servaddr</span><span class="p">.</span><span class="n">sin_addr</span><span class="p">.</span><span class="n">s_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">htonl</span><span class="p">(</span><span class="n">INADDR_ANY</span><span class="p">);</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">    </span><span class="n">servaddr</span><span class="p">.</span><span class="n">sin_port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">htons</span><span class="p">(</span><span class="n">SERV_PORT</span><span class="p">);</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12"></a>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="w">    </span><span class="n">bind</span><span class="p">(</span><span class="n">sockfd</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">sockaddr</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="n">servaddr</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">servaddr</span><span class="p">));</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14"></a>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="w">        </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">cliaddr</span><span class="p">);</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="w">        </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recvfrom</span><span class="p">(</span><span class="n">sockfd</span><span class="p">,</span><span class="w"> </span><span class="n">mesg</span><span class="p">,</span><span class="w"> </span><span class="n">MAXLINE</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">cliaddr</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">len</span><span class="p">);</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="w">        </span><span class="n">sendto</span><span class="p">(</span><span class="n">sockfd</span><span class="p">,</span><span class="w"> </span><span class="n">mesg</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">cliaddr</span><span class="p">,</span><span class="w"> </span><span class="n">len</span><span class="p">);</span><span class="w"> </span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="p">}</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21"></a>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="c1">// UDP 回音 客户端代码</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">){</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">sockfd</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">sockaddr_in</span><span class="w"> </span><span class="n">servaddr</span><span class="p">;</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">sendline</span><span class="p">[</span><span class="n">MAXLINE</span><span class="p">],</span><span class="w"> </span><span class="n">recvline</span><span class="p">[</span><span class="n">MAXLINE</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span><span class="w"> </span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">argc</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">2</span><span class="p">){</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="w">        </span><span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span><span class="w"> </span><span class="o">%</span><span class="n">s</span><span class="err">\</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;usage: echoCli &lt;IPaddress&gt;&quot;</span><span class="p">);</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="w">        </span><span class="n">exit</span><span class="p">(</span><span class="n">EXIT_FAILURE</span><span class="p">);</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="w">    </span><span class="n">sockfd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">socket</span><span class="p">(</span><span class="n">AF_INET</span><span class="p">,</span><span class="w"> </span><span class="n">SOCK_DGRAM</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="w">    </span><span class="n">bzero</span><span class="p">(</span><span class="o">&amp;</span><span class="n">servaddr</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">servaddr</span><span class="p">));</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="w">    </span><span class="n">servaddr</span><span class="p">.</span><span class="n">sin_family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AF_INET</span><span class="p">;</span><span class="w"> </span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="w">    </span><span class="n">inet_pton</span><span class="p">(</span><span class="n">AF_INET</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="n">servaddr</span><span class="p">.</span><span class="n">sin_addr</span><span class="p">);</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="w">    </span><span class="n">servaddr</span><span class="p">.</span><span class="n">sin_port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">htons</span><span class="p">(</span><span class="n">SERV_PORT</span><span class="p">);</span>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">fgets</span><span class="p">(</span><span class="n">sendline</span><span class="p">,</span><span class="w"> </span><span class="n">MAXLINE</span><span class="p">,</span><span class="w"> </span><span class="n">stdin</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="w">        </span><span class="n">sendto</span><span class="p">(</span><span class="n">sockfd</span><span class="p">,</span><span class="w"> </span><span class="n">sendline</span><span class="p">,</span><span class="w"> </span><span class="n">strlen</span><span class="p">(</span><span class="n">sendline</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="w">               </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">sockaddr</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">servaddr</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">servaddr</span><span class="p">));</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="w">        </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recvfrom</span><span class="p">(</span><span class="n">sockfd</span><span class="p">,</span><span class="w"> </span><span class="n">recvline</span><span class="p">,</span><span class="w"> </span><span class="n">MAXLINE</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="w">        </span><span class="n">recvline</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="w">        </span><span class="n">fputs</span><span class="p">(</span><span class="n">recvline</span><span class="p">,</span><span class="w"> </span><span class="n">stdout</span><span class="p">);</span>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="w">    </span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="tcp">使用 TCP 套接字实现回音服务<a class="headerlink" href="#tcp" title="Permanent link">&para;</a></h4>
<p>TCP 服务器监听套接字：listen() -- 服务端</p>
<p>TCP 套接字系统调用：accept() -- 服务端</p>
<p>TCP 套接字系统调用：connect() -- 客户端</p>
<p>服务端在 SERV_PORT（9999）监听</p>
<h5 id="_158">服务器使用多个套接字服务客户<a class="headerlink" href="#_158" title="Permanent link">&para;</a></h5>
<ol>
<li>服务器进程在 <strong>监听套接字</strong> 上等待客户的连接请求</li>
<li>客户进程创建一个 <em>本地套接字</em>，与服务器的监听套接字通信： 在此过程中，客户 TCP 向服务器 TCP 发送连接请求</li>
<li>收到连接请求后，服务器进程创建一个 <strong>临时套接字（连接套接字）</strong> 和一个新的服务器进程，与客户进程通信</li>
<li>服务器进程回到监听套接字上继续等待：此举允许服务器同时服务多个客户</li>
<li>客户服务结束后，服务器销毁进程，关闭连接套接字</li>
</ol>
<h5 id="tcp_1">基于 TCP 的套接字通信流程<a class="headerlink" href="#tcp_1" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241121103558076.png" alt="image-20241121103558076" style="zoom:33%;" /></p>
<div class="language-c highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span>
<span class="normal"><a href="#__codelineno-1-18">18</a></span>
<span class="normal"><a href="#__codelineno-1-19">19</a></span>
<span class="normal"><a href="#__codelineno-1-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="c1">// TCP回音服务端</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">){</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">listenfd</span><span class="p">,</span><span class="w"> </span><span class="n">connfd</span><span class="p">;</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">    </span><span class="kt">socklen_t</span><span class="w"> </span><span class="n">clilen</span><span class="p">;</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">sockaddr_in</span><span class="w"> </span><span class="n">cliaddr</span><span class="p">,</span><span class="w"> </span><span class="n">servaddr</span><span class="p">;</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">    </span><span class="n">listenfd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">socket</span><span class="p">(</span><span class="n">AF_INET</span><span class="p">,</span><span class="w"> </span><span class="n">SOCK_STREAM</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">    </span><span class="n">bzero</span><span class="p">(</span><span class="o">&amp;</span><span class="n">servaddr</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">servaddr</span><span class="p">));</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="w">    </span><span class="n">servaddr</span><span class="p">.</span><span class="n">sin_family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AF_INET</span><span class="p">;</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="w">    </span><span class="n">servaddr</span><span class="p">.</span><span class="n">sin_addr</span><span class="p">.</span><span class="n">s_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">htonl</span><span class="p">(</span><span class="n">INADDR_ANY</span><span class="p">);</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="w">    </span><span class="n">servaddr</span><span class="p">.</span><span class="n">sin_port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">htons</span><span class="p">(</span><span class="n">SERV_PORT</span><span class="p">);</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="w">    </span><span class="n">bind</span><span class="p">(</span><span class="n">listenfd</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">sockaddr</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="n">servaddr</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">servaddr</span><span class="p">));</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="w">    </span><span class="n">listen</span><span class="p">(</span><span class="n">listenfd</span><span class="p">,</span><span class="w"> </span><span class="n">LISTENQ</span><span class="p">);</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14"></a>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="w">        </span><span class="n">clilen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">cliaddr</span><span class="p">);</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17"></a><span class="w">        </span><span class="n">connfd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">accept</span><span class="p">(</span><span class="n">listenfd</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">sockaddr</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="n">cliaddr</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">clilen</span><span class="p">);</span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18"></a><span class="w">        </span><span class="n">str_echo</span><span class="p">(</span><span class="n">connfd</span><span class="p">);</span><span class="w"> </span><span class="cm">/* process the request */</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="_159">套接字标识与端口号<a class="headerlink" href="#_159" title="Permanent link">&para;</a></h4>
<p>端口号是套接字标识的一部分：</p>
<ul>
<li>
<p>每个套接字在本地关联一个端口号</p>
</li>
<li>
<p>端口号是一个 16 比特的数</p>
</li>
</ul>
<p>✋🏻 端口号的分类：</p>
<ul>
<li>熟知端口：0～1023，由公共域协议使用</li>
<li>注册端口：1024～49151，需要向 IANA 注册才能使用</li>
<li>动态和/或私有端口：49152～65535，一般程序使用</li>
</ul>
<p>✋🏻 报文段中有两个字段携带端口号</p>
<ul>
<li>
<p>源端口号：与发送进程关联的本地端口号</p>
</li>
<li>
<p>目的端口号：与接收进程关联的本地端口号</p>
</li>
</ul>
<h5 id="_160">套接字端口号的分配<a class="headerlink" href="#_160" title="Permanent link">&para;</a></h5>
<p>自动分配（<strong>客户端</strong>）：</p>
<ul>
<li>创建套接字时不指定端口号</li>
<li>由操作系统从 49152～65535 中分配</li>
</ul>
<p>使用指定端口号创建套接字（<strong>服务器</strong>）：</p>
<ul>
<li>创建套接字时指定端口号</li>
<li>实现公共域协议的服务器应分配众所周知的端口号（0～1023） </li>
</ul>
<p><img src="./assets/image-20250109133425966.png" alt="image-20250109133425966" style="zoom:40%;" /></p>
<h3 id="_161">传输层复用和分用<a class="headerlink" href="#_161" title="Permanent link">&para;</a></h3>
<p>传输层基本服务：将主机间交付扩展到进程间交付，通过 <strong>复用</strong> 和 <strong>分用</strong> 实现</p>
<ul>
<li>（发送端）复用：传输层从多个套接字收集数据，交给网络层发送</li>
<li>（接收方）分用：传输层将从网络层收到的数据，交付给正确的套接字</li>
</ul>
<h4 id="udp_1">UDP 套接字<a class="headerlink" href="#udp_1" title="Permanent link">&para;</a></h4>
<p>UDP 套接字 Socket 使用 <code>&lt;IP地址, 端口号&gt;</code> 二元组进行标识</p>
<ul>
<li>UDP 协议实现分用时所依据的首部字段是 <strong>目的端口号</strong></li>
</ul>
<p>接收方传输层收到一个 UDP 报文段后：</p>
<ul>
<li>
<p>检查报文段中的目的端口号，将 UDP 报文段交付到具有该端口号的套接字</p>
</li>
<li>
<p><code>&lt;目的IP地址，目的端口号&gt;</code> 相同的 UDP 报文段被交付给同一个套接字，与 <code>&lt;源IP地址，源端口号&gt;</code> 无关</p>
</li>
<li>
<p>报文段中的 <code>&lt;源IP地址，源端口号&gt;</code> 被接收进程用来发送响应报文</p>
</li>
</ul>
<h4 id="tcp_2">TCP 套接字<a class="headerlink" href="#tcp_2" title="Permanent link">&para;</a></h4>
<p>一个 TCP 服务器为了同时服务很多个客户，使用两种套接字</p>
<p>监听套接字：</p>
<ul>
<li>服务器平时在监听套接字上等待客户的连接请求，该套接字具有众所周知的端口号</li>
</ul>
<p>连接套接字：</p>
<ul>
<li>
<p>服务器在收到客户的连接请求后，创建一个连接套接字，使用临时分配的端口号</p>
</li>
<li>
<p>服务器同时创建一个新的进程，在该连接套接字上服务该客户</p>
</li>
<li><strong>每个连接套接字只与一个客户通信</strong>，即只接收具有以下四元组的报文段：</li>
<li>源 IP 地址 = 客户 IP 地址，源端口号 = 客户套接字端口号</li>
<li>目的 IP 地址 = 服务器 IP 地址，目的端口号 = 服务器监听套接字的端口号</li>
</ul>
<p>连接套接字需要使用 <code>&lt;源IP地址，目的IP地址，源端口号，目的端口号&gt;</code> <strong>四元组</strong> 进行标识，服务器使用该四元组将 TCP 报文段交付到正确的连接套接字</p>
<ul>
<li>同一个 IP 地址可以有多个不同的 TCP 连接，而同一个端口号也可以出现在多个不同的 TCP 连接中</li>
</ul>
<h3 id="udp_2">无连接传输：UDP<a class="headerlink" href="#udp_2" title="Permanent link">&para;</a></h3>
<h4 id="udp_3">UDP 概述<a class="headerlink" href="#udp_3" title="Permanent link">&para;</a></h4>
<ul>
<li>UDP 比较简单，执行速度快、实时性好</li>
<li>使用 UDP 的应用包括小文件传送协议 TFTP、DNS、SNMP 和实时传输协议 RTP</li>
<li>
<p>不适合使用 UDP 的：远程登录，需要保证数据传输的安全性</p>
</li>
<li>
<p><strong>没有拥塞控制</strong></p>
</li>
<li>支持一对一、一对多、多对一和多对多的交互通信</li>
</ul>
<p>UDP 提供的服务：</p>
<ul>
<li>
<p>进程到进程之间的报文交付</p>
</li>
<li>
<p>报文完整性检查（可选）：检测并丢弃出错的报文</p>
</li>
</ul>
<p>UDP 只在 IP 的数据报服务之上增加了两个功能：</p>
<ul>
<li>
<p>复用和分用</p>
</li>
<li>
<p>报文检错</p>
</li>
</ul>
<h4 id="udp_4">UDP 报文段结构<a class="headerlink" href="#udp_4" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20241121105714048.png" alt="image-20241121105714048" style="zoom:33%;" /></p>
<p>UDP 首部大小为 8B，由 4 个字段组成，每个字段的长度都是 2B</p>
<ul>
<li>源端口</li>
<li>目的端口</li>
<li>长度：UDP 数据报的长度(包括首部和数据)</li>
<li>校验和</li>
</ul>
<h4 id="_162">校验和计算<a class="headerlink" href="#_162" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20241121110110364.png" alt="image-20241121110110364" style="zoom:33%;" /></p>
<p>伪首部是源IP+目的IP+0+17+UDP长度</p>
<p>UDP 检验要将部和数据部分一起检验</p>
<ul>
<li>检验时，若 UDP 数据报部分的长度不是偶数个字节，则需填入一个全 0 字节，但是此字节和伪首部一样，是不发送的。</li>
<li>若 UDP 检验和检验出 UDP 数据报是错误的，则可以丢弃，也可以交付给上层，但是需要附上错误报告，即告诉上层这是错误的数据报。</li>
<li>通过伪首部，不仅可以检查源端口号、目的端口号和 UDP 用户数据报的数据部分，还可以检查 IP 数据报的源 IP 地址和目的地址。</li>
</ul>
<h4 id="udp_5">为什么需要 UDP？<a class="headerlink" href="#udp_5" title="Permanent link">&para;</a></h4>
<ol>
<li>为什么需要 UDP？ </li>
</ol>
<ul>
<li>
<p>应用可以尽可能快地发送报文：</p>
</li>
<li>
<p>无建立连接的延迟</p>
</li>
<li>
<p>不限制发送速率（不进行拥塞控制和流量控制）</p>
</li>
<li>
<p>报头开销小</p>
</li>
<li>
<p>协议处理简单</p>
</li>
</ul>
<ol start="2">
<li>UDP 适合哪些应用？</li>
</ol>
<ul>
<li>容忍丢包但对延迟敏感的应用：如流媒体</li>
<li>以单次请求/响应为主的应用：如 DNS</li>
<li>若应用要求基于 UDP 进行可靠传输： 由 <strong>应用层实现可靠性</strong></li>
</ul>
<blockquote>
<p>[!NOTE]</p>
<p>IP 数据报和 UDP 数据报的区别：IP 数据报在网络层要经过路由器的存储转发；而 UDP 数据报在传输层的端到端的逻辑信道中传输，封装成 IP 数据报在网络层传输时，UDP 数据报的信息对路由器是不可见的。</p>
</blockquote>
<h4 id="_163">题目<a class="headerlink" href="#_163" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20250109150713204.png" alt="image-20250109150713204" style="zoom:50%;" /></p>
<p><img src="./assets/image-20250109150735080.png" alt="image-20250109150735080" style="zoom:33%;" /></p>
<hr />
<p><img src="./assets/image-20250109150825331.png" alt="image-20250109150825331" style="zoom:50%;" /></p>
<p><img src="./assets/image-20250109150802851.png" alt="image-20250109150802851" style="zoom:33%;" /></p>
<h3 id="tcp_3">面向连接的传输：TCP<a class="headerlink" href="#tcp_3" title="Permanent link">&para;</a></h3>
<h4 id="tcp_4">TCP 概述<a class="headerlink" href="#tcp_4" title="Permanent link">&para;</a></h4>
<p>TCP 服务模型： 在一对通信的进程之间提供一条理想的<strong>字节流管道</strong></p>
<p><strong>点到点通信</strong>: 仅涉及一对一通信进程</p>
<p><strong>全双工</strong>：可以同时双向传输数据</p>
<ul>
<li><strong>可靠、有序</strong> 的字节流</li>
<li>不保留报文边界</li>
</ul>
<p>TCP 适用于可靠性更重要的场合，如文件传输协议 FTP、超文本传输协议 HTTP、远程登录 TELNET 等</p>
<p><strong>需要的机制：</strong></p>
<ol>
<li>建立连接: 通信双方为本次通信建立数据传输所需的状态（套接字、缓存、变量等）</li>
<li>可靠数据传输：流水线式发送，报文段检错，丢失重传</li>
<li>流量控制: 发送方不会令接收方缓存溢出</li>
</ol>
<blockquote>
<p>[!NOTE]</p>
<p>TCP 和网络层虚电路的区别：TCP 报文段在传输层抽象的逻辑信道中传输，对路由器不可见；虚电路所经过的交换结点都必须保存虚电路状态信息。在网络层若采用虚电路方式，则无法提供无连接服务；而传输层采用 TCP 不影响网络层提供无连接服务。</p>
</blockquote>
<h4 id="tcp_5">TCP 报文段结构<a class="headerlink" href="#tcp_5" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20241121112208877.png" alt="image-20241121112208877" style="zoom:33%;" /></p>
<ul>
<li><strong>源端口(source port)和目的端口(destination port)</strong>：各占 2B</li>
<li><strong>发送序号（Seq number）</strong>：数据载荷中第一个字节在字节流中的序号，范围为 0~2^32^-1，共 2^32^个序号</li>
<li><strong>确认序号（Ack number）</strong>：期望接收的下一个字节的序号，若确认号为 N，则表明到序号 N-1 为止的所有数据都已正确收到</li>
<li><strong>首部长度(head length）</strong>：以 4B 为计算单位，指出 TCP 报文段的数据起始处距离 TCP 报文段的起始处有多远。首部的最大长度为 60B。</li>
<li>保留(not used)：占 6 位，保留位，0</li>
<li>紧急位 URG：URG = 1 时，表明紧急指针字段有效。它告诉系统此报文段中有紧急数据，应尽快传送；紧急数据被插入到报文段数据的最前面，而在紧急数据后面的数据仍是普通数据</li>
<li>确认位 ACK：仅当 ACK = 1 时确认号字段才有效。当 ACK = 0 时，确认号无效。TCP 规定，在连接建立后所有传送的报文段都必须把 ACK 置 1。</li>
<li>
<p>对报文段的确认</p>
</li>
<li>
<p>推送位 PSH(Push)：接收方 TCP 收到 PSH = 1 的报文段后，就尽快交付给接收应用进程，而不再等到整个缓存都填满了后再向上交付。</p>
</li>
<li>复位位 RST(Reset)：RST=1，出现严重错误，必须释放连接</li>
<li>同步位 SYN：SYN = 1 时表示这是一个连接请求或连接接受报文。</li>
<li>终止位 FIN(Finish)：用来释放一个连接。</li>
<li><strong>窗口(receive window)</strong>：占 2B，范围为 0~2^16^-1。窗口值告诉对方，从本报文段首部中的确认号(ACK number)算起，<strong>接收方目前允许对方发送的最大数据量</strong>(以字节为单位)</li>
<li><strong>检验和(checksum)</strong>：占 2B。检验和字段检验的范围包括首部和数据两部分。在计算检验和时，和 UDP 一样，要在 TCP 报文段的前面加上 12B 的伪首部（只需将 UDP 伪首部的协议字段的 17 改成 6, UDP 长度字段改成 TCP 长度，其他的和 UDP 一样）</li>
<li>紧急指针：占 2B。紧急指针仅在 URG = 1 时才有意义</li>
<li><strong>选项(Options)</strong>：长度可变，最长可达 40B。<em>当不使用选项时，TCP 首部长度是 20B</em>。TCP 最初只规定了一种选项，即最大报文段长度(Maximum Segment Size)</li>
<li><strong>最大段长度（MSS）</strong>：TCP 段中可以携带的最大数据字节数; 建立连接时，每个主机可声明自己能够接受的 MSS，缺省为 536 字节</li>
<li>填充：这是为了使整个首部长度是 4B 的整数倍。</li>
</ul>
<p>TCP 报文长度根据接收方给出的窗口和当前网络拥塞程度来决定</p>
<p>除去选项和填充，TCP 有 20B 的固定首部</p>
<p><img src="./assets/image-20250109153526465.png" alt="image-20250109153526465" style="zoom:33%;" /></p>
<p><strong>窗口比例因子（window scale）</strong>：</p>
<ul>
<li>
<p>建立连接时，双方可以协商一个窗口比例因子</p>
</li>
<li>
<p>实际接收窗口大小 = window size * 2^window scale</p>
</li>
</ul>
<p><strong>选择确认（SACK）</strong>：</p>
<ul>
<li>最初的 TCP 协议只使用累积确认</li>
<li>改进的 TCP 协议引入选择确认，允许接收端指出缺失的数据字节</li>
</ul>
<p><img src="./assets/image-20241121112530950.png" alt="image-20241121112530950" style="zoom: 33%;" /></p>
<h4 id="tcp_6">TCP 可靠数据传输<a class="headerlink" href="#tcp_6" title="Permanent link">&para;</a></h4>
<p>TCP 在不可靠的 IP 服务上建立可靠的数据传输</p>
<p>🚩 基本机制</p>
<ul>
<li>发送端：流水线式发送数据、等待确认、超时重传</li>
<li>接收端：进行差错检测，采用累积确认机制</li>
</ul>
<p>🚩 乱序段处理：协议没有明确规定</p>
<ul>
<li>接收端不缓存：可以正常工作，处理简单，但效率低</li>
<li>接收端缓存：效率高，但处理复杂</li>
</ul>
<h5 id="tcp_7">高度简化的 TCP 协议<a class="headerlink" href="#tcp_7" title="Permanent link">&para;</a></h5>
<p><strong>仅考虑可靠传输机制，且数据仅在一个方向上传输</strong></p>
<p><img src="./assets/image-20241121113415248.png" alt="image-20241121113415248" style="zoom:40%;" /></p>
<h5 id="tcp_8">TCP 发送方要处理的事件<a class="headerlink" href="#tcp_8" title="Permanent link">&para;</a></h5>
<p>✋🏻 收到应用数据：</p>
<ul>
<li>
<p>创建并发送 TCP 报文段</p>
</li>
<li>
<p>若当前没有定时器在运行（没有已发送、未确认的报文段），启动定时器</p>
</li>
</ul>
<p>✋🏻 超时: </p>
<ul>
<li>
<p>重传包含最小序号的、未确认的报文段</p>
</li>
<li>
<p>重启定时器</p>
</li>
</ul>
<p>✋🏻 收到 ACK： </p>
<ul>
<li>如果确认序号大于基序号（已发送未确认的最小序号）：</li>
<li>推进发送窗口（更新基序号）</li>
<li>如果发送窗口中还有未确认的报文段，启动定时器，否则终止定时器</li>
</ul>
<h5 id="_164">如何设置超时值<a class="headerlink" href="#_164" title="Permanent link">&para;</a></h5>
<p>SampleRTT：瞬时 从发出某个报文段到收到其确认报文段之间经过的时间</p>
<p>EstimatedRTT：平均值​​</p>
<p>平均 RTT 的估算方法（指数加权移动平均）：</p>
<ul>
<li><span class="arithmatex">\(EstimatedRTT = α ✖EstimatedRTT + (1-α)✖SampleRTT\)</span>，典型地，α = 0.875 !</li>
</ul>
<h5 id="tcp_9">TCP 确认的二义性<a class="headerlink" href="#tcp_9" title="Permanent link">&para;</a></h5>
<p>重传的 TCP 报文段使用与原报文段相同的序号，发送端收到确认后 ，无法得知是对哪个报文段进行的确认</p>
<p>解决方法：定时器补偿</p>
<ul>
<li>发送方每重传一个报文段，就直接将超时值增大一倍（不依赖于 RTT 的更新）</li>
<li>若连续发生超时事件，超时值呈指数增长（至一个设定的上限值）</li>
</ul>
<h5 id="tcp_10">TCP 接收端的事件和处理<a class="headerlink" href="#tcp_10" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20250109155610737.png" alt="image-20250109155610737" style="zoom:50%;" /></p>
<h5 id="_165">快速重传<a class="headerlink" href="#_165" title="Permanent link">&para;</a></h5>
<p>仅靠超时重发丢失的报文段，恢复太慢</p>
<ul>
<li>发送方可利用重复 ACK 检测报文段丢失</li>
</ul>
<p>TCP 协议规定： 当发送方收到对同一序号的 3 次重复确认时，立即重发包含该序号的报文段</p>
<p>快速重传: 在定时器到期前重发丢失的报文段</p>
<h5 id="_166">小结<a class="headerlink" href="#_166" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241121115947561.png" alt="image-20241121115947561" style="zoom: 33%;" /></p>
<h5 id="tcp-gbn-sr">TCP 使用 GBN 还是 SR<a class="headerlink" href="#tcp-gbn-sr" title="Permanent link">&para;</a></h5>
<p><strong>TCP 结合了 GBN 和 SR 的优点</strong></p>
<p>TCP 在减小定时器开销和重传开销方面要优于 GBN 和 SR！</p>
<h5 id="crash-recovery">Crash Recovery<a class="headerlink" href="#crash-recovery" title="Permanent link">&para;</a></h5>
<h4 id="tcp_11">TCP 流量控制<a class="headerlink" href="#tcp_11" title="Permanent link">&para;</a></h4>
<p>TCP 接收端有一个接收缓存：</p>
<ul>
<li>接收端 TCP 将收到的数据放入接收缓存</li>
<li>应用进程从接收缓存中读数据</li>
<li><strong>进入接收缓存的数据不一定被立即取走、取完</strong></li>
<li>如果接收缓存中的数据未及时取走，后续到达的数据可能会因缓存溢出而丢失</li>
</ul>
<p>流量控制本质：<strong>发送端 TCP 通过调节发送速率，不使接收端缓存溢出</strong></p>
<blockquote>
<p>[!NOTE]</p>
<p>GBN/SR 和 UDP 不需要流量控制：</p>
<p><img src="./assets/image-20250109160758258.png" alt="image-20250109160758258" style="zoom:40%;" /></p>
</blockquote>
<h5 id="tcp_12">TCP 如何进行流量控制<a class="headerlink" href="#tcp_12" title="Permanent link">&para;</a></h5>
<p>TCP使用滑动窗口机制来进行流量控制</p>
<ul>
<li>若滑动窗口值设置得太小，则会产生过多的ACK(因为窗口大可以累积确认，因此会有更少的ACK)</li>
<li>若设置得太大，则又会由于传送的数据过多而使路由器变得拥挤，导致主机可能丢失分组</li>
</ul>
<p>接收缓存中的可用空间称为 <strong>接收窗口(rwnd)</strong></p>
<ul>
<li>RcvWindow = RcvBuffer-(LastByteRcvd -LastByteRead)</li>
<li>接收方将 RcvWindow 放在报头中，向发送方通告接收缓存的可用空间</li>
<li>发送方限制 <strong>未确认的字节数不超过接收窗口的大小</strong>，即：LastByteSent-LastByteAcked ≦ RcvWindow</li>
</ul>
<h5 id="_167">非零窗口通告<a class="headerlink" href="#_167" title="Permanent link">&para;</a></h5>
<p>发送方/接收方对零窗口的处理：</p>
<ul>
<li>发送方：当接收窗口为 0 时，发送方必须停止发送</li>
<li>接收方：当接收窗口变为非 0 时，接收方应通告增大的接收窗口</li>
</ul>
<p>TCP 协议规定： </p>
<ul>
<li>发送方收到“零窗口通告”后，可以发送“零窗口探测”报文段</li>
<li>从而接收方可以发送包含接收窗口的响应报文段</li>
</ul>
<h5 id="_168">零窗口探测的实现<a class="headerlink" href="#_168" title="Permanent link">&para;</a></h5>
<p>发送端收到零窗口通告时，启动一个坚持定时器</p>
<p>定时器超时后，发送端发送一个零窗口探测报文段（序号为上一个段中最后一个字节的序号）</p>
<p>接收端在响应的报文段中通告当前接收窗口的大小</p>
<p>若发送端仍收到零窗口通告，重新启动坚持定时器</p>
<h5 id="_169">小结<a class="headerlink" href="#_169" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20250109161332930.png" alt="image-20250109161332930" style="zoom: 40%;" /></p>
<blockquote>
<p>[!NOTE]</p>
<p><strong>传输层和数据链路层的流量控制的区别</strong>：</p>
<ul>
<li>传输层实现的是端到端，即两个 <strong>进程之间</strong> 的流量控制</li>
<li>数据链路层实现的是两个 <strong>中间的相邻结点之间</strong> 的流量控制</li>
<li>此外，数据链路层的滑动窗口协议的窗口大小不能动态变化，传输层的窗口大小则可以动态变化。</li>
</ul>
</blockquote>
<h4 id="tcp_13">TCP 连接管理<a class="headerlink" href="#tcp_13" title="Permanent link">&para;</a></h4>
<h5 id="tcp_14">TCP 两次次握手建立连接<a class="headerlink" href="#tcp_14" title="Permanent link">&para;</a></h5>
<p>建立一条 TCP 连接需要确定两件事：</p>
<ul>
<li>双方都同意建立连接（知晓另一方想建立连接） </li>
<li>初始化连接参数（序号，MSS 等）</li>
</ul>
<blockquote>
<p>[!CAUTION]</p>
<p><strong>在网络中，2 次握手总是可行的吗？</strong>
在一个不可靠的网络中，总会有一些意外发生：
- 包传输延迟变化很大
- 存在重传的报文段
- 存在报文重排序</p>
<p>==&gt; delayed duplicates problem</p>
</blockquote>
<p><img src="./assets/image-20241128101520034.png" alt="image-20241128101520034" style="zoom: 33%;" /></p>
<p>Problems：There are two problems which complicates the scenario:
- Possible wrap around of seqno
- Client/Host or Server may crash
- Assume seqno = 0,1,…,7 (i.e. 3 bits)</p>
<p>Problem: How to differentiate <span style="color:#CC0000;"> delay duplicate </span> and <span style="color:#336600;"> new pkt with wrapped around seqno </span>? </p>
<p>Idea: use time </p>
<p>Two assumptions that simplifies the problem
- Assumption 1. Time for seqno wrap around (<strong>T1</strong>) is typically large if, e.g., seqno is 32 bits long. 
- Assumption 2. If pkt delays a relatively short time (<strong>T2 &lt; T1</strong>), we can use time to differentiate the two.</p>
<h5 id="how-to-realize-the-assumptions">How to realize the assumptions?<a class="headerlink" href="#how-to-realize-the-assumptions" title="Permanent link">&para;</a></h5>
<p><strong>1. Restrict packet lifetime</strong></p>
<p>Packet lifetime can be restricted to a known maximum using one of the following techniques </p>
<ul>
<li>
<p>Restricted subnet design. </p>
</li>
<li>
<p>Putting a hop counter in each packet. </p>
</li>
<li>
<p>Timestamping each packet (router synchronization required)</p>
</li>
</ul>
<p><strong>T</strong> = <em>n</em> * (pkt lifetime)</p>
<ul>
<li>It is impossible to receive a delay duplicate after <strong>T</strong></li>
</ul>
<p><strong>2. use time-of-day clock</strong></p>
<ul>
<li>Time-of-day clock at hosts</li>
</ul>
<p>Each clock is assumed to take the form of a binary counter that increments itself at uniform intervals. 时钟不断增加</p>
<p>The number of bits in the counter must equal or exceed the number of bits in the sequence numbers.</p>
<p>The clock is assumed to continue running even if the host goes down. </p>
<p>The clocks at different hosts need <strong>not</strong> be synchronized.</p>
<ul>
<li>initial seqno of a connection = low k bits of time-of-day clock</li>
</ul>
<h5 id="tcp_15">TCP 起始序号的选择<a class="headerlink" href="#tcp_15" title="Permanent link">&para;</a></h5>
<p>基于时钟的起始序号选取算法：
- 每个主机使用一个时钟，以二进制计数器的形式工作，每隔 ΔT 时间计数器加 1 </p>
<ul>
<li>新建一个连接时，以本地计数器值的最低 32 位作为起始序号</li>
<li>该方法确保连接的起始序号随时间单调增长</li>
<li>ΔT 取较小的值（4 微秒）：确保发送序号的增长速度，不会超过起始序号的增长速度</li>
<li>使用较长的字节序号（32 位）： 确保序号回绕的时间远大于分组在网络中的最长寿命</li>
</ul>
<h5 id="forbidden-region-of-seqno">Forbidden region of seqno<a class="headerlink" href="#forbidden-region-of-seqno" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241128102832279.png" alt="image-20241128102832279" style="zoom: 33%;" /></p>
<p><img src="./assets/image-20241128103527044.png" alt="image-20241128103527044" style="zoom:33%;" /></p>
<p>The increments of seqno cannot be <strong>too fast or too slow</strong></p>
<p>Solution for the delayed duplicates：</p>
<ol>
<li>the maximum data rate on any connection is one segment per clock tick. (i.e., cannot be too fast)</li>
<li>limits how slowly sequence numbers can advance on a connection (or how long the connections may last). (i.e., cannot be too slow)</li>
</ol>
<h5 id="tcp_16">TCP 三次握手建立连接<a class="headerlink" href="#tcp_16" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241128103834658.png" alt="image-20241128103834658" style="zoom: 33%;" /></p>
<p><img src="./assets/image-20241128105458546.png" alt="image-20241128105458546" style="zoom:50%;" /></p>
<p>TCP 标准规定：ACK 报文段可以携带数据。但如果不携带数据，则不消耗序号。下一个数据报文段的序号仍是 seq = x + 1。</p>
<h5 id="tcp_17">关闭 TCP 连接<a class="headerlink" href="#tcp_17" title="Permanent link">&para;</a></h5>
<p>TCP 连接释放的过程通常称为“四次挥手”</p>
<p>Asymmetric release 非对称</p>
<ul>
<li>When one part hangs up, the connection is broken. </li>
<li>Asymmetric release is abrupt and may result in data loss</li>
</ul>
<p>Symmetric release 对称</p>
<ul>
<li>treat the connection as two separate unidirectional connections and require each one to be released separately</li>
</ul>
<p>SYMMETRIC EXAMPLE：</p>
<p><img src="./assets/image-20241128104959324.png" alt="image-20241128104959324" style="zoom: 33%;" /></p>
<p><strong>Two army-problem</strong>：A white army is encamped in a valley. On both of the surrounding hillsides are blue armies. </p>
<p>FIN位用来释放一个连接，它表示本方已没有数据要传输。然而，在关闭一个连接后，对方还可以继续发送数据，所以还有可能接收到数据。</p>
<blockquote>
<p>[!IMPORTANT]</p>
<p>从客户机发出 FIN报文段时刻算起，客户机释放连接的最短时间为<span class="arithmatex">\(1RTT+2MSL\)</span>，服务器释放连接的最短时间为<span class="arithmatex">\(1.5RTT\)</span></p>
</blockquote>
<hr />
<p><strong>TCP 连接和释放的总结</strong></p>
<ol>
<li>建立连接，分为 3 步：
   ①SYN = 1, seq = x
   ②SYN = 1, ACK = 1, seq = y, ack = x+1
   ③ACK = 1, seq = x+1, ack = y+1</li>
<li>释放连接，分为 4 步：
   ①FIN = 1, seq = u
   ②ACK = 1, seq = v, ack = u+1
   ③FIN = 1, ACK = 1, seq = w, ack = u+1
   ④ACK = 1, seq = u+1, ack = w+1</li>
</ol>
<h5 id="tcp_18">客户/服务器经历的 TCP 状态序列<a class="headerlink" href="#tcp_18" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241128105703887.png" alt="image-20241128105703887" style="zoom:50%;" /></p>
<h5 id="syn">SYN 洪泛攻击<a class="headerlink" href="#syn" title="Permanent link">&para;</a></h5>
<p>攻击者采用伪造的源 IP 地址，向服务器发送大量的 SYN 段，却不发送 ACK 段</p>
<p>服务器为维护一个巨大的半连接表耗尽资源，导致无法处理正常客户的连接请求，表现为服务器停止服务</p>
<h5 id="tcp_19">TCP 端口扫描<a class="headerlink" href="#tcp_19" title="Permanent link">&para;</a></h5>
<p>TCP 端口扫描的原理：
- 扫描程序依次与目标机器的各个端口建立 TCP 连接
- 根据获得的响应来收集目标机器信息</p>
<p>在典型的 TCP 端口扫描过程中，发送端向目标端口发送 SYN 报文段： </p>
<ul>
<li>若收到 SYNACK 段，表明目标端口上有服务在运行</li>
<li>若收到 RST 段，表明目标端口上没有服务在运行</li>
<li>若什么也没收到，表明路径上有防火墙，有些防火墙会丢弃来自外网的 SYN 报文段</li>
</ul>
<h3 id="tcp_20">TCP 拥塞控制<a class="headerlink" href="#tcp_20" title="Permanent link">&para;</a></h3>
<blockquote>
<p>[!NOTE]</p>
<p>流量控制与拥塞控制的异同：</p>
<ul>
<li>
<p>流量控制：限制发送速度，使不超过接收端的处理能力</p>
</li>
<li>
<p>拥塞控制：限制发送速度，使不超过网络的处理能力</p>
</li>
</ul>
</blockquote>
<h4 id="_170">网络拥塞<a class="headerlink" href="#_170" title="Permanent link">&para;</a></h4>
<p><strong>网络拥塞造成</strong>：</p>
<ul>
<li>丢包：由路由器缓存溢出造成</li>
<li>分组延迟增大：</li>
<li>链路接近满载，造成大量网络资源用于：<ul>
<li>重传丢失的分组</li>
<li>（不必要地）重传延迟过大的分组</li>
<li>转发最终被丢弃的分组</li>
</ul>
</li>
</ul>
<p>结果：进入 <strong>网络的负载很重，网络吞吐量却很低</strong></p>
<p><strong>拥塞控制的常用方法</strong>：端到端拥塞控制</p>
<ul>
<li>网络层不向端系统提供反馈</li>
<li>端系统通过观察丢包和延迟，自行推断拥塞的发生</li>
<li>TCP 采用此类方法</li>
</ul>
<h4 id="_171">拥塞检测和速率限制<a class="headerlink" href="#_171" title="Permanent link">&para;</a></h4>
<p><span style="color:#CC0000;"> 发送方如何感知拥塞?</span></p>
<p>发送方利用丢包事件感知拥塞： - 拥塞造成丢包和分组延迟增大
- 无论是丢包还是分组延迟过大，对于发送端来说都是丢包了  丢包事件包括：
  - 重传定时器超时
  - 发送端收到 3 个重复的 ACK</p>
<p><span style="color:#CC0000;"> 发送方采用什么机制限制发送速率？</span></p>
<p>发送方使用 <strong>拥塞窗口 cwnd</strong> 限制已发 送未确认的数据量：LastByteSent-LastByteAcked ≤ cwnd </p>
<p><span class="arithmatex">\(rate = \frac{cwnd}{RTT} \text{Bytes/sec}\)</span></p>
<p>cwnd 随发送方感知的网络拥塞程度而变化</p>
<h4 id="aimd">拥塞窗口的调节策略：AIMD<a class="headerlink" href="#aimd" title="Permanent link">&para;</a></h4>
<p>Multiplicative Decrease &amp; Additive Increase</p>
<p>拥塞窗口是发送端根据网络拥塞情况确定的窗口值</p>
<p><img src="./assets/image-20241128112144283.png" alt="image-20241128112144283" style="zoom: 33%;" /></p>
<h4 id="tcp_21">TCP 慢启动<a class="headerlink" href="#tcp_21" title="Permanent link">&para;</a></h4>
<p>在新建的连接（或沉寂了一段时间的连接）上，以什么速率发送数据（此时接收窗口达最大值）? </p>
<p>早期的 TCP 协议：
- 发送端仅以接收窗口大小限制发送速率，网络经常因为拥塞而崩溃！</p>
<p>采用“加性增”增大发送窗口，太慢！
- 在新建连接上，令 cwnd = 1 MSS，起始速度 = MSS/RTT
- 然而，网络中的可用带宽可能远大于 MSS/RTT </p>
<p><strong>慢启动</strong> 的基本思想：</p>
<ul>
<li>在新建连接上指数增大 cwnd，直至检测到丢包（此时终止慢启动）</li>
<li>希望迅速增大 cwnd 至可用的发送速度</li>
</ul>
<p>慢启动的策略：每经过一个 RTT，将 cwnd 加倍</p>
<p>慢启动的具体实施：
- <strong>每收到一个 ACK 段，cwnd 增加一个 MSS</strong>
- 只要发送窗口允许，发送端可以立即发送下一个报文段</p>
<p>特点：以一个很低的速率开始，按指数增大发送速率</p>
<blockquote>
<p>慢启动比谁“慢”？</p>
<ul>
<li>与早期 TCP 按接收窗口发送数据的策略相比，采用慢启动后发送速率的增长较慢</li>
</ul>
</blockquote>
<h4 id="tcp_22">TCP 拥塞控制的实现<a class="headerlink" href="#tcp_22" title="Permanent link">&para;</a></h4>
<h5 id="_172">区分不同的丢包事件<a class="headerlink" href="#_172" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241128112853377.png" alt="image-20241128112853377" style="zoom: 33%;" /></p>
<h5 id="tcp_23">TCP 发送端的事件与动作<a class="headerlink" href="#tcp_23" title="Permanent link">&para;</a></h5>
<p>发送方维护变量 ssthresh</p>
<p>发生丢包时，ssthresh = cwnd/2</p>
<p><strong>ssthresh 是从慢启动转为拥塞避免的分水岭</strong>：</p>
<ul>
<li>cwnd &lt; ssthresh，执行慢启动，cwnd 指数规律增长</li>
<li>cwnd &gt; ssthresh：执行拥塞避免，cwnd 加法增大</li>
</ul>
<p>拥塞避免阶段，拥塞窗口线性增长：每当收到 ACK， cwnd = cwnd + MSS*(MSS/cwnd)</p>
<p>检测到 3 个重复的 ACK 后：</p>
<ul>
<li>TCP Reno 实现快重传+快恢复算法，即<a href="# 拥塞窗口的调节策略：AIMD">AIMD</a>： </li>
<li>
<p>cwnd = ssthresh+3，线性增长 或者 ssthresh=cwnd=cwnd/2，开始执行拥塞避免算法</p>
</li>
<li>
<p>TCP Tahoe 实现：cwnd = 1✖MSS，慢启动</p>
</li>
</ul>
<p><img src="./assets/image-20241128113502853.png" alt="image-20241128113502853" style="zoom:33%;" /></p>
<p><img src="./assets/image-20241128113715827.png" alt="image-20241128113715827" style="zoom: 33%;" /></p>
<blockquote>
<p>[!NOTE]</p>
<p>当题目同时现接收窗口(rwnd)和拥塞窗口(ewnd)时，发送方发送窗口的实际大小是由 rwnd 和 cwnd 中较小的那一个确定的</p>
</blockquote>
<p><strong>Wireless Issues</strong>：linker layer 重传 速度快于 TCP 的反应</p>
<h5 id="tcp_24">TCP 连接的吞吐量<a class="headerlink" href="#tcp_24" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241128114412311.png" alt="image-20241128114412311" style="zoom: 33%;" /></p>
<h5 id="tcp_25">TCP 的公平性<a class="headerlink" href="#tcp_25" title="Permanent link">&para;</a></h5>
<p>公平性目标: 如果 K 条 TCP 连接共享某条带宽为 R 的瓶颈链路，每条连接应具有平均速度 R/K</p>
<p><img src="./assets/image-20241128115004736.png" alt="image-20241128115004736" style="zoom: 33%;" /></p>
<h3 id="_173">拥塞控制的发展<a class="headerlink" href="#_173" title="Permanent link">&para;</a></h3>
<h4 id="tcp-cubic">TCP CUBIC<a class="headerlink" href="#tcp-cubic" title="Permanent link">&para;</a></h4>
<p>拥塞控制算法</p>
<h5 id="tcp_26">经典 TCP 拥塞控制的性能问题<a class="headerlink" href="#tcp_26" title="Permanent link">&para;</a></h5>
<p>TCP Reno 线性增大拥塞窗口，探测当前可用网络带宽，即每经过一个 RTT，拥塞窗口增加一个 MSS；当端到端时延带宽乘积（BDP）较大时，拥塞窗口增长过慢，导致信道无法满载</p>
<p><img src="./assets/image-20241205100447852.png" alt="image-20241205100447852" style="zoom:50%;" /></p>
<h5 id="tcp-bic">TCP-BIC<a class="headerlink" href="#tcp-bic" title="Permanent link">&para;</a></h5>
<p><strong>TCP-BIC</strong>: Binary Increase Congestion</p>
<p>BIC 算法对满载窗口进行二分查找：</p>
<ul>
<li>
<p>如发生丢包时窗口大小是 <em>W</em> 1，为保持满载而不丢包，满载窗口应小于 <em>W</em> 1 </p>
</li>
<li>
<p>如检测到丢包并将窗口乘性减小为 <em>W</em> 2 ，则满载窗口应大于 <em>W</em> 2 </p>
</li>
</ul>
<p>窗口更新受 ACK 时钟驱动，即以 RTT 为更新间隔时间</p>
<p>二分查找: </p>
<ul>
<li>在 ACK 时钟的驱动下，将拥塞窗口置为(<em>W</em> 1 + <em>W</em> 2)/2(新的 <em>W</em> 2 值)，不断逼近满载窗口</li>
</ul>
<p>最大探查: </p>
<ul>
<li>如窗口再次达到 <em>W</em> 1 而没有丢包，说明满载窗口大于 <em>W</em> 1 ，则以逼近 <em>W</em> 1 的镜像过程增大拥塞窗口</li>
</ul>
<p><img src="./assets/image-20241205100545655.png" alt="image-20241205100545655" style="zoom:50%;" /></p>
<p>BIC 存在带宽 <strong>不公平性问题</strong>：BIC 以 ACK 时钟驱动拥塞窗口的更新，RTT 较短的连接会更快到达满载窗口，占据</p>
<p>更多的带宽，产生不公平性问题（RTT-fairness）</p>
<h5 id="tcp-cubic_1">TCP CUBIC<a class="headerlink" href="#tcp-cubic_1" title="Permanent link">&para;</a></h5>
<p>CUBIC 将 BIC 算法连续化，用三次函数拟合 BIC 算法曲线</p>
<p>拥塞窗口成为距上次丢包的时间 <em>t</em> 的函数，<em>t</em> 取值位于两次丢包之间，不再根据 RTT 间隔来确定调整窗口的时机，<strong>避免了 RTT 不公平问题</strong></p>
<p><img src="./assets/image-20241205100721189.png" alt="image-20241205100721189" style="zoom:50%;" /></p>
<h4 id="google-bbr">Google BBR<a class="headerlink" href="#google-bbr" title="Permanent link">&para;</a></h4>
<h5 id="_174">拥塞与瓶颈链路带宽<a class="headerlink" href="#_174" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241205101159820.png" alt="image-20241205101159820" style="zoom:50%;" /></p>
<p><strong>BBR</strong>: Bottleneck Bandwidth and Round-trip propagation time</p>
<p>瓶颈链路带宽 BtlBw：不会引起路由器缓存排队的最大发送速率
RTprop：往返时间
BDP = BtlBw x RTprop</p>
<h5 id="_175">优化点的近似观测<a class="headerlink" href="#_175" title="Permanent link">&para;</a></h5>
<p>用过去 10 秒内的最小 RTT（min RTT）和最大投递率（max BW），分别近似 RTprop 和 BtlBw，并依据这两个值估算当前 BDP</p>
<p><img src="./assets/image-20241205101516975.png" alt="image-20241205101516975" style="zoom:50%;" /></p>
<blockquote>
<p>[!CAUTION]</p>
<p>Max BW 和 min RTT 不能同时被测得！</p>
</blockquote>
<p><img src="./assets/image-20241205101638431.png" alt="image-20241205101638431" style="zoom:50%;" /></p>
<h5 id="bdp">BDP 检测阶段<a class="headerlink" href="#bdp" title="Permanent link">&para;</a></h5>
<p><strong>启动阶段（START_UP）</strong></p>
<p>当连接建立时，类似 TCP 的慢启动，指数增加发送速率，尽可能快地占满管道</p>
<p>若经过三次发现投递率不再增长，说明已达到 BtlBw，瓶颈链路处分组已开始排队（事实上此时占的是三倍 BDP）</p>
<p><strong>排空阶段（DRAIN）</strong></p>
<p>指数降低发送速率（相当于是 startup 的逆过程），将多占的两倍 buffer 慢慢排空</p>
<p><strong>瓶颈带宽探测（PROBE_BW）</strong></p>
<p><img src="./assets/image-20241205102010135.png" alt="image-20241205102010135" style="zoom:50%;" /></p>
<p><strong>时延探测（PROBE_RTT）</strong></p>
<p><img src="./assets/image-20241205102025072.png" alt="image-20241205102025072" style="zoom:50%;" /></p>
<h4 id="data-center-tcp">Data Center TCP<a class="headerlink" href="#data-center-tcp" title="Permanent link">&para;</a></h4>
<p>数据中心内部有一类经典的通信模式-<strong>Partition/Aggregate</strong></p>
<ul>
<li>Aggregator 将上层应用任务划分给下层的 worker 执行</li>
</ul>
<h5 id="_176">数据中心的性能问题<a class="headerlink" href="#_176" title="Permanent link">&para;</a></h5>
<p>Incast：在一个很短的时间内，大量流量同时到达交换机的一个端口，导致缓冲区被占满，最终导致丢包</p>
<p>Queue Buildup：</p>
<p>Buffer Pressure：</p>
<h5 id="_177">需要什么样的传输层协议<a class="headerlink" href="#_177" title="Permanent link">&para;</a></h5>
<p>容忍高突发流量</p>
<ul>
<li>在 Partition/Aggregate 通信模式中，所有 Worker 几乎会在同一时间向</li>
</ul>
<p>Aggregator 返回执行结果，产生很高的突发流量</p>
<p>低时延</p>
<ul>
<li>数据中心有大量时延敏感的短流，如网页搜索等</li>
</ul>
<p>高吞吐</p>
<ul>
<li>数据中心有大量吞吐敏感的长流，如文件传输、分布式机器学习中神经</li>
</ul>
<p>网络模型参数的传输等</p>
<h5 id="dctcp">DCTCP 核心思想<a class="headerlink" href="#dctcp" title="Permanent link">&para;</a></h5>
<p>根据网络拥塞程度精细地减小发送窗口</p>
<p>容忍高突发流量</p>
<ul>
<li>
<p>DCTCP 维持了较低的队列长度，可以留出较大的缓冲区给突发流量</p>
</li>
<li>
<p>采用激进的标记策略，使得发送端在丢包之前就感知到拥塞</p>
</li>
</ul>
<p>低时延</p>
<ul>
<li>由于队列长度较短，也减少了包在队列中的排队时延</li>
</ul>
<p>高吞吐</p>
<ul>
<li>DCTCP 根据拥塞程度精确调节窗口，使得发送窗口的变化比较平滑，不</li>
</ul>
<p>会出现吞吐量骤降的情形</p>
<h4 id="dccp">DCCP<a class="headerlink" href="#dccp" title="Permanent link">&para;</a></h4>
<p>DCCP = UDP+拥塞控制</p>
<ul>
<li>DCCP 提供不可靠数据报流服务： </li>
<li>UDP 报文段可能丢失、乱序到达</li>
<li>无流量控制</li>
<li>DCCP 提供模块化的拥塞控制： </li>
<li>应用可以根据需要，选择不同的拥塞控制机制</li>
</ul>
<h3 id="_178">传输层协议的发展<a class="headerlink" href="#_178" title="Permanent link">&para;</a></h3>
<h4 id="mptcp">MPTCP<a class="headerlink" href="#mptcp" title="Permanent link">&para;</a></h4>
<p>传统 TCP 协议仅支持单路径传输，即只能利用终端主机上的一个网络接口传输数据</p>
<h5 id="mptcp_1">MPTCP 的优势<a class="headerlink" href="#mptcp_1" title="Permanent link">&para;</a></h5>
<p>多径带宽聚合</p>
<ul>
<li>终端设备可以聚合不同路径上的可用带</li>
</ul>
<p>宽，以获得更高的网络带宽</p>
<p>提升传输的可靠性</p>
<ul>
<li>使用多条路径传输数据，可以有效避免</li>
</ul>
<p>因单条路径性能恶化或中断导致的应用</p>
<p>连接中断</p>
<p>支持链路的平滑切换</p>
<ul>
<li>多路径传输方式允许终端在不同接入网</li>
</ul>
<p>络间快速、平滑地切换，选取当前链路</p>
<p>质量最好的路径传输数据</p>
<h5 id="mptcp_2">MPTCP 在网络体系结构中的位置<a class="headerlink" href="#mptcp_2" title="Permanent link">&para;</a></h5>
<p>MPTCP 位于套接字和 TCP 之间</p>
<p><img src="./assets/image-20241205103137769.png" alt="image-20241205103137769" style="zoom:50%;" /></p>
<p>公平性是关注的重点，MPTCP 采用的是网络公平性原则</p>
<h4 id="quic">QUIC<a class="headerlink" href="#quic" title="Permanent link">&para;</a></h4>
<h5 id="tcp_27">TCP 存在的问题<a class="headerlink" href="#tcp_27" title="Permanent link">&para;</a></h5>
<ul>
<li>TCP 实现在操作系统内核中</li>
<li>作为传输优化的最终受益者，应用 <em>无法对 TCP 进行修改</em></li>
<li>
<p>操作系统的更新往往跟不上应用的需求和节奏</p>
</li>
<li>
<p>TCP 体系握手时延大</p>
</li>
<li>互联网上的大趋势：<em>低时延需求</em> 越来越强烈；加密流量占比越来越大</li>
<li>TLS(传输层安全性协议)+TCP 的体系握手时延很大，传输前需要 3 个 RTT 进行握手</li>
</ul>
<p>TCP 多流复用存在队头阻塞问题-&gt; 多流复用</p>
<p>TCP 传输需要保持有序性：出现丢包时，后面的数据需要等丢失的包重传完成才能使用，这就导致了队头阻塞</p>
<h5 id="quic_1">QUIC 在网络体系结构中的位置<a class="headerlink" href="#quic_1" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241205103839331.png" alt="image-20241205103839331" style="zoom:50%;" /></p>
<p>QUIC 替代 TCP、TLS 和部分 HTTP 的功能</p>
<h2 id="_179">应用层<a class="headerlink" href="#_179" title="Permanent link">&para;</a></h2>
<blockquote>
<p>[!IMPORTANT]</p>
<ol>
<li>掌握应用进程通信方式以及服务进程工作模式</li>
<li>掌握域名系统基本原理和工作机制</li>
<li>掌握电子邮件系统体系结构及基本工作原理</li>
<li>
<p>了解 WWW 系统结构框架、静态和动态 Web 及其应用技术，掌握 HTTP 协议及其工作原理</p>
</li>
<li>
<p>了解流媒体基本概念、数字音视频与编码、流式存储媒体、直播与实时音视频、流媒体动态自适应传输</p>
</li>
<li>
<p>了解内容分发背景及内容分发网络、以及 P2P 网络的工作机制</p>
</li>
<li>掌握 Telnet、FTP、SNMP 等应用层协议的工作原理</li>
</ol>
</blockquote>
<h3 id="_180">应用层概述<a class="headerlink" href="#_180" title="Permanent link">&para;</a></h3>
<h4 id="_181">应用进程通信方式<a class="headerlink" href="#_181" title="Permanent link">&para;</a></h4>
<p><strong>客户/服务器</strong>（<strong>C/S</strong>, Client/Server）方式</p>
<ul>
<li>
<p>C/S方式可以是面向连接的，也可以是无连接的</p>
</li>
<li>
<p>面向连接时，C/S 通信关系一旦建立，通信就是双向的，双方地位平等，都可发送和接收数据</p>
</li>
<li>客户机之间不直接通信</li>
<li>可拓展性不佳</li>
<li>特点</li>
<li>在进行通信时临时成为客户，它也可在本地进行其它的计算</li>
<li>用户计算机上运行，在打算通信时<strong>主动</strong>向远地服务器发起通信</li>
<li>客户方必须知道服务器进程所在<strong>主机的IP地址</strong>才能发出服务请求</li>
<li>需要时可以与多个服务器进行通信</li>
</ul>
<p><strong>浏览器/服务器</strong>（<strong>B/S</strong>，Browser/Server） 方式</p>
<ul>
<li>浏览器请求、服务器响应的工作模式；用户界面完全通过 Web 浏览器实现，一部分事务逻辑在前端实现，但主要的事务逻辑在服务器端实现</li>
<li>采取3层架构实现</li>
<li>数据层</li>
<li>处理层</li>
<li>
<p>表现层</p>
</li>
<li>
<p>特点：</p>
</li>
<li>界面统一，使用简单。客户端只需要安装浏览器软件</li>
<li>易于维护。对应用系统升级时，只需更新服务器端的软件，减轻了系统维护和升级的成本</li>
<li>可扩展性好。采用标准的 TCP/IP 和 HTTP 协议，具有良好的扩展性</li>
<li>信息共享度高。HTML 是数据格式的一个开放标准，目前大多数流行的软件均支持 HTML</li>
</ul>
<p><strong>对等</strong>（<strong>P2P</strong>，Peer to Peer）方式</p>
<ul>
<li>两个进程在通信时并 <em>不区分</em> 服务的请求方和服务的提供方</li>
<li>音频/视频流量已占主要比例</li>
<li>每一个 P2P 进程<strong>既是客户同时也是服务器</strong></li>
<li>一种通信模型、一种逻辑网络模型</li>
</ul>
<h4 id="_182">服务器进程工作方式<a class="headerlink" href="#_182" title="Permanent link">&para;</a></h4>
<p><strong>循环方式(iterative mode)</strong></p>
<ul>
<li>
<p>一次只运行一个服务进程</p>
</li>
<li>
<p>当有多个客户进程请求服务时，服务进程就按请求的先后顺序依次做出响应 (阻塞方式) </p>
</li>
</ul>
<p><strong>并发方式(concurrent mode)</strong></p>
<ul>
<li>
<p>可以同时运行多个服务进程</p>
</li>
<li>
<p>每一个服务进程都对某个特定的客户进程做出响应 (非阻塞方式)</p>
</li>
</ul>
<p><img src="./assets/image-20250109222525323.png" alt="image-20250109222525323" style="zoom:40%;" /></p>
<p><img src="./assets/image-20250109222538654.png" alt="image-20250109222538654" style="zoom:40%;" /></p>
<h3 id="dns">域名系统 DNS 🔥<a class="headerlink" href="#dns" title="Permanent link">&para;</a></h3>
<h4 id="_183">历史和概述<a class="headerlink" href="#_183" title="Permanent link">&para;</a></h4>
<p><strong>域名系统（DNS，Domain Name System）</strong> 是互联网重要的基础设施之一，向所有需要域名解析的应用提供服务，主要负责将可读性好的域名映射成 IP 地址</p>
<ul>
<li>DNS是一个基于<strong>C/S模型的分布式数据库系统</strong>，主要用于域名和IP地址的映射</li>
<li>DNS在<strong>传输层</strong>采用<strong>无连接的UDP服务</strong></li>
</ul>
<p>从概念上可将DNS分为三部分：层次域名空间、域名服务器和解析器</p>
<blockquote>
<p>[!CAUTION]</p>
<p>Internet上提供访问的主机一定要有IP地址，而不一定要有域名！</p>
</blockquote>
<h4 id="_184">域名系统名字空间和层次结构<a class="headerlink" href="#_184" title="Permanent link">&para;</a></h4>
<p>DNS 组成包括：域名空间、域名服务器、分布式数据库</p>
<h5 id="_185">层级结构<a class="headerlink" href="#_185" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241205105348705.png" alt="image-20241205105348705" style="zoom: 33%;" /></p>
<p>edu 可以时顶级域名也可以是二级域名，美国的大学的 edu 就是顶级域名</p>
<p>关于域名中的标号有以下几点需要注意：</p>
<ol>
<li>
<p>标号中的英文不区分大小写。</p>
</li>
<li>
<p>标号中除连字符(-)外不能使用其他的标点符号。</p>
</li>
<li>
<p>每个标号不超过63个字符，多标号组成的完整域名最长不超过255个字符。</p>
</li>
<li>
<p>级别最低的域名写在最左边，级别最高的顶级域名写在最右边。</p>
</li>
</ol>
<h5 id="_186">顶级域名<a class="headerlink" href="#_186" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241205105622639.png" alt="image-20241205105622639" style="zoom: 33%;" /></p>
<h4 id="_187">域名服务器<a class="headerlink" href="#_187" title="Permanent link">&para;</a></h4>
<p>保存关于域树(domain tree)的结构和设置信息的服务器程序称为 <strong>名字服务器(name server)或域名服务器</strong>，负责域名解析工作</p>
<p>域名解析过程对用户透明</p>
<p>名字服务器的管辖范围以“区”为单位，而不是以“域”为单位</p>
<p>管辖区是域名“域”的子集。管辖区可以小于或等于域，但不可能大于域</p>
<h5 id="_188">域名服务器分类<a class="headerlink" href="#_188" title="Permanent link">&para;</a></h5>
<p>总体上，域名系统的名字服务器分为两大类</p>
<ul>
<li>
<p><strong>权威名字服务器(authoritative name server)</strong></p>
</li>
<li>
<p>一种根据本地知识知道一个 DNS 区(zone)的内容的服务器，它可以回答</p>
</li>
</ul>
<p>有关该 DNS 区的查询而无需查询其他服务器</p>
<ul>
<li>
<p>每个 DNS 区至少应有一个 IPv4 可访问的权威名字服务器提供服务</p>
</li>
<li>
<p><strong>递归解析器(recursive resolver)/递归服务器</strong></p>
</li>
<li>
<p>以递归方式运行的、使用户程序联系域(domain)名字服务器的程序。</p>
</li>
</ul>
<h5 id="_189">权威名字服务器<a class="headerlink" href="#_189" title="Permanent link">&para;</a></h5>
<p>根据对应域的层次，权威名字服务器又进一步分为以下类别</p>
<ul>
<li>根名字服务器(root name server) /根服务器(root server)：</li>
<li>每个根服务器都知道所有的顶级域名服务器的域名及其 IP 地址</li>
<li>根服务器并不直接把主机用户所查的域名转换成 IP 地址</li>
<li>
<p>根服务器共有 13 套，每套都可以有多个镜像(mirrored)根服务器，其内容定期与上述对应的根服务器同步</p>
</li>
<li>
<p>顶级域名字服务器(TLD name server)</p>
</li>
<li>
<p>二级域名字服务器(second level domain name server)</p>
</li>
<li>
<p>一般来说，每个名字服务器只负责解析本辖域的域名</p>
</li>
<li>
<p>三级域名字服务器(third level domain name server)</p>
</li>
<li>
<p>三级域及以下的名字服务器也统称为本地域名服务器</p>
</li>
</ul>
<h5 id="_190">递归解析器/递归服务器<a class="headerlink" href="#_190" title="Permanent link">&para;</a></h5>
<p>每一个 Internet 服务提供者 <strong>ISP(Internet Service Provider)</strong>, 都至少有一个递归服务器，距离用户主机较近</p>
<p>在递归服务器/本地域名服务器有多层的结构中，当本层服务器没有解析结果时，通常是<strong>逐级向上递归进行查询</strong></p>
<p>当查询请求到达本地域最上一层名字服务器时，该层服务器对自己无法解析的任何一个域名，首先求助于根服务器（而不是二级域名字服务器），开始逐步<strong>迭代查询</strong></p>
<h4 id="_191">域名解析过程<a class="headerlink" href="#_191" title="Permanent link">&para;</a></h4>
<p>当某一应用进程需要进行域名解析时，该应用进程将域名放在 DNS 请求报文（<span style="color:#CC0000;"> UDP 数据报, 端口号为 53 </span>）发给递归服务器（使用 UDP 是为了减少开销）。递归服务器得到查询结果后, 将对应 IP 地址放在应答报文中返回给应用进程</p>
<p>域名查询有 <strong>递归查询(recursive query)</strong> 和 <strong>迭代查询(或循环查询，iterative query)</strong> 两种方式</p>
<ul>
<li>主机向递归解析器/本地域名字服务器的查询一般采用 <em>递归查询</em></li>
<li>递归解析器/本地域名字服务器向根服务器可以采用递归查询，但一般优先采用 <em>迭代查询</em></li>
</ul>
<p><img src="./assets/image-20241205112956349.png" alt="image-20241205112956349" style="zoom:33%;" /> <img src="./assets/image-20241205113024376.png" alt="image-20241205113024376" style="zoom:33%;" /></p>
<h5 id="_192">题目<a class="headerlink" href="#_192" title="Permanent link">&para;</a></h5>
<p><img src="./assets/8d091f92b3a5b43e99dfcabdbaf854a.png" alt="8d091f92b3a5b43e99dfcabdbaf854a" style="zoom:50%;" /></p>
<p><img src="./assets/c446e8a44911c673e0d2fc344ef9195.jpg" alt="c446e8a44911c673e0d2fc344ef9195" style="zoom: 25%;" /></p>
<hr />
<p><img src="./assets/image-20250109230045710.png" alt="image-20250109230045710" style="zoom:50%;" /></p>
<p><img src="./assets/image-20250109230031132.png" alt="image-20250109230031132" style="zoom:33%;" /></p>
<h4 id="_193">域名系统查询和响应<a class="headerlink" href="#_193" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20241205113339272.png" alt="image-20241205113339272" style="zoom: 33%;" /></p>
<p><img src="./assets/image-20241205113535556.png" alt="image-20241205113535556" style="zoom: 33%;" /></p>
<p><strong>资源记录部分</strong> 是 DNS 报文格式的最后 3 个字段，只有在 DNS 响应报文中才出现 ，包括 回答问题区域字段、权威名字服务器区域字段、附加信息区域字段。这 3 个字段都采用资源记录的格式</p>
<p>RR 格式：(name, ttl, class, type, value)</p>
<h5 id="dnssec">DNSSEC<a class="headerlink" href="#dnssec" title="Permanent link">&para;</a></h5>
<p>DNSSEC 依靠<strong>数字签名</strong>保证 DNS 应答报文的<strong>真实性和完整性</strong></p>
<p>在DNSSEC的使用中，域名服务器用自己的私有密钥对资源记录(Resource Record, RR)进行签名，解析服务器用域名服务器的公开密钥对收到的应答信息进行验证。如果验证失败，表明这一报文可能是假冒的，或者在传输过程、缓存过程中被篡改了</p>
<h4 id="_194">域名系统高速缓存<a class="headerlink" href="#_194" title="Permanent link">&para;</a></h4>
<p><strong>DNS 高速缓存作用</strong>：为提高 DNS 查询效率，并减轻根域名服务器的负荷和减少 Internet 上的 DNS 查询报文数量，域名服务器广泛使用高速缓存，用来存放最近查询过的域名以及从何处获得域名映射信息的记录</p>
<p>好处：可以大大减轻根域名服务器的负荷，而且也能够使 Internet 上的 DNS 查询请求和回答报文的数量大为减少</p>
<h4 id="_195">域名系统隐私(选讲)<a class="headerlink" href="#_195" title="Permanent link">&para;</a></h4>
<p>QNAME 是用户请求的域名全名，它提供了用户的操作信息</p>
<p>DNS 敏感数据主要的泄露途径：通信链路窃听，服务器收集</p>
<blockquote>
<p>思考题：What happens from opening a URL in a browser to the website being displayed?</p>
<p><a href="https://chatgpt.com/share/675122ac-d0a8-8002-9b88-0c990dcfe05f">https://chatgpt.com/share/675122ac-d0a8-8002-9b88-0c990dcfe05f</a></p>
</blockquote>
<h3 id="_196">电子邮件 🔥<a class="headerlink" href="#_196" title="Permanent link">&para;</a></h3>
<h4 id="_197">电子邮件系统体系结构<a class="headerlink" href="#_197" title="Permanent link">&para;</a></h4>
<p>电子邮件系统采用<strong>客户/服务器（C/S）</strong>工作模式</p>
<ul>
<li>用户代理（UA，user agent）——邮件客户端</li>
<li>
<p>无统一标准</p>
</li>
<li>
<p>传输代理（message transfer agent）——邮件服务器</p>
</li>
</ul>
<h5 id="smtp">SMTP<a class="headerlink" href="#smtp" title="Permanent link">&para;</a></h5>
<p>简单<strong>邮件传输协议 SMTP</strong>（Simple Mail Transfer Protocol）——邮件服务器之间传递邮件使用的协议
- SMTP 利用 TCP 可靠地从客户向服务器传递邮件，使用<strong>端口 25</strong>
- SMTP 的 3 个阶段：连接建立、邮件传送、连接关闭
- SMTP 是一个简单的 ASCII 协议，邮件必须为 7 位 ASCII
- 不包括认证，不能传二进制数据（只能 ASCII），邮件以明文形式出现
- 不能用于接收方用户从服务器上读取邮件</p>
<h4 id="_198">邮件格式<a class="headerlink" href="#_198" title="Permanent link">&para;</a></h4>
<p>RFC 5322—Internet 邮件格式</p>
<ul>
<li>
<p>基本 ASCII 电子邮件使用 RFC 5322</p>
</li>
<li>
<p>最新修订的 Internet 邮件格式，其前身是 RFC 822</p>
</li>
</ul>
<p>MIME(Multipurpose Internet Mail Extensions)—多用途 Internet 邮件扩展</p>
<ul>
<li>
<p>基本格式的多媒体扩展</p>
</li>
<li>
<p>可传输多媒体消息和二进制文件</p>
</li>
</ul>
<h4 id="_199">最终交付协议<a class="headerlink" href="#_199" title="Permanent link">&para;</a></h4>
<h5 id="pop3">POP3 协议<a class="headerlink" href="#pop3" title="Permanent link">&para;</a></h5>
<p>POP(Post Office Protocol)邮局协议</p>
<p>POP3 由 RFC1939 定义，是一个非常简单的最终交付协议</p>
<p>用于用户代理从邮件服务器读取邮件</p>
<ul>
<li>
<p>POP3 使用 C/S 工作方式，在接收邮件的用户 PC 机中必须运行 POP 客户程序，而在用户所连接的 ISP 的邮件服务器中则运行 POP 服务器程序</p>
</li>
<li>
<p>在传输层使用TCP，端口号110</p>
</li>
<li>明文传输密码，不加密</li>
<li>基于ASCII码，若要传输非ACSII码的数据，则要使用MIME将数据转换成ASCII码形式</li>
</ul>
<h5 id="imap">IMAP<a class="headerlink" href="#imap" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>用于最终交付的主要协议</p>
</li>
<li>
<p>IMAP 是较早使用的最终交付协议—POP3(邮局协议，版本 3)的改进版</p>
</li>
<li>
<p>邮件服务器运行侦听端口 143 的 IMAP 服务器</p>
</li>
</ul>
<h3 id="www">WWW🔥<a class="headerlink" href="#www" title="Permanent link">&para;</a></h3>
<h4 id="www_1">WWW 体系结构概述<a class="headerlink" href="#www_1" title="Permanent link">&para;</a></h4>
<p>WWW (World Wide Web)万维网</p>
<ul>
<li>由三个标准构成</li>
<li>统一资源定位符(URL)</li>
<li><a href="# HTTP 协议">超文本传输协议(HTTP)</a></li>
<li>超文本标记语言(HTML)</li>
</ul>
<p>WWW 性能提升方法</p>
<ul>
<li>缓存（caching），如代理技术</li>
<li>多线程（multiple threads）</li>
<li>前端（front end）</li>
</ul>
<h4 id="web">静态 Web（对象）<a class="headerlink" href="#web" title="Permanent link">&para;</a></h4>
<p><img src="./assets/image-20241205122218678.png" alt="image-20241205122218678" style="zoom:50%;" /></p>
<p>HTML 和 XML</p>
<p><img alt="image-20241212100737916" src="assets/image-20241212100737916.png" /></p>
<h4 id="web-web">动态 Web 和 Web 应用<a class="headerlink" href="#web-web" title="Permanent link">&para;</a></h4>
<h5 id="web_1">动态 Web 页面<a class="headerlink" href="#web_1" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>通用网关接口 CGI (*.cgi)</p>
</li>
<li>
<p>脚本语言+数据库技术 (<em>.php, </em>.asp, *.aspx) -服务器端动态网页</p>
</li>
<li>
<p>客户端动态网页（*.js）</p>
</li>
</ul>
<h5 id="cgi">通用网关接口 CGI<a class="headerlink" href="#cgi" title="Permanent link">&para;</a></h5>
<p>CGI (Common Gateway Interface) 是一种标准</p>
<h5 id="_200">脚本语言+数据库技术<a class="headerlink" href="#_200" title="Permanent link">&para;</a></h5>
<p>PHP (Hypertext Preprocessor)</p>
<p>JSP (JavaServer Pages)</p>
<p>ASP.NET (Active Server Pages .NET) </p>
<h5 id="client-side-dynamic-web-page-generation">Client-side dynamic web page generation<a class="headerlink" href="#client-side-dynamic-web-page-generation" title="Permanent link">&para;</a></h5>
<p><strong>JavaScript</strong> 客户端动态 web</p>
<h5 id="web-ajax">典型的动态 Web 技术：AJAX<a class="headerlink" href="#web-ajax" title="Permanent link">&para;</a></h5>
<p><strong>AJAX</strong>：Asynchronous JavaScript and XML</p>
<ul>
<li>
<p>超文本标记语言 HTML+CSS: 用于 Web 网页内容的显示</p>
</li>
<li>
<p>文档对象模型 DOM（Document Object Model）: 文档对象模型 (DOM)是 HTML 和 XML 文档的编程接口，其本质上是页面的 API，允许程序读取和操作页面的内容、结构和样式；采用树形结构组织</p>
</li>
<li>
<p>扩展标记语言 XML（eXtensible Markup Language）：用于程序与服务器交换应用数据</p>
</li>
<li>
<p>异步式工作方式：用于发送和检索 XML 数据</p>
</li>
<li>
<p>JavaScript：用于将以上所有功能进行组合，并协同工作</p>
</li>
</ul>
<p><span style="color:#660066;"> AJAX 不是新的编程语言, 而是一种使用现有标准的新方法 </span></p>
<h4 id="http">HTTP 协议<a class="headerlink" href="#http" title="Permanent link">&para;</a></h4>
<h5 id="_201">概述<a class="headerlink" href="#_201" title="Permanent link">&para;</a></h5>
<p>超文本传输协议 HTTP（ HyperText Transfer Protocol）</p>
<ul>
<li>
<p>在传输层通常使用 <strong>TCP</strong> 协议，<strong>缺省使用 TCP 的 80 端口</strong></p>
</li>
<li>
<p>HTTP 为 <strong>无状态协议</strong>，服务器端 <em>不保留之前请求的状态信息</em></p>
</li>
<li>
<p>无状态协议：效率低、但简单</p>
</li>
<li>
<p>有状态协议：维护状态相对复杂，需要维护历史信息，在客户端或服务器出现故障时，需要保持状态的一致性等</p>
</li>
<li>
<p>更易支持大量并发的请求</p>
</li>
<li>
<p>HTTP既可以使用非持续连接(HTTP/1.0)，也可以使用持续连接(HTTP/1.1支持)</p>
</li>
</ul>
<p><img src="./assets/image-20241212102520898.png" alt="image-20241212102520898" style="zoom: 33%;" /></p>
<h5 id="http_1">HTTP 连接<a class="headerlink" href="#http_1" title="Permanent link">&para;</a></h5>
<p><strong>HTTP/1.0 非持久连接</strong></p>
<ul>
<li>
<p>Connection: close</p>
</li>
<li>
<p>服务器接收请求、响应、关闭TCP 连接</p>
</li>
<li>
<p>获取每个对象需要两阶段</p>
</li>
<li>
<p>建立 TCP 连接</p>
</li>
<li>
<p>对象请求和传输</p>
</li>
<li>
<p>每次连接需要经历 TCP 慢启动阶段</p>
</li>
</ul>
<p><strong>HTTP/1.1 持久连接</strong></p>
<ul>
<li>
<p>Connection: keep-alive</p>
</li>
<li>
<p>在相同的 TCP 连接上，服务器接收请求、响应；再接收请求、响应；响应后保持连接</p>
</li>
<li>
<p>HTTP/1.1 支持流水线机制</p>
</li>
<li>
<p>需要按序响应</p>
</li>
<li>
<p>经历较少的慢启动过程，减少往返时间</p>
</li>
<li>
<p>降低响应时间</p>
</li>
</ul>
<p><img src="./assets/image-20241212103108554.png" alt="image-20241212103108554" style="zoom:50%;" /></p>
<h5 id="_202">思考题<a class="headerlink" href="#_202" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241212104235149.png" alt="image-20241212104235149" style="zoom:40%;" /></p>
<h5 id="http_2">HTTP报文结构<a class="headerlink" href="#http_2" title="Permanent link">&para;</a></h5>
<p>请求报文由三个部分组成，即开始行、首部行和实体主体</p>
<p><img src="./assets/image-20250110092043633.png" alt="image-20250110092043633" style="zoom:33%;" /></p>
<ul>
<li>
<p>方法：对所请求的对象进行的操作，实际上也就是一些命令</p>
</li>
<li>
<p>请求报文的类型是由它所采用的方法决定的</p>
<p><img src="./assets/image-20250110092140183.png" alt="image-20250110092140183" style="zoom:33%;" /></p>
</li>
</ul>
<h4 id="web-web_1">Web 缓存技术与 Web 代理<a class="headerlink" href="#web-web_1" title="Permanent link">&para;</a></h4>
<h5 id="_203">浏览器缓存<a class="headerlink" href="#_203" title="Permanent link">&para;</a></h5>
<ul>
<li>目标：再次访问缓存在浏览器主机中的 Web 页副本，不必从原始服务器读取</li>
</ul>
<p><img src="./assets/image-20241212104929914.png" alt="image-20241212104929914" style="zoom: 33%;" /></p>
<h5 id="web_2">Web 代理服务器缓存<a class="headerlink" href="#web_2" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>目标：代理服务器缓存已访问过的 Web 页副本，满足用户浏览器从代理服务器提取 Web 页，尽量减少原始服务器参与</p>
</li>
<li>
<p>设置用户浏览器，通过代理服务器进行 Web 访问</p>
</li>
<li>
<p>浏览器将所有的 HTTP 请求发送到代理服务器</p>
</li>
<li>
<p>如果缓存中有被请求的对象，则直接返回对象</p>
</li>
<li>
<p>否则，代理服务器向原始服务器请求对象，再将对象返回给客户端</p>
</li>
</ul>
<p><span style="color:#FF0000;"> 降低时延、减少网络流量 </span></p>
<h5 id="web_3">Web 代理服务器缓存性能分析<a class="headerlink" href="#web_3" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241212105412878.png" alt="image-20241212105412878" style="zoom: 33%;" /></p>
<p><img src="./assets/image-20241212105429447.png" alt="image-20241212105429447" style="zoom:50%;" /></p>
<p>Web 缓存存在的困难，即 Web 缓存与原始服务器 Web 页一致性问题</p>
<ul>
<li>
<p><strong>启发式策略</strong>：服务器响应 Web 页的 Last-Modified 头和 Expires 头启发，原始 Web 页一段时间没更改，最近一段时间也不会更改。Expires 头很少用</p>
</li>
<li>
<p><strong>询问式策略</strong>：通过特殊的关键字头询问原始服务器，Web 副本是否已更新</p>
</li>
</ul>
<h4 id="web_4">Web 安全与隐私<a class="headerlink" href="#web_4" title="Permanent link">&para;</a></h4>
<h5 id="web_5">Web 访问安全<a class="headerlink" href="#web_5" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>无状态：客户端需要在每个请求中携带认证信息</p>
</li>
<li>
<p>认证方法：通常在 HTTP 请求中使用“用户名-密码” </p>
</li>
<li>
<p>每个请求头中包含关键字 authorization: </p>
</li>
<li>
<p>如果请求头中无 authorization: ，则服务器拒绝访问，并在响应头中包含 WWW authenticate：</p>
</li>
</ul>
<h5 id="cookie">Cookie<a class="headerlink" href="#cookie" title="Permanent link">&para;</a></h5>
<p>HTTP 无状态协议，服务器用 cookies 保持用户状态</p>
<ul>
<li>HTTP 在响应的首部行里使用一个关键字头 set-cookie：</li>
</ul>
<p>选择的 cookie 号具有唯一性</p>
<ul>
<li>
<p>后继的 HTTP 请求中使用服务器响应分配的 cookie： </p>
</li>
<li>
<p>Cookie 文件保存在用户的主机中，内容是服务器返回</p>
</li>
</ul>
<p>的一些附加信息，由用户主机中的浏览器管理</p>
<ul>
<li>Web 服务器建立后端数据库，记录用户信息，cookie 作为关键字</li>
</ul>
<p>Cookie 技术是把双刃剑，能分析用户喜好，向用户进行个性化推荐</p>
<p>Cookie 技术是把双刃剑，也能跟踪用户网络浏览痕迹，泄露用户隐私</p>
<blockquote>
<p>[!CAUTION]</p>
<p>误区：Cookie 容易嵌入间谍程序</p>
<p>Cookie 文件保存的只是文本串，没有可执行程序，不会被嵌入间谍程序</p>
<ul>
<li>用户可以设置浏览器限制使用 Cookie</li>
</ul>
</blockquote>
<h3 id="_204">流式音频和视频<a class="headerlink" href="#_204" title="Permanent link">&para;</a></h3>
<h4 id="_205">流媒体概述<a class="headerlink" href="#_205" title="Permanent link">&para;</a></h4>
<p>常见的流媒体服务：</p>
<ul>
<li>点播：提前录制好，边下载边播放（起始时延 &lt; 10s；类 VCR 操作（例如拖动进度条）&lt; 1~2s） </li>
<li>直播：边录制边上传，边下载边播放（大规模直播往往有数秒的时延）</li>
<li>实时交互 ：双方或多方实时交互式通信（时延 &lt; 400ms 可接受，VR 则需要 &lt; 25ms）</li>
</ul>
<p>流媒体的特性：</p>
<ul>
<li>
<p>端到端时延约束</p>
</li>
<li>
<p>时序性约束：流媒体数据必须按照一定的顺序连续播放</p>
</li>
<li>
<p>具有一定程度的容错性：丢失部分数据包也可完成基本功能</p>
</li>
</ul>
<h4 id="_206">数字音视频与编码<a class="headerlink" href="#_206" title="Permanent link">&para;</a></h4>
<p>MPEG 视频压缩</p>
<p>I 帧必须周期性地出现在媒体流中</p>
<h4 id="_207">直播与实时音视频<a class="headerlink" href="#_207" title="Permanent link">&para;</a></h4>
<p>实际流媒体系统往往先尝试 UDP，如果失败则转为 TCP</p>
<p>实时流式协议 RTSP (Real-Time Streaming Protocol) </p>
<p>实时传输协议 RTP (Real-time Transport Protocol) </p>
<p>实时传输控制协议 RTCP (RTP Control Protocol) </p>
<p>网页实时通信 WebRTC（Web Real-Time Communication） </p>
<h3 id="_208">内容分发<a class="headerlink" href="#_208" title="Permanent link">&para;</a></h3>
<h4 id="internet_1">内容和 Internet 流量<a class="headerlink" href="#internet_1" title="Permanent link">&para;</a></h4>
<p>内容分发，尤其是视频，是 Internet 流量的一个重要构成</p>
<h4 id="web_6">服务器群和 Web 代理<a class="headerlink" href="#web_6" title="Permanent link">&para;</a></h4>
<p>➢ 代理缓存帮助组织扩展 Web</p>
<ul>
<li>
<p>将服务器内容缓存到客户上以提高性能</p>
</li>
<li>
<p>实现组织的策略(如访问策略)</p>
</li>
</ul>
<h4 id="cdn">内容分发网络 CDN<a class="headerlink" href="#cdn" title="Permanent link">&para;</a></h4>
<p>怎样将内容（如 从百万的视频中选定的内容）分发给同时发起访问的数百万用户？</p>
<ul>
<li>单个、大型的“服务器”？</li>
<li>单点故障，网络拥塞，远程用户的长路径</li>
<li>显然，这种解决方案 <span style="color:#990099;"> 可扩展性差 </span></li>
</ul>
<p>内容分发网络 CDN（Content Delivery Network，or Content Distribution Network）</p>
<ul>
<li>
<p>基本思想源于 MIT 对 Web 服务瞬间拥塞问题的解决（1998） </p>
</li>
<li>
<p>一种 Web 缓存系统，靠近 <strong>网络边缘（用户）</strong> 提供内容服务</p>
</li>
<li>
<p>目前提供更丰富的服务，包括静态内容、流媒体、用户上传视频等</p>
</li>
<li>
<p>主要优点</p>
</li>
<li>降低响应时延，避免网络拥塞</li>
<li>避免原始服务器过载及防止 DDoS 攻击</li>
<li>分布式架构，具有良好的可扩展性</li>
<li>对用户透明，无需用户感知</li>
</ul>
<p><span style="color:#FF0000;"> DNS 重定向实现 CDN </span></p>
<p>将请求调度到较近或负载较轻的 CDN 服务器</p>
<p>➢ HTTP 重定向请求内容，服务提供者返回清单 CDN</p>
<ul>
<li>
<p>原始服务器决策 CDN 服务器</p>
</li>
<li>
<p>HTTP 响应：状态码 30X，Location：指明新的位置</p>
</li>
</ul>
<p><span style="color:#FF0000;"> DNS 辅助实现 CDN </span></p>
<h4 id="p2p">P2P 网络实现内容分发<a class="headerlink" href="#p2p" title="Permanent link">&para;</a></h4>
<p>P2P 文件分发协议：BitTorrent</p>
<ul>
<li>
<p>文件被划分为 256Kb 大小的块</p>
</li>
<li>
<p>具有种子(torrents)的节点发送或接收文件</p>
</li>
</ul>
<p>分布式哈希表（Distributed Hash Tables ，<strong>DHT</strong> s) 是一个完全分布式索引，可扩展到多客户端（或实体）</p>
<h3 id="_209">其它应用层协议<a class="headerlink" href="#_209" title="Permanent link">&para;</a></h3>
<h4 id="telnet">Telnet<a class="headerlink" href="#telnet" title="Permanent link">&para;</a></h4>
<p>1983 年由 RFC 854 确定为 Internet 标准</p>
<p>Telnet 协议使用 C/S 方式实现</p>
<p>Telnet 协议使用 TCP 连接通信，服务器进程默认监听 TCP23 端口</p>
<p>Telnet 协议引入网络虚拟终端 NVT（Network Virtual Terminal）</p>
<p>NVT 是 Telnet 协议定义的一组通用字符集</p>
<p>使用 Telnet 协议在网络中传输的数据都是 NVT 格式，不同的用户终端与服务器进程均与本地终端格式无关</p>
<h4 id="ftp">FTP<a class="headerlink" href="#ftp" title="Permanent link">&para;</a></h4>
<p><strong>文件传输协议 FTP(File Transfer Protocol)</strong>是 Internet 上使用最广泛的应用层协议之一</p>
<p>RFC 959 早在 1985 年就已经成为 Internet 的正式标准</p>
<p>FTP 使用 <strong>C/S</strong> 方式实现，使用TCP可靠的传输服务</p>
<ul>
<li>
<p>允许客户指明文件的类型与格式</p>
</li>
<li>
<p>服务器主进程打开 TCP21 端口，等待客户进程发出的连接请求</p>
</li>
<li>
<p>客户请求到来时，服务器主进程启动从属进程来处理客户进程发来的请求</p>
</li>
</ul>
<p>FTP 的两个端口与两个连接</p>
<ul>
<li>
<p><strong>控制连接在整个会话期间一直保持</strong>，客户进程发出的文件传输请求通过控制连接发送给服务器<strong>控制进程（工作在 TCP21 端口）</strong>，但控制连接不用来传输文件</p>
</li>
<li>
<p>服务器控制进程在接收到客户进程发送来的文件传输请求后就创建数据<strong>传输进程（工作在 TCP20 端口）</strong>和数据连接</p>
</li>
<li>
<p>端口号指的都是服务器的端口号！</p>
</li>
<li>
<p>数据连接用来连接客户进程和服务器数据传输进程，实际完成文件的传输。服务器数据传输进程在文件传输完毕后关闭数据连接并结束运行</p>
</li>
</ul>
<p>FTP服务器的数据要经过应用层、传输层、网络层、数据链路层及物理层。因此，对应的封装是数据、数据段、数据报、数据帧，最后是比特。</p>
<hr />
<p>简单文件传输协议 TFTP (Trivial File Transfer Protocol)</p>
<p>使用 C/S 方式和 UDP 协议实现</p>
<ul>
<li>只支持文件传输而不支持交互</li>
</ul>
<p>TFTP 的工作过程类似停止-等待协议</p>
<p>UDP 端口号为 69</p>
<h4 id="snmp">SNMP<a class="headerlink" href="#snmp" title="Permanent link">&para;</a></h4>
<p>使用 UPD 协议，以简化设计和降低通信开销</p>
<p>SNMP 使用 C/S 方式实现</p>
<ul>
<li>代理运行服务器端进程在 UPD 端口 161 接收 get 或 set 报文以及发送 response 报文， 与 161 端口通信的客户端进程则使用临时端口</li>
<li>管理器运行客户端进程在 UPD 端口 162 接收来自代理的 trap 报文</li>
</ul>
<h3 id="_210">总结<a class="headerlink" href="#_210" title="Permanent link">&para;</a></h3>
<p>使用 UDP 和 TCP 的典型应用和应用层协议</p>
<p><img src="./assets/image-20250110223859872.png" alt="image-20250110223859872" style="zoom:50%;" /></p>
<h2 id="_211">网络安全<a class="headerlink" href="#_211" title="Permanent link">&para;</a></h2>
<h3 id="_212">网络安全的基本属性<a class="headerlink" href="#_212" title="Permanent link">&para;</a></h3>
<p>破坏数据机密性、完整性，系统的可用性、可认证性、不可抵赖性、可控性</p>
<p>木桶原理</p>
<p>伴生攻击</p>
<p>有线网络和无线网络中的窃听</p>
<h3 id="_213">网络攻击与威胁<a class="headerlink" href="#_213" title="Permanent link">&para;</a></h3>
<p>被动式攻击</p>
<ul>
<li>
<p>窃听 Eavesdropping</p>
</li>
<li>
<p>嗅探 Sniffing </p>
</li>
</ul>
<p>主动式攻击</p>
<ul>
<li>
<p>网络欺骗 Spoofing </p>
</li>
<li>
<p>干扰与瘫痪 Disruption(DDos)</p>
</li>
</ul>
<h4 id="_214">窃听<a class="headerlink" href="#_214" title="Permanent link">&para;</a></h4>
<h4 id="_215">嗅探<a class="headerlink" href="#_215" title="Permanent link">&para;</a></h4>
<h4 id="arp">ARP 协议<a class="headerlink" href="#arp" title="Permanent link">&para;</a></h4>
<p><strong>ARP 缓存</strong>：保存网络中各个电脑的 IP 地址和 MAC 地址的对照关系</p>
<p>有以下两种可能的攻击：</p>
<ul>
<li>
<p>对路由器 ARP 表的欺骗</p>
</li>
<li>
<p>对局域网内 PC 的网关欺骗</p>
</li>
</ul>
<h5 id="arp_1">ARP 欺骗 – “毒化”<a class="headerlink" href="#arp_1" title="Permanent link">&para;</a></h5>
<p>目标</p>
<ul>
<li>使 ARP 缓存中毒，又称“毒化” </li>
<li>进行中间人攻击</li>
<li>使所有从目标主机传出的流量传输到攻击者的主机</li>
</ul>
<p>方法</p>
<ul>
<li>
<p>伪造 ARP 回复（伪造 IP 地址，MAC 地址是真实的）</p>
</li>
<li>
<p>对整个网络欺骗</p>
</li>
</ul>
<h4 id="deny-of-service">拒绝服务攻击（Deny of Service）<a class="headerlink" href="#deny-of-service" title="Permanent link">&para;</a></h4>
<p><strong>目标：</strong> 瘫痪服务乃至整个网络</p>
<p><strong>手段</strong></p>
<ul>
<li>大量的，超过处理能力的请求/流量</li>
</ul>
<p><strong>效果</strong></p>
<ul>
<li>
<p>攻击者：不费劲</p>
</li>
<li>
<p>目标：代价高昂</p>
</li>
</ul>
<p><strong>类型</strong></p>
<ul>
<li>
<p>系统缺陷：不对称协议、返回服务器状态或计算结果</p>
</li>
<li>
<p>洪泛攻击：控制大量僵尸机器/网络发送请求</p>
</li>
</ul>
<h5 id="_216">网络各层中的拒绝服务攻击<a class="headerlink" href="#_216" title="Permanent link">&para;</a></h5>
<p>链路层/网络层: 对路由器交换机发送大量流量
传输层：请求服务器保持大量连接或者特定状态
应用层：请求大量复杂查询、加密等高开销操作</p>
<h5 id="syn-floods">SYN Floods<a class="headerlink" href="#syn-floods" title="Permanent link">&para;</a></h5>
<p>TCP 三次握手中，攻击者伪造大量 SYN 包发送到服务器端，产生大量半连接（不发生 ACK）</p>
<p>不实际的解决方案: </p>
<ul>
<li>
<p>增加队列规模 （Increase backlog queue size） </p>
</li>
<li>
<p>减少计时器的时长（减小 timeout）</p>
</li>
</ul>
<p>可行的解决方案：</p>
<ul>
<li>避免保持状态（用 cookie）</li>
</ul>
<h4 id="_217">放大攻击<a class="headerlink" href="#_217" title="Permanent link">&para;</a></h4>
<p>原理</p>
<ul>
<li>
<p>请求所需的包很少（1 个或少量）</p>
</li>
<li>
<p>服务器端响应需要很多包</p>
</li>
<li>
<p>可用于放大 Dos 攻击效果</p>
</li>
</ul>
<p>攻击方式</p>
<ul>
<li>
<p>伪造报文的源地址</p>
</li>
<li>
<p>将源地址设为攻击目标的 IP 地址</p>
</li>
<li>
<p>服务器将大量响应报文发送给目标</p>
</li>
</ul>
<p>必要条件</p>
<ul>
<li>
<p>攻击者需要准备大量的服务请求</p>
</li>
<li>
<p>否则目标将通过简单的丢包化解</p>
</li>
</ul>
<h4 id="mac-flooding">MAC Flooding<a class="headerlink" href="#mac-flooding" title="Permanent link">&para;</a></h4>
<p>攻击者对交换机发送很多非法的、包含不同源 MAC 地址的封包</p>
<p>交换机会把所有这些 MAC 地址记录到自己 的 CAM(Content Addressable Memory) 表之中。</p>
<p>当这些记录超过交换机所能承载的内存的时候，MAC flooding 的效果就达成了。</p>
<p>这时，交换机就变成了集线器，对所有信息进行无定向广播。</p>
<h3 id="_218">安全机制与手段<a class="headerlink" href="#_218" title="Permanent link">&para;</a></h3>
<h4 id="_219">密码学<a class="headerlink" href="#_219" title="Permanent link">&para;</a></h4>
<p>密码原则</p>
<p><strong>Kerckhoffs 原则</strong>：即使密码系统的任何细节已为人悉知，只要密钥（key）未泄漏，它也应是安全的。<span style="color:#000099;"> 秘密 = key and 秘密 ≠ 加密算法 </span></p>
<p>Shannon 提出加密的两个基本方法——扩散和混淆</p>
<p>Encryption and decryption:</p>
<p>• Encryption: E<sub>k</sub>(P) = C. </p>
<p>• Decryption: D<sub>k</sub>(C) = D<sub>k</sub>( E<sub>k</sub>(P) ) = P. </p>
<p>From the cryptanalyst's point of view, the cryptanalysis problem has three principal variations: </p>
<p>• ciphertext only, 唯密文</p>
<p>• known plaintext, and 已知明文</p>
<p>• chosen plaintext. 选择明文（最难防）</p>
<p>To achieve security, the cryptographer should be conservative and make sure that the system is unbreakable even if his opponent can encrypt arbitrary amounts of chosen plaintext. </p>
<h5 id="substitution-ciphers">Substitution Ciphers 替换密码<a class="headerlink" href="#substitution-ciphers" title="Permanent link">&para;</a></h5>
<h5 id="transposition-ciphers">Transposition Ciphers 换位密码<a class="headerlink" href="#transposition-ciphers" title="Permanent link">&para;</a></h5>
<p><img src="./assets/image-20241219105144977.png" alt="image-20241219105144977" style="zoom:50%;" /></p>
<h5 id="one-time-pads">One-Time Pads<a class="headerlink" href="#one-time-pads" title="Permanent link">&para;</a></h5>
<h4 id="_220">现代加密算法<a class="headerlink" href="#_220" title="Permanent link">&para;</a></h4>
<h5 id="_221">对称密码学<a class="headerlink" href="#_221" title="Permanent link">&para;</a></h5>
<p>加密密钥与解密密钥都使用相同密钥的密码体制</p>
<ol>
<li>
<p><strong>Feistel 结构</strong> —— 对合密码/乘积密码（重要开端）</p>
</li>
<li>
<p><strong>DES</strong>（Data Encryption Standard）算法（门禁系统）；<strong>3DES</strong>（银行系统）
   - 分组 64bit，密钥 56bit+8bit 奇偶校验码 = 64bit</p>
</li>
<li>
<p>IDEA</p>
</li>
<li><strong>AES</strong>（当前安全！）
   - 密钥可以是 128bit,192bit,256bit
   - AES 在当前网络空间是足够安全的，除非部署未达到标准，或者是运行模式不合理</li>
</ol>
<h5 id="cipher-modes">Cipher Modes<a class="headerlink" href="#cipher-modes" title="Permanent link">&para;</a></h5>
<p><strong>Electronic Code Book Mode (ECB)</strong></p>
<p>对称密码存在的问题</p>
<p>加密能力与解密能力是捆绑在一起的</p>
<p>• 能加密即能解密，能解密也能加密</p>
<p>• 不能实现数字签名</p>
<p>密钥更换、传递和交换需要可靠信道，密钥分发困难</p>
<p>密钥管理困难</p>
<p>• 如有 N 用户，则需要 C = N(N-1)/2 个密钥，N = 1000 时，C(1000,2)≈500000</p>
<p>无法满足不相识的人之间通信的保密要求</p>
<h5 id="_222">非对称密码学（掌握）<a class="headerlink" href="#_222" title="Permanent link">&para;</a></h5>
<p>不同的加密密钥与解密密钥</p>
<p>本质上是寻找到陷门单向函数</p>
<p>对称+非对称 = 混合密码学</p>
<ul>
<li>
<p>解决了密钥分发/密钥交换难题，但是存在中间人伪装的攻击风险</p>
</li>
<li>
<p>解决方案：对带有数字签名的公钥进行认证</p>
</li>
</ul>
<ol>
<li><strong>RSA 公钥密码</strong>（掌握）
   - RSA的安全性<ul>
<li>① 穷举攻击：尝试所有可能的密钥
   ② 数学攻击：对两个素数乘积的因子分解(FAC问题)
   ③ 计时攻击：依赖于解密算法的运行时间
   ④ 选择密文攻击：利用了RSA算法的性质</li>
</ul>
</li>
<li>椭圆曲线密码 ECC</li>
<li>密钥分发 —— D-H 算法
   - D-H 算法存在中间人攻击风险</li>
</ol>
<h4 id="_223">数字签名与报文完整性<a class="headerlink" href="#_223" title="Permanent link">&para;</a></h4>
<p>数字签名 = 公钥加密的逆应用 = 私钥运算+公钥验证</p>
<p>接收者可以凭借消息上所附加的某种东西，确认发信人的身份。这种东西，就是签名。</p>
<h5 id="hash">散列函数（HASH）<a class="headerlink" href="#hash" title="Permanent link">&para;</a></h5>
<p>实用的单向密码散列函数：MD5, SHA-1</p>
<p>散列函数问题：可以防篡改，但不能防伪造，不能真正实现报文鉴别</p>
<h5 id="_224">消息验证码<a class="headerlink" href="#_224" title="Permanent link">&para;</a></h5>
<p>消息认证码(Message Authentication Code MAC)</p>
<ul>
<li>MAC = 消息摘要+报文鉴别码</li>
<li>HMAC (Hash MAC)是一种使用单向散列函数来构造消息认证码的方法</li>
<li>消息认证码不能解决的问题：</li>
<li>对第三方证明</li>
<li>防止否认，消息认证码无法防止否认，是因为消息认证码需要在发送者和接收者两者之间共享一个密钥</li>
</ul>
<p>公钥证书（Public-Key Certificate，PKC）= 驾照</p>
<ul>
<li>驾照包含：姓名、组织、邮箱、地址等个人信息，以及属于此人的公钥，并由官方认证机构（Certification Authority，CA）施加数字签名。</li>
<li>X.509 是一种公钥证书生成和交换的标准规范</li>
<li>CA 签名后不可更改</li>
</ul>
<p><img src="./assets/image-20241219121619227.png" alt="image-20241219121619227" style="zoom:33%;" /></p>
<h4 id="_225">认证协议<a class="headerlink" href="#_225" title="Permanent link">&para;</a></h4>
<p>Shared Secret Key：Two-way authentication using a <strong>challenge-response</strong> protocol. (Incorrect)</p>
<p><strong>The reflection attack 反射攻击</strong></p>
<p><img src="./assets/image-20241226100804059.png" alt="image-20241226100804059" style="zoom:50%;" /></p>
<p><strong>Authentication using HMACs. (CORRECT)</strong> (Hashed Message Authentication Code)</p>
<h3 id="_226">电子邮件安全<a class="headerlink" href="#_226" title="Permanent link">&para;</a></h3>
<h4 id="_227">安全电子邮件属性<a class="headerlink" href="#_227" title="Permanent link">&para;</a></h4>
<p>保密性——加密</p>
<p>完整性和可验证性——哈希私钥签名（明文发，不保证保密性）</p>
<p>保密性、完整性和可验证性——三个密钥：私钥、随机生成的新对称密钥和对方的公钥</p>
<h4 id="pgp">优良保密协议 PGP<a class="headerlink" href="#pgp" title="Permanent link">&para;</a></h4>
<p>PGP(Pretty Good Privacy)  是一个完整的电子邮件安全软件包，提供了对邮件的加密、鉴别、电子签名和压缩等技术</p>
<p>PGP 综合应用了现有的 MD5，RSA 和 IDEA 等密码算法</p>
<p><img src="./assets/image-20241226102313133.png" alt="image-20241226102313133" style="zoom:50%;" /></p>
<h4 id="smime">安全多功能互联网邮件扩展 S/MIME<a class="headerlink" href="#smime" title="Permanent link">&para;</a></h4>
<h3 id="web_7">Web 安全<a class="headerlink" href="#web_7" title="Permanent link">&para;</a></h3>
<h4 id="_228">定义<a class="headerlink" href="#_228" title="Permanent link">&para;</a></h4>
<h4 id="_229">风险分析<a class="headerlink" href="#_229" title="Permanent link">&para;</a></h4>
<h4 id="_230">常见攻击方式<a class="headerlink" href="#_230" title="Permanent link">&para;</a></h4>
<p>攻击常见形式</p>
<p>• SQL 注入</p>
<p>• XSS（跨站脚本攻击）</p>
<p>• 点击劫持</p>
<p>• 木马</p>
<h3 id="_231">通信安全<a class="headerlink" href="#_231" title="Permanent link">&para;</a></h3>
<h4 id="_232">传输层安全<a class="headerlink" href="#_232" title="Permanent link">&para;</a></h4>
<h5 id="ssl">安全套接字层协议 SSL<a class="headerlink" href="#ssl" title="Permanent link">&para;</a></h5>
<p>安全套接字层 SSL (Secure Socket Layer) 是一种在 <strong>应用层协议</strong>(如 http、telnet、NNTP、FTP)和 TCP/IP 之间提供数据安全性分层的机制。它为 TCP/IP 连接提供数据加密、服务器认证、消息完整性以及可选的客户机认证。</p>
<h5 id="tls">安全传输层协议 TLS<a class="headerlink" href="#tls" title="Permanent link">&para;</a></h5>
<p>运输层安全 TLS (Transport Layer Security) 在<strong>传输层</strong> 之上广泛部署的安全协议</p>
<ul>
<li>可用于任何应用层协议</li>
<li>几乎所有浏览器都支持，web 服务器：https（端口 443）</li>
</ul>
<p>提供以下安全保障: </p>
<p>• 机密性：<em>通过对称加密实现</em></p>
<p>• 完整性：<em>通过加密哈希实现</em></p>
<p>• 身份验证：<em>通过公钥加密实现</em></p>
<p>建立一个轻量级的 TLS(t-tls)需要准备哪些步骤？</p>
<ol>
<li>
<p>握手：通信双方使用各自证书和私钥相互认证，交换或创建共享秘密</p>
</li>
<li>
<p>密钥生成：通信双方使用共享密钥生成密钥集</p>
</li>
<li>
<p>数据传输：流数据传输：作为一系列记录的数据
   - 不仅仅是一次性交易</p>
</li>
<li>连接关闭：关闭 TLS 连接之前，A 或 B 应当先发送关闭 TLS 的记录，以防止截断攻击 (truncation attack)</li>
</ol>
<p><img src="./assets/image-20241226104127414.png" alt="image-20241226104127414" style="zoom: 33%;" /></p>
<h5 id="https">超文本传输协议安全 HTTPS<a class="headerlink" href="#https" title="Permanent link">&para;</a></h5>
<p>HTTPS 是以安全为目标的 HTTP 通道，是 HTTP 的安全版，在 HTTP 协议应用层和传输层之间加了一层 SSL/TSL 安全层，<strong>HTTPS 安全基础是基于 SSL/TSL 协议</strong></p>
<h4 id="_233">网络层安全<a class="headerlink" href="#_233" title="Permanent link">&para;</a></h4>
<h5 id="ip-sec">IP Sec（有印象就行）<a class="headerlink" href="#ip-sec" title="Permanent link">&para;</a></h5>
<p>网络层协议（IP）几乎没有提供安全保护机制，且存在安全漏洞</p>
<p>IP Sec 是在 IP 层提供互联网通信安全的协议族和安全框架</p>
<p><img src="./assets/image-20241226104329819.png" alt="image-20241226104329819" style="zoom:50%;" /></p>
<p>IP 安全数据报有两种工作模式：传输模式(transport mode)和隧道模式(tunnel mode)</p>
<ul>
<li>隧道方式常用来实现虚拟专用网 VPN</li>
</ul>
<p>安全关联(SA)：在发送 IP 安全数据报之前，在源实体和目的实体之间必须创建一条网络层的逻辑连接</p>
<p>IPsec 把传统互联网无连接的网络层转换为具有逻辑连接的网络层</p>
<h4 id="_234">虚拟专用网<a class="headerlink" href="#_234" title="Permanent link">&para;</a></h4>
<p>按 VPN 的协议分类</p>
<p>• VPN 的隧道协议主要有三种，PPTP、L2TP 和 IPSec，其中</p>
<p>PPTP 和 L2TP 协议工作在 OSI 模型的第二层，又称为二层隧道</p>
<p>协议；IPSec 是第三层隧道协议</p>
<p>按所用的设备类型进行分类</p>
<p>• 路由器式 VPN：路由器式 VPN 部署较容易，只要在路由器上添加 VPN 服务即可</p>
<p>• 交换机式 VPN：主要应用于连接用户较少的 VPN 网络</p>
<p>• 防火墙式 VPN：防火墙式 VPN 是最常见的一种 VPN 的实现方式，许多厂商都提供这种配置类型</p>
<h4 id="_235">无线安全<a class="headerlink" href="#_235" title="Permanent link">&para;</a></h4>
<p>802.11i: 认证和加密</p>
<p>需要加入网络的移动终端必须遵循: </p>
<p>与接入点关联：建立无线链接通信</p>
<p>网络对移动终端进行身份认证</p>
<h3 id="_236">系统与运行安全<a class="headerlink" href="#_236" title="Permanent link">&para;</a></h3>
<p>病毒、木马与恶意代码</p>
<h4 id="_237">防火墙<a class="headerlink" href="#_237" title="Permanent link">&para;</a></h4>
<p>一种访问控制技术，通过严格控制进出网络边界的分组，禁止任何不必要的通信，从而减少潜在入侵的发生，尽可能降低这类安全威胁所带来的安全风险。</p>
<ul>
<li>访问控制策略由使用防火墙的单位自行制定</li>
</ul>
<p>两类防火墙技术</p>
<ul>
<li>分组过滤路由器</li>
<li>过滤规则：基于分组的网络层或运输层首部信息，例如：源/目的IP地址、源/目的端口、协议类型（TCP 或 UDP），等等</li>
<li>应用网关，也称为代理服务器 (proxy server)</li>
<li>对报文进行中继，实现基于应用层数据的过滤和高层用户鉴别</li>
</ul>
<p>入侵检测系统</p>
<h4 id="_238">沙盒与隔离<a class="headerlink" href="#_238" title="Permanent link">&para;</a></h4>
<p>沙盒(sandbox，又译为沙箱)，通过重定向技术，把程序生成和修改的文件，定向到自身文件夹中</p>
<p>蜜罐（Honeypot） </p>
<ul>
<li>
<p>本质上是一种对攻击方进行欺骗的技术</p>
</li>
<li>
<p>通过布置一些作为诱饵的主机、网络服务或者信息，诱使攻击方对它们实施攻击，从而可以对攻击行为进行捕获和分析</p>
</li>
</ul>
<h3 id="_239">安全技术前沿与未来发展<a class="headerlink" href="#_239" title="Permanent link">&para;</a></h3>
<h4 id="_240">量子密码<a class="headerlink" href="#_240" title="Permanent link">&para;</a></h4>
<p>量子（quantum）是现代物理的重要概念。即一个物理量如果存在最小的不可分割的基本单位，则这个物理量是量子化的，并把最小单位称为量子。</p>
<p>量子密码学（Quantum Cryptography），泛指利用量子力学的特性来加密的科学</p>
<p>经典实例：量子密钥分发 ——BB84 协议</p>
<p>窃听量子信道会破坏数据——比较安全</p>
<h4 id="_241">物联网安全<a class="headerlink" href="#_241" title="Permanent link">&para;</a></h4>
<h4 id="_242">应急响应<a class="headerlink" href="#_242" title="Permanent link">&para;</a></h4>
<h4 id="_243">风险评估<a class="headerlink" href="#_243" title="Permanent link">&para;</a></h4>
<h4 id="_244">等级保护<a class="headerlink" href="#_244" title="Permanent link">&para;</a></h4>
<h2 id="ppt">PPT 例题<a class="headerlink" href="#ppt" title="Permanent link">&para;</a></h2>
<p>1.<img src="../images/image-20240912113647866.png" alt="image-20240912113647866" style="zoom:50%;" /></p>
<blockquote>
<p>D</p>
</blockquote>
<ol start="2">
<li></li>
<li></li>
</ol>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2025年10月10日 00:34:04 CST">2025年10月10日 00:34:04</span>
  </span>

    
    
    
    
  </aside>




<div id="__comments">
  
    <h2 ><!-- 评论 -->评论区~</h2>
    
    有用的话请给我个赞和 star => <a href="https://cindyzhou2003.github.io/mymkdocs/">
        <img alt="GitHub stars" src="https://img.shields.io/github/stars/CindyZhou2003/mymkdocs.svg?style=plastic&amp;label=Stars"></a>
    
    
    </div>
    <script src="https://giscus.app/client.js"
        data-repo="CindyZhou2003/mymkdocs"
        data-repo-id="R_kgDOJHRt5g"
        data-category="General"
        data-category-id="DIC_kwDOJHRt5s4Cge0r"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>

        updateScheme();

    </script>
    
    
    <!-- Synchronize Giscus theme with palette -->
    <script>
    var giscus = document.querySelector("script[src*=giscus]")
    
    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate" ? "dark" : "light"
        giscus.setAttribute("data-theme", theme) 
    }
    
    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
        var ref = document.querySelector("[data-md-component=palette]")
        ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
            var theme = palette.color.scheme === "slate" ? "dark" : "light"
            localStorage.setItem("data-md-color-scheme", palette.color.scheme === "slate" ? "slate" : "default");
            /* Instruct Giscus to change theme */
            var frame = document.querySelector(".giscus-frame")
            frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
            )
        }
        })
    })
    </script>
                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="OS.html" class="md-footer__link md-footer__link--prev" aria-label="上一页: 操作系统">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                操作系统
              </div>
            </div>
          </a>
        
        
          
          <a href="%E6%AF%9B%E6%A6%82.html" class="md-footer__link md-footer__link--next" aria-label="下一页: 毛概">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                毛概
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024-2025 <a href="https://github.com/CindyZhou2003/mymkdocs"  target="_blank" rel="noopener">Cindy</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/CindyZhou2003/mymkdocs" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.annotate", "navigation.indexes", "navigation.expand", "toc.follow", "navigation.top", "search.suggest", "navigation.footer", "navigation.tabs", "navigation.tracking", "navigation.instant.progress", "content.code.copy", "search.highlight", "search.share", "content.code.annotate", "navigation.tabs"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="https://gcore.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
      
        <script src="../js/katex.js"></script>
      
        <script src="../js/tablesort.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>